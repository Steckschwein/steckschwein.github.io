<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Steckschwein</title><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Never trust a computer you did not build yourself."><meta name=generator content="Hugo 0.101.0"><meta name=robots content="noindex, nofollow"><link rel=stylesheet href=/ananke/css/main.min.css><link href=/categories/index.xml rel=alternate type=application/rss+xml title=Steckschwein><link href=/categories/index.xml rel=feed type=application/rss+xml title=Steckschwein><meta property="og:title" content="Categories"><meta property="og:description" content="Never trust a computer you did not build yourself."><meta property="og:type" content="website"><meta property="og:url" content="https://steckschwein.github.io/categories/"><meta itemprop=name content="Categories"><meta itemprop=description content="Never trust a computer you did not build yourself."><meta name=twitter:card content="summary"><meta name=twitter:title content="Categories"><meta name=twitter:description content="Never trust a computer you did not build yourself."></head><body class="ma0 avenir bg-near-white"><header><div class="pb3-m pb6-l bg-black"><nav class="pv3 ph3 ph4-ns" role=navigation><div class="flex-l justify-between items-center center"><a href=/ class="f3 fw2 hover-white no-underline white-90 dib">Steckschwein</a><div class="flex-l items-center"><ul class="pl0 mr3"><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/home/ title="The Project page">The Project</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/hardware/ title="Hardware page">Hardware</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/software/ title="Software page">Software</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/impressum/ title="Impressum page">Impressum</a></li><li class="list f5 f4-ns fw4 dib pr3"><a class="hover-white no-underline white-90" href=/post/ title="Posts page">Posts</a></li></ul><div class=ananke-socials><a href=https://twitter.com/steckschwein target=_blank class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a></div></div></div></nav><div class="tc-l pv3 ph3 ph4-ns"><h1 class="f2 f-subheadline-l fw2 light-silver mb0 lh-title">Categories</h1></div></div></header><main class=pb7 role=main><article class="cf pa3 pa4-m pa4-l"><div class="measure-wide-l center f4 lh-copy nested-copy-line-height nested-links mid-gray"></div></article><div class="mw8 center"><section class=ph4><h2 class=f1><a href=/categories/1084s class="link blue hover-black">Category: 1084s</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 17, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-es-ist-vollbracht/ class="link black dim">V9958 - Es ist vollbracht</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Da ist sie nun, die neuen Videoplatine. Nach einigen Umwegen hat der Packen Boards uns erreicht (die erste Lieferung ist versehentlich in Spanien gelandet, während wir die Platinen des spanischen Bastlers erhalten haben. Inzwischen hat jeder Ersatz erhalten).
Wir haben ja bekanntlich unsere Vorgehensweise geändert, indem wir schneller Platinen anfertigen lassen. Aber zu unserer großen Freude funktionierte die erste Platine nach Bestückung auf Anhieb. Selbstverständlich haben sich aber auch ein paar Patzer eingeschlichen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 28, 2014</div><h1 class="f3 near-black"><a href=/post/tms9929-composite-video-und-rgbhy/ class="link black dim">TMS9929 Composite Video und RGB+H/Y</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit Dommas nicht langweilig wird und auch in den Gfx-Genuss kommt muss natürlich eine Lösung her. Er hat momentan keine Möglichkeit das Steckschwein mit Grafik an seinem geliebten Commodore 1084-S Monitor zu betreiben. Was ist also zu tun?
Wir haben ja im Post &mldr; beschrieben wie wir aus dem YRyBy des TMS9929 ein brauchbares RGB+Sync (BAS) Signal erzeugen können. Das funktioniert auch wunderbar an allen derzeit gängigen CRT-Fernsehern und auch an allen neuzeitlichen Flat-Screens wenn diese noch einen SCART-Anschluss oder ebend RGB+Sync (PAL-RGB) Eingänge besitzen.</div></div><h2 class=f1><a href=/categories/4116 class="link blue hover-black">Category: 4116</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 2, 2014</div><h1 class="f3 near-black"><a href=/post/tms9929-wir-wollen-was-sehen/ class="link black dim">TMS9929 - Wir wollen was sehen...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; und zwar auf einem Bildschirm! Aber wie stellt man sowas an?! Nun, wir schauen uns um, was Ende der 70-er bzw. Anfang der 80-er Jahre Stand der Technik war und was sich mit überschaubarem Aufwand an eine 6502 CPU &ldquo;anschließen&rdquo; lässt. Die Auswahl ist leider überschaubar, denn es sollte irgendwas in DIP maximal noch SDIP sein und dazu noch irgendwie lieferbar - &ldquo;new old stock&rdquo;.
Wir fanden die TMS9918/28/29-Serie und einige Nachfolger wie den TMS9938/58.</div></div><h2 class=f1><a href=/categories/4264 class="link blue hover-black">Category: 4264</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 2, 2014</div><h1 class="f3 near-black"><a href=/post/tms9929-wir-wollen-was-sehen/ class="link black dim">TMS9929 - Wir wollen was sehen...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; und zwar auf einem Bildschirm! Aber wie stellt man sowas an?! Nun, wir schauen uns um, was Ende der 70-er bzw. Anfang der 80-er Jahre Stand der Technik war und was sich mit überschaubarem Aufwand an eine 6502 CPU &ldquo;anschließen&rdquo; lässt. Die Auswahl ist leider überschaubar, denn es sollte irgendwas in DIP maximal noch SDIP sein und dazu noch irgendwie lieferbar - &ldquo;new old stock&rdquo;.
Wir fanden die TMS9918/28/29-Serie und einige Nachfolger wie den TMS9938/58.</div></div><h2 class=f1><a href=/categories/64k class="link blue hover-black">Category: 64k</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-the-wait-investigation-of-the-cpu-vdp-wait-interface/ class="link black dim">V9958 - "The WAIT" - investigation of the CPU/VDP /WAIT interface</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; on the way back to munich, we had some time to do a little code review of our gfx library. thinking about the cpu to video chip timings and again read the well known datasheets of the V9938/V9958. suddenly i got an enlightenment and we came to the following conclusion.
as described in the datasheet (V9958-Technical-manual_v1.0.pdf) of the V9958 there are different timings given for different kind of writes. so as far as we understand there are the following timings</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 16, 2014</div><h1 class="f3 near-black"><a href=/post/das-design-wird-erweitert/ class="link black dim">Das Design wird erweitert</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Sinn der Sache ist ja nicht, etwas 1:1 nachzubauen, sondern ein möglichst eigenes Design. Nachdem wir mit Chris&rsquo; Design - bzw. dessen, was wir davon übernommen haben (Adressdekodierung, ACIA, VIA) - genug herumgespielt hatten, galt es, &ldquo;unser&rdquo; Ding draus zu machen. Der erste Schritt war ein Sprung ins kalte Wasser in die uns bislang noch unbekannte Welt der Programmierbaren Logik. Dazu haben wir zunächst die Adressdekodierung bestehend aus 74ls138/74ls154 sowie etwas glue Logic in VHDL implementiert und auf ein GAL22V10D gebrannt.</div></div><h2 class=f1><a href=/categories/6502 class="link blue hover-black">Category: 6502</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 21, 2019</div><h1 class="f3 near-black"><a href=/post/chuck-peddle-1937-2019/ class="link black dim">Chuck Peddle, 1937 - 2019</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Chuck Peddle, the main designer of the 6502, has passed away on Dec. 15th, 2019.
Peddle was one of the engineers that developed the 6800 at Motorola. He later went to MOS in order to implement his vision of an 8bit CPU for way less than $300, which was Motorola&rsquo;s price for the 6800.
This idea of a cheap but powerful CPU materialized as the 6501, and finally the 6502. That very chip, which started the microcomputer revolution, and on which both Marko and myself began to write our first code ever at an early age.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-the-wait-investigation-of-the-cpu-vdp-wait-interface/ class="link black dim">V9958 - "The WAIT" - investigation of the CPU/VDP /WAIT interface</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; on the way back to munich, we had some time to do a little code review of our gfx library. thinking about the cpu to video chip timings and again read the well known datasheets of the V9938/V9958. suddenly i got an enlightenment and we came to the following conclusion.
as described in the datasheet (V9958-Technical-manual_v1.0.pdf) of the V9958 there are different timings given for different kind of writes. so as far as we understand there are the following timings</div></div><h2 class=f1><a href=/categories/65c02 class="link blue hover-black">Category: 65c02</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 21, 2019</div><h1 class="f3 near-black"><a href=/post/chuck-peddle-1937-2019/ class="link black dim">Chuck Peddle, 1937 - 2019</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Chuck Peddle, the main designer of the 6502, has passed away on Dec. 15th, 2019.
Peddle was one of the engineers that developed the 6800 at Motorola. He later went to MOS in order to implement his vision of an 8bit CPU for way less than $300, which was Motorola&rsquo;s price for the 6800.
This idea of a cheap but powerful CPU materialized as the 6501, and finally the 6502. That very chip, which started the microcomputer revolution, and on which both Marko and myself began to write our first code ever at an early age.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-the-wait-investigation-of-the-cpu-vdp-wait-interface/ class="link black dim">V9958 - "The WAIT" - investigation of the CPU/VDP /WAIT interface</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; on the way back to munich, we had some time to do a little code review of our gfx library. thinking about the cpu to video chip timings and again read the well known datasheets of the V9938/V9958. suddenly i got an enlightenment and we came to the following conclusion.
as described in the datasheet (V9958-Technical-manual_v1.0.pdf) of the V9958 there are different timings given for different kind of writes. so as far as we understand there are the following timings</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 2, 2014</div><h1 class="f3 near-black"><a href=/post/tms9929-wir-wollen-was-sehen/ class="link black dim">TMS9929 - Wir wollen was sehen...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; und zwar auf einem Bildschirm! Aber wie stellt man sowas an?! Nun, wir schauen uns um, was Ende der 70-er bzw. Anfang der 80-er Jahre Stand der Technik war und was sich mit überschaubarem Aufwand an eine 6502 CPU &ldquo;anschließen&rdquo; lässt. Die Auswahl ist leider überschaubar, denn es sollte irgendwas in DIP maximal noch SDIP sein und dazu noch irgendwie lieferbar - &ldquo;new old stock&rdquo;.
Wir fanden die TMS9918/28/29-Serie und einige Nachfolger wie den TMS9938/58.</div></div><h2 class=f1><a href=/categories/9918 class="link blue hover-black">Category: 9918</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-the-wait-investigation-of-the-cpu-vdp-wait-interface/ class="link black dim">V9958 - "The WAIT" - investigation of the CPU/VDP /WAIT interface</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; on the way back to munich, we had some time to do a little code review of our gfx library. thinking about the cpu to video chip timings and again read the well known datasheets of the V9938/V9958. suddenly i got an enlightenment and we came to the following conclusion.
as described in the datasheet (V9958-Technical-manual_v1.0.pdf) of the V9958 there are different timings given for different kind of writes. so as far as we understand there are the following timings</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 17, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-es-ist-vollbracht/ class="link black dim">V9958 - Es ist vollbracht</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Da ist sie nun, die neuen Videoplatine. Nach einigen Umwegen hat der Packen Boards uns erreicht (die erste Lieferung ist versehentlich in Spanien gelandet, während wir die Platinen des spanischen Bastlers erhalten haben. Inzwischen hat jeder Ersatz erhalten).
Wir haben ja bekanntlich unsere Vorgehensweise geändert, indem wir schneller Platinen anfertigen lassen. Aber zu unserer großen Freude funktionierte die erste Platine nach Bestückung auf Anhieb. Selbstverständlich haben sich aber auch ein paar Patzer eingeschlichen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 9, 2017</div><h1 class="f3 near-black"><a href=/post/es-wird-wieder-gesteckt/ class="link black dim">Es wird wieder gesteckt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir haben uns schon länger ein Upgrade des Videochips des Steckschweins vorgenommen. Der TMS9929 ist ein netter Chip, aber an einem 8MHz-65c02, der dazu noch so coole Hardware-Features hat, fühlt er sich ein bisschen wie die Achillesferse an.
Zum Glück war beim TMS9929 nicht Schluss, denn dieser hat im Laufe der Zeit diverse Nachfolger bekommen, welche von Yamaha hergestellt wurden und in diversen Weiterentwicklungen des MSX-Standards Verwendung fanden.
Der direkte Nachfolger der TMS99xx-Reihe ist der V9938.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 2, 2014</div><h1 class="f3 near-black"><a href=/post/tms9929-wir-wollen-was-sehen/ class="link black dim">TMS9929 - Wir wollen was sehen...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; und zwar auf einem Bildschirm! Aber wie stellt man sowas an?! Nun, wir schauen uns um, was Ende der 70-er bzw. Anfang der 80-er Jahre Stand der Technik war und was sich mit überschaubarem Aufwand an eine 6502 CPU &ldquo;anschließen&rdquo; lässt. Die Auswahl ist leider überschaubar, denn es sollte irgendwas in DIP maximal noch SDIP sein und dazu noch irgendwie lieferbar - &ldquo;new old stock&rdquo;.
Wir fanden die TMS9918/28/29-Serie und einige Nachfolger wie den TMS9938/58.</div></div><h2 class=f1><a href=/categories/acia class="link blue hover-black">Category: acia</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 3, 2014</div><h1 class="f3 near-black"><a href=/post/exkurs-wie-kommt-code-aufs-steckschwein/ class="link black dim">Exkurs: Wie kommt Code aufs Steckschwein?</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Programmierung eines Computers, der nur aus einer gesteckten Schaltung besteht und weder Tastatur noch Speichermöglichkeit hat, ist eine mühsame Angelegenheit. Die allerersten Experimente bekamen ihr Futter auf einem 27128-EPROM serviert. Bekanntlich wollen diese vor dem Beschreiben mit neuem Code mit UV-Licht gelöscht werden. Also wurde für jedes Update ein EPROM mit neuem Code gebrannt, um die EPROMS anschließend in 10er-Packen ins Löschgerät zu schieben. 15 Minuten Kaffeepause.
Überhaupt, Code: Für die ersten Experimente hat es genügt, die reinen Hexcodes in einen Hexeditor zu tippen und die Daten dann zu brennen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 28, 2014</div><h1 class="f3 near-black"><a href=/post/acia-muss-wieder-raus/ class="link black dim">ACIA muss wieder raus</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die 65x51 ACIA erschien uns als die am tiefsten hängende Frucht, um eine RS232 Schnittstelle zu implementieren, nachdem wir Bit Banging nach C64 Vorbild ziemlich schnell verworfen hatten.
Auch programmiertechnisch mach die ACIA einen simplen Eindruck, ganze drei Register wollen beherrscht werden.
Die rs232-Schnittstelle ermöglicht uns, Code auf den Steckbrettrechner zu laden, ohne jedesmal das EEPROM neu brennen zu müssen. Eine gewaltige Erleichterung.
Aber - wir haben es bereits erwähnt - die ACIA hat keine Zukunft bei uns.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 16, 2014</div><h1 class="f3 near-black"><a href=/post/das-design-wird-erweitert/ class="link black dim">Das Design wird erweitert</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Sinn der Sache ist ja nicht, etwas 1:1 nachzubauen, sondern ein möglichst eigenes Design. Nachdem wir mit Chris&rsquo; Design - bzw. dessen, was wir davon übernommen haben (Adressdekodierung, ACIA, VIA) - genug herumgespielt hatten, galt es, &ldquo;unser&rdquo; Ding draus zu machen. Der erste Schritt war ein Sprung ins kalte Wasser in die uns bislang noch unbekannte Welt der Programmierbaren Logik. Dazu haben wir zunächst die Adressdekodierung bestehend aus 74ls138/74ls154 sowie etwas glue Logic in VHDL implementiert und auf ein GAL22V10D gebrannt.</div></div><h2 class=f1><a href=/categories/acme class="link blue hover-black">Category: acme</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 3, 2014</div><h1 class="f3 near-black"><a href=/post/exkurs-wie-kommt-code-aufs-steckschwein/ class="link black dim">Exkurs: Wie kommt Code aufs Steckschwein?</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Programmierung eines Computers, der nur aus einer gesteckten Schaltung besteht und weder Tastatur noch Speichermöglichkeit hat, ist eine mühsame Angelegenheit. Die allerersten Experimente bekamen ihr Futter auf einem 27128-EPROM serviert. Bekanntlich wollen diese vor dem Beschreiben mit neuem Code mit UV-Licht gelöscht werden. Also wurde für jedes Update ein EPROM mit neuem Code gebrannt, um die EPROMS anschließend in 10er-Packen ins Löschgerät zu schieben. 15 Minuten Kaffeepause.
Überhaupt, Code: Für die ersten Experimente hat es genügt, die reinen Hexcodes in einen Hexeditor zu tippen und die Daten dann zu brennen.</div></div><h2 class=f1><a href=/categories/adressdekoder class="link blue hover-black">Category: adressdekoder</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 4, 2017</div><h1 class="f3 near-black"><a href=/post/logikanalyse-ii/ class="link black dim">Logikanalyse II [UPDATE]</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Inzwischen sind die 74F00 eingetroffen und der 74HCT00 durch einen ebensolchen ersetzt. Das Oszilloskopbild sieht gleich deutlich besser aus:
[caption id=&ldquo;attachment_870&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;800&rdquo;] gelb: /WE, blau: A9[/caption]
Der Schreibvorgang wird also jetzt zumindest abgeschlossen, bevor sich die Adresse auf dem Adressbus ändert. Das ist schonmal viel sauberer.
Nur leider hat es das Problem nicht gelöst, das Steckschwein läuft mit den &ldquo;richtigen&rdquo; RAMs immer noch instabil, was sich insbesondere bei BASIC-Programmen bemerkbar macht:</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 1, 2017</div><h1 class="f3 near-black"><a href=/post/logikanalyse/ class="link black dim">Logikanalyse</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Auf dem VCFe 18.0 gab es Dank Nick Müller die Möglichkeit, das Steckschwein mal mit einem Logic Analyzer &ldquo;für große Jungs&rdquo; zu untersuchen. Unsere USB-Logic-Analyzer sind zwar für vieles gut, aber um komplett Adress- und Datenbus sowie einschlägiger Steuerleitungen abzuhorchen, fehlen einfach Kanäle, und selbst dann wären sie nicht schnell genug.
[caption id=&ldquo;attachment_796&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1280&rdquo;] Das Steckschwein am Logic Analyzer. im Hintergrund Nicks Finger.[/caption]
Die Gelegenheit, ein solches Höllengerät (genauer: ein HP 1652B) und mit Nick auch noch jemanden greifbar zu haben, der selbiges beherrscht, gibt uns die Chance, ein merkwürdiges Problem zu untersuchen, welches schon länger Rätsel aufgibt: Die aktuell verwendeten Hyundai-SRAMs sind mit einer Zugriffszeit von 100ns eigentlich viel zu langsam für 8MHz, zumal der 6502 ja nur die 2.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 30, 2016</div><h1 class="f3 near-black"><a href=/post/chiptuning/ class="link black dim">Chiptuning</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">An den Heimcomputern von &ldquo;damals&rdquo; gemessen ist das Steckschwein mit 4 MHz durchaus einer der schnelleren 6502-Rechner. Damals waren zumeist Taktraten von 1 MHz üblich. Einige wenige hatten deutlich mehr, wie z.B. der Apple IIgs (65816) mit 2.8 MHz. Einen 4 MHz-65(C)02-Heimcomputer hat es damals nach unserem Informationsstand nicht gegeben.
Nun ist es aber so, dass aktuell erhältliche 65c02-CPUs von WDC offiziell mit bis zu 14MHz getaktet werden können, inoffiziell wurden schon problemlos Taktraten von 20 MHz erreicht.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 26, 2014</div><h1 class="f3 near-black"><a href=/post/rom-an-rom-aus/ class="link black dim">ROM an, ROM aus</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nachdem wir also mit dem Adressdecoder durchaus zufrieden sind, müssen wir uns noch einen Weg überlegen, die /ROMOFF-Leitung per Software steuerbar zu machen. Wenn es schon beim BIOS-Update Test äußerst nützlich ist einfach nur eine Brücke umzustecken und damit das ROM zu deaktivieren, wie praktisch muss es erst sein, dies einfach durch Beschreiben einer Speicherstelle zu tun.
Was wir also brauchen, ist ein IO-Pin, der die /ROMOFF-Leitung steuert. Zusätzlich muss dieser Pin beim Einschalten des Systems einen definierten Zustand haben, damit sichergestellt ist, daß zu diesem Zeitpunkt das ROM eingeblendet ist.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 23, 2014</div><h1 class="f3 near-black"><a href=/post/dekoder-die-dritte/ class="link black dim">Dekoder, die Dritte</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Bekanntlich dekodiert unser GAL die oberen 8bit des Adressbus, um den Bereich $8000-$ffff unter RAM, IO-Bereich und ROM einzuteilen. Die unteren 32k werden am Decoder vorbei direkt von der Adressleitung A15 selektiert. Das Memory-Mapping, das sich daraus ergibt, ist - zur Wiederholung - wie folgt:
Bereich Was $0000 - $7fff RAM $8000 - $cfff RAM $d000 - $dfff IO-Bereich $e000 - $ffff ROM Die letzte Änderung am Decoder war, das ROM bei Bedarf ausblendbar zu machen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 1, 2014</div><h1 class="f3 near-black"><a href=/post/noch-schlauerer-decoder/ class="link black dim">Noch schlauerer Decoder</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir sind jetzt also fast in der Lage, das RAM unter dem ROM zu nutzen. Hineinschreiben geht, lesen noch nicht. Da ist das ROM noch im Weg. Wir müssen also einen Weg finden, die GAL-Logik von außen zu beeinflussen. Unser GAL hat noch genügend Eingänge, sodass wir einen Pin zum ROM-Ein-/Ausschalter machen wollen. Lesezugriffe nach $e000-$ffff sollen also nur noch dann im ROM landen, wenn es &ldquo;eingeschaltet&rdquo; ist. Sonst wollen wir ins RAM.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 1, 2014</div><h1 class="f3 near-black"><a href=/post/schlauerer-decoder/ class="link black dim">Schlauer(er) Decoder</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Im Rahmen unserer Reihe &ldquo;Kleine Verbesserungen an der Architektur&rdquo; ist heute der Adressdekoder dran. Dieser entscheidet bekanntlich anhand der am Adressbus anliegenden Adresse (oder genauergesagt deren höheren 8bit), welcher Baustein an der entsprechenden Adresse eingeblendet werden soll. Durch den Umstand, dass die oberen 8k dem ROM gehören, lassen sich die darunterliegenden 8k RAM nicht ohne weiteres nutzen. Die für die Selektierung des ROMs und der oberen 32k RAM sehen folgendermaßen aus:</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>June 24, 2014</div><h1 class="f3 near-black"><a href=/post/verfeinerungen-am-design/ class="link black dim">Verfeinerungen am Design</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">So langsam geht es weiter mit der Steckschweinentwicklung.
Die Timingprobleme mit dem VDP bedürfen einer eingehenden Prüfung und Messung, um genau zu verstehen, wo was nicht passt. Unsere Ideen mit Puffern und/oder versetzten Taktsignalen, um den VDP früher &ldquo;kommen&rdquo; zu lassen stellen wir zurück, bis wir gesicherte Erkenntnisse haben. Ein Herumdoktern aufgrund von Vermutungen halten wir nicht für zielführend. Vorher ist es auch nicht sinnvoll, irgendwelche Platinen zu löten.
Stattdessen stecken wir ein wenig Hirnschmalz ins aktuelle Design.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 16, 2014</div><h1 class="f3 near-black"><a href=/post/das-design-wird-erweitert/ class="link black dim">Das Design wird erweitert</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Sinn der Sache ist ja nicht, etwas 1:1 nachzubauen, sondern ein möglichst eigenes Design. Nachdem wir mit Chris&rsquo; Design - bzw. dessen, was wir davon übernommen haben (Adressdekodierung, ACIA, VIA) - genug herumgespielt hatten, galt es, &ldquo;unser&rdquo; Ding draus zu machen. Der erste Schritt war ein Sprung ins kalte Wasser in die uns bislang noch unbekannte Welt der Programmierbaren Logik. Dazu haben wir zunächst die Adressdekodierung bestehend aus 74ls138/74ls154 sowie etwas glue Logic in VHDL implementiert und auf ein GAL22V10D gebrannt.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 15, 2014</div><h1 class="f3 near-black"><a href=/post/ein-richtiger-computer-soll-es-sein/ class="link black dim">Ein richtiger Computer soll es sein</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nachdem die vorangegangenen Spielereien sehr ermutigend verliefen, war der nächste Schritt klar. Wenn wir so weit kommen, kommen wir auch noch weiter. Das Ziel ist jetzt definitiv ein funktionierender 8bit-Rechner mit 64k RAM.
Da der 6502 keinen DRAM-Refresh liefert und wir uns den Aufwand eines diskreten Refresh-Generators ersparen wollen, soll es ein SRAM-basiertes Design werden. Bei ein wenig Recherche beim Elektronik-Versenders unseres Vertrauens stellen wir fest, dass 2x32k*8 in Form von zwei 2 62256 eine komfortable Lösung sein würden.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 22, 2014</div><h1 class="f3 near-black"><a href=/post/doppelt-haelt-besser/ class="link black dim">Doppelt hält besser</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit sich ein &ldquo;Steckschwein&rdquo; nicht so einsam fühlt, haben wir das ganze nochmal geklont. Jetzt hat jeder sein eigenes Steckschwein und kann daran rumschrauben oder besser gesagt rumstecken.
Da wir das Tooling &ldquo;leichtgewichtig&rdquo; halten wollen, gabs auch gleich ein kleines Problem zu lösen. Die Dekoder-Logik für den GAL wurde bisher in VHDL definiert und mit dem Hersteller-Produkt http://www.latticesemi.com/ispleverclassic ein entsprechendes JEDEC-File erzeugt. Das war uns dann doch viel zu unhandlich und wir haben uns nach Alternativen umgetan.</div></div><h2 class=f1><a href=/categories/allgemein class="link blue hover-black">Category: allgemein</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>November 14, 2020</div><h1 class="f3 near-black"><a href=/post/fixing-ps-2-keyboard-handling-part-i/ class="link black dim">Fixing PS/2 Keyboard handling (Part I)</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">The way the PS/2 keyboard is handled has always been something we were never quite happy with. The key points being:
The PS/2 controller had no way of signalling that there has been a new keystroke, the buffer had to be polled via SPI. The PS/2 controller had no way of talking to the keyboard and had to rely for the keyboard to initialize itself properly. Also, typematic rate and delay could not be set, as couldn&rsquo;t the states of the keyboard LEDs.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 15, 2020</div><h1 class="f3 near-black"><a href=/post/connecting-snes-controller-to-the-steckschwein/ class="link black dim">Connecting SNES Controller to the Steckschwein</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Recently, Michael Steil published a blog post about connecting NES and SNES Controller to a 6502-based system showing how to use NES and SNES controllers on a C64 without the need for any special hardware, by just connecting them to the C64&rsquo;s user port.
Why not use his approach and adapt it to the Steckschwein? The Steckschwein has a User Port, too, albeit a very different one as the C64. Basically, the Steckschwein-User-Port consists of the complete Port A of the VIA, plus the /RESET and /IRQ lines.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 9, 2019</div><h1 class="f3 near-black"><a href=/post/steckschwein-emulator/ class="link black dim">Steckschwein emulator</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Back from the VCFB (Vintage Computer Festival Berlin) 2019 where we had good talks, met interesting people and got new ideas. Especially from Michael Steil who just asked the simple question &ldquo;How you can develop software for the Steckschwein without an emulator?&rdquo;
With the answer in my mind I felt a little annoyed and also &ldquo;triggered&rdquo; at the same time&mldr; However, Michael Steil was nice enough to strip down his Commander X16-Emulator into a barebone 65c02 computer emulator, so all we had to do was to implement our memory map (easy) and borrow a V9958 video chip implementation from blueMSX and implement it into the emulator (hard).</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 23, 2019</div><h1 class="f3 near-black"><a href=/post/markos-pacman-talk-at-vcfb/ class="link black dim">Markos Pacman Talk at VCFb</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Marko talked about his Pacman port to the Steckschwein at VCFb. Basically it&rsquo;s the same talk he did at VCFe in April, but this time, there&rsquo;s a video. Enjoy!
https://media.ccc.de/v/vcfb19_-_111_-_de_-_201910121615_-_pac-man_auf_dem_steckschwein_-_marko_lauke</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 2, 2019</div><h1 class="f3 near-black"><a href=/post/forth-benchmarks/ class="link black dim">Forth Benchmarks</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">The main motivation to get Forth up and running on the Steckschwein was to participate at The Ultimate Benchmark, in order to crush all 8bit competition to dust.
So the plan was to benchmark the Steckschwein live at the VCFe. Unfortunately, Carsten could not be there, so no Forth benchmark competition this year. Recently, Carsten presented his benchmark results using TaliForth2, which led us to run the same benchmarks he did and send the results to Carsten, who was kind enough to include them on his site:</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 28, 2019</div><h1 class="f3 near-black"><a href=/post/vcfe-20-0-over-and-out/ class="link black dim">VCFe 20.0 - over and out</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">VCFe 20.0 is over, all of a sudden, and we had lots of fun as always.
Many thanks to everyone stopping by at our table, especially to those who voted for us at the poll. We got the fo(u)rth place.
Special thanks to Michael Steil, Andre Fachat und Marco Baye for hanging and hacking with us.
Very special thanks to Andre Fachat for his inpromptu 6502 talk right before our turn.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 24, 2019</div><h1 class="f3 near-black"><a href=/post/vintage-computer-festival-europe/ class="link black dim">Vintage Computer Festival Europe</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Das VCFe steht wieder vor der Tür. Am kommenden Wochenende, also vom 27.4. bis 28.4., findet das Vintage Computer Festival Europe in München statt.
Das diesjährige Motto ist &ldquo;Pixelritter - Programmieren am Limit&rdquo;. Und auch auf dem Steckschwein werden wir Pixel zeigen, teilweise am Limit programmiert.
Veranstaltungsort ist das Kulturzentrum Trudering
Wasserburger Landstrasse 32 81825 München</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 3, 2019</div><h1 class="f3 near-black"><a href=/post/make-munich-2019-is-been-our-pleasure/ class="link black dim">Make Munich 2019 - It's been our pleasure</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Make Munich 2019 was awesome. Thanks to everyone who helped making this great event possible.
Again, we are stunned by how much positive feedback we got from so many people. Thank you all!!
Also, like in 2016, our booth was partly turned by a lot of kids into the official Make Munich arcade. So we definitely need to write more games. And build more Steckschweins. Let the children play.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 22, 2019</div><h1 class="f3 near-black"><a href=/post/meet-us-at-make-munich-2-3-3-3-2019/ class="link black dim">Meet us at Make Munich, 2.3. - 3.3.2019</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Check out our homebrew 65c02 8bit goodness including our brand new video/sound-hardware at the Make Munich fair. We&rsquo;ll also have BASIC, Forth, a couple of games and candy. Our booth is in Hall 1, Booth Nr. 49, in the &ldquo;Electronic Innovators&rdquo;-Area. The did get that right, didn&rsquo;t they?</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 17, 2019</div><h1 class="f3 near-black"><a href=/post/fixing-the-white-screen-problem-on-a-tekway-dst1062b-oscilloscope/ class="link black dim">Fixing the white screen problem on a Tekway DST1062B oscilloscope</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">The Tekway DST 1062B (also known unter the Hantek or Voltcraft brand) is an inexpensive 60MHz digital storage oscilloscope, which is very much hackable and has proven to be worth its weight in gold pressed latinum.
More recently, my scope became affected by the infamous white screen problem, which apparently is a problem quite common to this model and its 100MHz or 200MHz siblings.
[caption id=&ldquo;attachment_1175&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1280&rdquo;] The Tekway/Hantek white screen of death[/caption]</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-the-wait-investigation-of-the-cpu-vdp-wait-interface/ class="link black dim">V9958 - "The WAIT" - investigation of the CPU/VDP /WAIT interface</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; on the way back to munich, we had some time to do a little code review of our gfx library. thinking about the cpu to video chip timings and again read the well known datasheets of the V9938/V9958. suddenly i got an enlightenment and we came to the following conclusion.
as described in the datasheet (V9958-Technical-manual_v1.0.pdf) of the V9958 there are different timings given for different kind of writes. so as far as we understand there are the following timings</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 13, 2018</div><h1 class="f3 near-black"><a href=/post/vcfb-2018-its-great/ class="link black dim">VCFB 2018 It was great...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">VCF 2018 in Berlin was great! We&rsquo;ve met interesting people there. Got a handshake with Scot W. Stevenson who for(th)ced us to use his TaliForth2 ;)
Later on Saturday Daniel Illgen - maintainer of the Adlib Tracker II for Linux - had decided to honor us with his OPL2 knowledge while on the way out. He advised us to keep the OPL2 sound chip on the Steckschwein, because the OPL2 chip is still not outbid.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 1, 2018</div><h1 class="f3 near-black"><a href=/post/save-the-date-vcfb-13-10-14-10/ class="link black dim">Save the date: VCFb - 13.10.-14.10.</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">We are very excited that we will be exhibiting the Steckschwein at the Vintage Computing Festival Berlin . Also, we will be holding a talk about everything Steckschwein on Saturday, the 13.10. at 10:30.
The Vintage Computing Festival Berlin will again be taking place at the &ldquo;Deutsches Technikmuseum Berlin&rdquo;, the German technical museum, which is a very interesting place to go by itself.
This is going to be good.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 24, 2018</div><h1 class="f3 near-black"><a href=/post/vcfe-diesmal-ohne-steckschwein/ class="link black dim">VCFe diesmal ohne Steckschwein</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Zum ersten Mal in der Geschichte des Steckschweins sind wir dieses Jahr nicht als Aussteller auf dem VCFe dabei.
Das Kommen lohnt sich aber trotzdem - diesmal findet das VCFe nämlich im Leibniz-Rechenzentrum der Bayerischen Akademie der Wissenschaften in Garching statt.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 20, 2018</div><h1 class="f3 near-black"><a href=/post/switching-to-english/ class="link black dim">Switching to english</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">There seems to be quite some interest in our little project from outside of germany. Thanks to all who are following what we are doing.
To save you the effort of putting our blatherings through Google Translate or even having to learn german, we decided switch to writing our blog articles in english.
The rest of the site will be translated as we go. The hardware page has already been translated.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 1, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-vom-steckbrett-zum-prototypen/ class="link black dim">V9958 - Vom Steckbrett zum Prototypen</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Es ist soweit, der erste Prototyp auf Platine von unserem neuen V9958-Videoboard ist fertig layoutet, und die Platinen warten beim Fertiger auf ihren Versand.
Der Steckbrettaufbau vom letzten Post wurde auf 128k erweitert. Dazu ist einfach eine 2. Bank von 2 Stück 64k x 4 DRAMS dazugebaut worden. Damit entspricht der Aufbau unserem Schaltplan, und dieser ist damit getestet.
Unsere Timing-Probleme führen wir auf zu kurze Delays bei Registerzugriffen, ein Softwareproblem also, zurück.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 5, 2018</div><h1 class="f3 near-black"><a href=/post/meltdown-spectre/ class="link black dim">Meltdown / Spectre</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Aufgrund der verwendeten überlegenen Prozessortechnologie ist das Steckschwein nicht von den aktuellen Prozessor-Sicherheitslücken Meltdown bzw. Spectre betroffen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 9, 2017</div><h1 class="f3 near-black"><a href=/post/es-wird-wieder-gesteckt/ class="link black dim">Es wird wieder gesteckt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir haben uns schon länger ein Upgrade des Videochips des Steckschweins vorgenommen. Der TMS9929 ist ein netter Chip, aber an einem 8MHz-65c02, der dazu noch so coole Hardware-Features hat, fühlt er sich ein bisschen wie die Achillesferse an.
Zum Glück war beim TMS9929 nicht Schluss, denn dieser hat im Laufe der Zeit diverse Nachfolger bekommen, welche von Yamaha hergestellt wurden und in diversen Weiterentwicklungen des MSX-Standards Verwendung fanden.
Der direkte Nachfolger der TMS99xx-Reihe ist der V9938.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>November 28, 2017</div><h1 class="f3 near-black"><a href=/post/neue-hardware-die-platinen-sind-da/ class="link black dim">Neue Hardware - die Platinen sind da</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die neuen IO-Platinen mit integriertem UART sind fertig und haben ihren Weg von China nach München gefunden.
Mit dem neuen Layout hat es nicht nur der UART mit aufs IO-Board geschafft, es sind auch etliche kleinere und größere Verbesserungen eingeflossen:
Die Joystickports wurden komplett neu designed. Die Optokoppler sparen wir uns, stattdessen wählen wir über einen VIA Pin verschiedene Treiber an, die den gewünschten Joystickport mit VIA Port A verbindet. Die Ports lassen sich auch per Software komplett abschalten, damit der User-Port frei verfügbar ist.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>November 22, 2017</div><h1 class="f3 near-black"><a href=/post/mal-wieder-neue-hardware/ class="link black dim">Mal wieder neue Hardware</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Zeit ist reif für ein Hardware-Update, und zwar für die IO-Platine 2.0. Vorgesehen war ja schon länger, den UART dort zu integrieren. Ausserdem war das Joystick&ndash;Interface noch unausgegoren, sodass auch hier etwas Neues entwickelt wurde.
Zum Schutz der VIA-Pins dienen nun keine Optokoppler, sondern simple Serienwiderstände sollen die Ports zumindest vor dem Fall schützen, dass man doch mal die Datenrichtung der Joystick-Pins auf Ausgang schaltet und dann die VIA grillt indem man den Joystick betätigt.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 13, 2017</div><h1 class="f3 near-black"><a href=/post/musik/ class="link black dim">Musik</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Das Programmieren von Soundchips ist nicht trivial. Das habe ich damals auf dem C64 schon nicht kapiert. Mit dem Yamaha YM3812 oder auch OPL2 hat das Steckschwein einen weit komplexeren Chip als den SID, denn OPL2 kennt gleich ganze 9 Stimmen statt drei, und jede ist über eine Unzahl Parameter konfigurierbar.
Wie funktioniert der YM3812? Wie kriegt man also einen Ton aus diesem Monstrum? Die beste Quelle zum Thema OPL2 ist wohl &ldquo;Programming the AdLib/Sound Blaster FM Music Chips&rdquo; von Jeffrey S.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 4, 2017</div><h1 class="f3 near-black"><a href=/post/logikanalyse-ii/ class="link black dim">Logikanalyse II [UPDATE]</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Inzwischen sind die 74F00 eingetroffen und der 74HCT00 durch einen ebensolchen ersetzt. Das Oszilloskopbild sieht gleich deutlich besser aus:
[caption id=&ldquo;attachment_870&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;800&rdquo;] gelb: /WE, blau: A9[/caption]
Der Schreibvorgang wird also jetzt zumindest abgeschlossen, bevor sich die Adresse auf dem Adressbus ändert. Das ist schonmal viel sauberer.
Nur leider hat es das Problem nicht gelöst, das Steckschwein läuft mit den &ldquo;richtigen&rdquo; RAMs immer noch instabil, was sich insbesondere bei BASIC-Programmen bemerkbar macht:</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 2, 2017</div><h1 class="f3 near-black"><a href=/post/vcfe-18-0-ein-resuemee/ class="link black dim">VCFe 18.0 - ein Resümee</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Kein VCFe ohne einen resümmierenden Post-VCFe-Post von uns.
Vorweg: Der neue Veranstaltungsort im Kulturzentrum Trudering ist hervorragend. Eine moderne Veranstaltungshalle, mehr Platz als in der alten ESV-Turnhalle, großzügiger Foyerbereich und ein deutlich größerer Vortragsraum. Die Nahrungsversorgung bestreitet im Kulturzentrum Trudering das integrierte indische Restaurant &ldquo;Taj&rdquo;, welches ebenso überzeugen konnte. Alles in allem ein großer Gewinn und allen Anzeichen nach wird das nächste VCFe auch wieder dort stattfinden.
[caption id=&ldquo;attachment_853&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1280&rdquo;] Das Steckschwein auf dem VCFe 18.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 1, 2017</div><h1 class="f3 near-black"><a href=/post/logikanalyse/ class="link black dim">Logikanalyse</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Auf dem VCFe 18.0 gab es Dank Nick Müller die Möglichkeit, das Steckschwein mal mit einem Logic Analyzer &ldquo;für große Jungs&rdquo; zu untersuchen. Unsere USB-Logic-Analyzer sind zwar für vieles gut, aber um komplett Adress- und Datenbus sowie einschlägiger Steuerleitungen abzuhorchen, fehlen einfach Kanäle, und selbst dann wären sie nicht schnell genug.
[caption id=&ldquo;attachment_796&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1280&rdquo;] Das Steckschwein am Logic Analyzer. im Hintergrund Nicks Finger.[/caption]
Die Gelegenheit, ein solches Höllengerät (genauer: ein HP 1652B) und mit Nick auch noch jemanden greifbar zu haben, der selbiges beherrscht, gibt uns die Chance, ein merkwürdiges Problem zu untersuchen, welches schon länger Rätsel aufgibt: Die aktuell verwendeten Hyundai-SRAMs sind mit einer Zugriffszeit von 100ns eigentlich viel zu langsam für 8MHz, zumal der 6502 ja nur die 2.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 19, 2017</div><h1 class="f3 near-black"><a href=/post/das-vcfe-18-0-steht-vor-der-tuer/ class="link black dim">Das VCFe 18.0 steht vor der Tür</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Am 29.04.2017 ist es wieder so weit, das Vintage Computer Festival Europe vereint in München wieder für 3 Tage Freunde historischer Computer.
Was sich geändert hat, ist der Veranstaltungsort, denn die altehrwürdige Turnhalle des E.S.V. München-Ost ist vergangenes Jahr abgerissen worden:
Kulturzentrum Trudering Wasserburger Landstraße 32 81825 München
Was sich nicht geändert hat, ist, dass das Steckschwein wieder mit dabei sein wird. Diesmal mit lauffähigem EhBASIC und einigen klassischen Beispielen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 28, 2017</div><h1 class="f3 near-black"><a href=/post/load-save-in-ehbasic/ class="link black dim">LOAD / SAVE in EhBasic</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nachdem EhBasic brauchbar auf unserem SteckOS-Kernel läuft, fehlen noch 2 Kleinigkeiten für das vollkommene Glück. Denn noch lassen sich die geschriebenen BASIC-Kunstwerke nicht speichern. Dies stellt uns gleich vor 2 Herausforderungen:
Unsere FAT32-Implementierung beherrscht noch gar keinen Schreibzugriff. Genauer gesagt ist es noch nicht möglich, freie Cluster zu finden und Verzeichniseinträge zu erzeugen. LOAD und SAVE existieren in EhBasic nur als Vektoren, an die bei Aufruf gesprungen wird. Was dort passieren soll, muss für die jeweilige Hardware selbst implementiert werden.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 22, 2017</div><h1 class="f3 near-black"><a href=/post/ehbasic-nochmal/ class="link black dim">EhBASIC nochmal</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Vor geraumer Zeit hatten wir ja bereits EhBASIC auf dem Steckschwein zum Laufen gebracht. Diese Version war im Wesentlichen eine Machbarkeitsstudie. Diese setzte auch noch nicht auf unseren SteckOS-Kernel auf, sondern auf BIOS-Routinen. Hier lag also noch ein wenig Arbeit vor uns.
Die EhBASIC-Dokumentation setzt bei einem potentiellen Portierungsziel nicht sehr viel voraus, und dies sind schon die &ldquo;Preferred requirements&rdquo;:
6502 or better processor (65c02, CCU3000, M38xx). 10k ROM or RAM for the interpreter code.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 25, 2016</div><h1 class="f3 near-black"><a href=/post/es-wird-geschraubt/ class="link black dim">Es wird geschraubt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Es ist mal wieder recht still ums Schwein. Und mal wieder ist das kein Indiz dafür, dass nicht gewerkelt wird. In den letzten Wochen wurden BIOS und der SteckOS-Kernel auf Basis des Assemblers ca65 neu gebaut. Dessen nachgelagerter Linker erlaubt eine übersichtlichere Strukturierung der Codebasis.
In den FAT32-Code wird aktuell ebenfalls einiges an Hirnschmalz investiert, um endlich Cluster Chain lookups und Schreib-Support bauen zu können.
Darüberhinaus kam letzte Woche der Geistesblitz, die Kommunikation des Tastaturcontrollers ATmega8 mit der Tastatur über dessen eingebauten USART zu machen, anstatt &ldquo;Zu Fuß&rdquo; in Software.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 14, 2016</div><h1 class="f3 near-black"><a href=/post/wir-sind-umgezogen-ii/ class="link black dim">Wir sind umgezogen II</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nach dem Umzug der Website ist jetzt unser Code-Repository dran. Dies ist jetzt auf bitbucket.org zu finden:
https://bitbucket.org/steckschwein/steckschwein-code</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>June 23, 2016</div><h1 class="f3 near-black"><a href=/post/wir-sind-umgezogen/ class="link black dim">Wir sind umgezogen</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">www.steckschwein.de wird nun direkt bei Wordpress.com gehostet. Somit müssen wir uns um keinen root-Server mehr kümmern und haben mehr Zeit fürs Steckschwein. :-)</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 4, 2014</div><h1 class="f3 near-black"><a href=/post/vcfe-15-schoen-wars/ class="link black dim">VCFe 15 - Schön wars!</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Das VCFe 15 ist zu Ende, wo eine größere Öffentlichkeit unsere Steckschweine und Experimente live in Augenschein nehmen konnte, und wo wir am Sonntag Mittag auch einen kleinen Vortrag zu Entstehung der Idee, des Steckschweins und Problemen halten durften.
Wer uns verpasst hat, findet zumindest hier die Folien.
Wir sind immer noch überwältigt von all der positiven Resonanz, die wir erfahren haben. Insgeheim hatten wir eher damit gerechnet, dass unsere Basteleien von den Cracks eher belächelt würden, aber das Gegenteil war der Fall.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 14, 2014</div><h1 class="f3 near-black"><a href=/post/tms9929-wir-sind-am-ziel/ class="link black dim">TMS9929 Wir sind am Ziel!</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nachdem das Timing vom Steckschwein grundsätzlich passt, sind auf einmal auch sämtliche Voodoo-Fehler verschwunden.
Jetzt lässt sich der VDP auch besser ansprechen, allerdings gibt es schon noch ein paar Probleme zu lösen, bspw. ist das DRAM sehr instabil irgendwie flackert ständig der Screen oder die Zeichen &ldquo;Nullen&rdquo; sich aus. Wir untersuchen das Steckbrett und die Spannungsversorgung. Wir beschließen, die Steckbrettkabel durch kurze blanke Drahtbrücken zu ersetzen und platzieren direkt am Vcc der einzelnen DRAMs die Abblock-Kondensatoren mit 100nF.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 28, 2014</div><h1 class="f3 near-black"><a href=/post/acia-muss-wieder-raus/ class="link black dim">ACIA muss wieder raus</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die 65x51 ACIA erschien uns als die am tiefsten hängende Frucht, um eine RS232 Schnittstelle zu implementieren, nachdem wir Bit Banging nach C64 Vorbild ziemlich schnell verworfen hatten.
Auch programmiertechnisch mach die ACIA einen simplen Eindruck, ganze drei Register wollen beherrscht werden.
Die rs232-Schnittstelle ermöglicht uns, Code auf den Steckbrettrechner zu laden, ohne jedesmal das EEPROM neu brennen zu müssen. Eine gewaltige Erleichterung.
Aber - wir haben es bereits erwähnt - die ACIA hat keine Zukunft bei uns.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 16, 2014</div><h1 class="f3 near-black"><a href=/post/das-design-wird-erweitert/ class="link black dim">Das Design wird erweitert</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Sinn der Sache ist ja nicht, etwas 1:1 nachzubauen, sondern ein möglichst eigenes Design. Nachdem wir mit Chris&rsquo; Design - bzw. dessen, was wir davon übernommen haben (Adressdekodierung, ACIA, VIA) - genug herumgespielt hatten, galt es, &ldquo;unser&rdquo; Ding draus zu machen. Der erste Schritt war ein Sprung ins kalte Wasser in die uns bislang noch unbekannte Welt der Programmierbaren Logik. Dazu haben wir zunächst die Adressdekodierung bestehend aus 74ls138/74ls154 sowie etwas glue Logic in VHDL implementiert und auf ein GAL22V10D gebrannt.</div></div><h2 class=f1><a href=/categories/assembly class="link blue hover-black">Category: assembly</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 21, 2019</div><h1 class="f3 near-black"><a href=/post/chuck-peddle-1937-2019/ class="link black dim">Chuck Peddle, 1937 - 2019</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Chuck Peddle, the main designer of the 6502, has passed away on Dec. 15th, 2019.
Peddle was one of the engineers that developed the 6800 at Motorola. He later went to MOS in order to implement his vision of an 8bit CPU for way less than $300, which was Motorola&rsquo;s price for the 6800.
This idea of a cheap but powerful CPU materialized as the 6501, and finally the 6502. That very chip, which started the microcomputer revolution, and on which both Marko and myself began to write our first code ever at an early age.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 16, 2019</div><h1 class="f3 near-black"><a href=/post/weird-bug-in-sd-card-code/ class="link black dim">Weird bug in SD card code</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Frank van den Hoef, who is adapting the Steckschwein SPI & FAT32 code for his tiny65 machine made me aware of a classic mistake for a 6502 assembly coder to make. Namely in our sdcard driver, when waiting for the &ldquo;proper&rdquo; response from the card (which should have bit 7 cleared). The routine handling this looked like this:
1 sd_cmd_response_wait: 2 ldy #sd_cmd_response_retries 3 @l: dey 4 beq sd_block_cmd_timeout ; y already 0?</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-the-wait-investigation-of-the-cpu-vdp-wait-interface/ class="link black dim">V9958 - "The WAIT" - investigation of the CPU/VDP /WAIT interface</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; on the way back to munich, we had some time to do a little code review of our gfx library. thinking about the cpu to video chip timings and again read the well known datasheets of the V9938/V9958. suddenly i got an enlightenment and we came to the following conclusion.
as described in the datasheet (V9958-Technical-manual_v1.0.pdf) of the V9958 there are different timings given for different kind of writes. so as far as we understand there are the following timings</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 13, 2018</div><h1 class="f3 near-black"><a href=/post/vcfb-2018-its-great/ class="link black dim">VCFB 2018 It was great...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">VCF 2018 in Berlin was great! We&rsquo;ve met interesting people there. Got a handshake with Scot W. Stevenson who for(th)ced us to use his TaliForth2 ;)
Later on Saturday Daniel Illgen - maintainer of the Adlib Tracker II for Linux - had decided to honor us with his OPL2 knowledge while on the way out. He advised us to keep the OPL2 sound chip on the Steckschwein, because the OPL2 chip is still not outbid.</div></div><h2 class=f1><a href=/categories/avr class="link blue hover-black">Category: avr</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>November 28, 2017</div><h1 class="f3 near-black"><a href=/post/neue-hardware-die-platinen-sind-da/ class="link black dim">Neue Hardware - die Platinen sind da</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die neuen IO-Platinen mit integriertem UART sind fertig und haben ihren Weg von China nach München gefunden.
Mit dem neuen Layout hat es nicht nur der UART mit aufs IO-Board geschafft, es sind auch etliche kleinere und größere Verbesserungen eingeflossen:
Die Joystickports wurden komplett neu designed. Die Optokoppler sparen wir uns, stattdessen wählen wir über einen VIA Pin verschiedene Treiber an, die den gewünschten Joystickport mit VIA Port A verbindet. Die Ports lassen sich auch per Software komplett abschalten, damit der User-Port frei verfügbar ist.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>September 22, 2015</div><h1 class="f3 near-black"><a href=/post/fantastische-reise-ii/ class="link black dim">FanTASTische Reise II</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Vor einer Weile haben wir im Beitrag /index.php/2014/12/15/eine-fantastische-reise/ den Weg zu unserem aktuellen Tastaturcontroller beschrieben.
Wer nicht nochmal nachlesen möchte: Ein ATmega8 dient als SPI Slave als Interface zwischen PS/2-Protokoll, Tastaturmapping und Puffer. Als Basis dient eine angepasste Version des Codes aus AVR Application Note 313, die als Ausgabeschnittstelle den USART des ATmega8 vorsieht. Dies haben wir durch das SPI-Interface des AVR ersetzt.
Steckschwein-Seitig haben wir die Tastaturabfrage immer im Blank-Interrupt des Videochips vorgenommen, genauer gesagt, jeden zweiten Blank.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 15, 2014</div><h1 class="f3 near-black"><a href=/post/eine-fantastische-reise/ class="link black dim">Eine fanTASTische Reise</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Von unserem Plan, einen AVR-µC als PS/2-Tastaturcontroller als SPI-Slave einzusetzen, haben wir ja schon in der Vergangenheit berichtet. Damals hieß es: &ldquo;Bequemerweise gibt es zahlreiche fertige Lösungen, die z.B. am anderen Ende rs232 sprechen. Wir wollen aber nur wegen einer Tastatur keinen zweiten UART verbauen. Fehlt also nur eine kleine Anpassung auf SPI.&rdquo;
Hiermit sollte das Schicksal seinen Lauf nehmen. Der kühne Griff in die Bastelkiste sollte einen ATtiny2313 zu Tage fördern, welcher der zugedachten Aufgabe durchaus gewachsen zu sein schien.</div></div><h2 class=f1><a href=/categories/bas class="link blue hover-black">Category: bas</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 28, 2014</div><h1 class="f3 near-black"><a href=/post/tms9929-composite-video-und-rgbhy/ class="link black dim">TMS9929 Composite Video und RGB+H/Y</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit Dommas nicht langweilig wird und auch in den Gfx-Genuss kommt muss natürlich eine Lösung her. Er hat momentan keine Möglichkeit das Steckschwein mit Grafik an seinem geliebten Commodore 1084-S Monitor zu betreiben. Was ist also zu tun?
Wir haben ja im Post &mldr; beschrieben wie wir aus dem YRyBy des TMS9929 ein brauchbares RGB+Sync (BAS) Signal erzeugen können. Das funktioniert auch wunderbar an allen derzeit gängigen CRT-Fernsehern und auch an allen neuzeitlichen Flat-Screens wenn diese noch einen SCART-Anschluss oder ebend RGB+Sync (PAL-RGB) Eingänge besitzen.</div></div><h2 class=f1><a href=/categories/basic class="link blue hover-black">Category: basic</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 21, 2019</div><h1 class="f3 near-black"><a href=/post/chuck-peddle-1937-2019/ class="link black dim">Chuck Peddle, 1937 - 2019</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Chuck Peddle, the main designer of the 6502, has passed away on Dec. 15th, 2019.
Peddle was one of the engineers that developed the 6800 at Motorola. He later went to MOS in order to implement his vision of an 8bit CPU for way less than $300, which was Motorola&rsquo;s price for the 6800.
This idea of a cheap but powerful CPU materialized as the 6501, and finally the 6502. That very chip, which started the microcomputer revolution, and on which both Marko and myself began to write our first code ever at an early age.</div></div><h2 class=f1><a href=/categories/bios class="link blue hover-black">Category: bios</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>June 13, 2019</div><h1 class="f3 near-black"><a href=/post/nvram-improvements/ class="link black dim">NVRAM improvements</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">As real computer is not a real computer without a real time clock, the Steckschwein is no exception here. As we know, we use the Maxim DS1306 RTC, which is a very common RTC which comes as DIP IC and has an SPI interface. And of course it supports battery backup in various configurations. And this is where things get interesting.
Apart from timekeeping, the DS1306 also has 96 bytes of battery buffered RAM.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 24, 2015</div><h1 class="f3 near-black"><a href=/post/mehr-karten-update/ class="link black dim">Mehr Karten (UPDATE)</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Unser &ldquo;Standard&rdquo;-Massenspeicher SD-Karte funktioniert zwar an und für sehr gut, Sorgenkind war aber immer die Initialisierungs-Routine. Bisher ließen sich damit nur günstige Class4-Karten initialisieren, bei &ldquo;höherwertigen&rdquo; Karten schlug die Initialisierung immer fehl, sodass nur etwa 3 von 5 Karten nutzbar waren.
Das hat uns schon etwas gewurmt, denn irgendwie hatte dieser Stand ein Geschmäckle von &ldquo;Funktioniert aus Versehen&rdquo;. Also mussten wir da nochmal ran. Der Initialisierungs-Flow entspricht im Wesentlichen dem, was auf der bekannten Seite http://elm-chan.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 5, 2015</div><h1 class="f3 near-black"><a href=/post/bootschwein/ class="link black dim">Bootschwein</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Aufgabe, die wir dem (Steck)BIOS zugedacht haben, beschränkt sich darauf, die vorhandene Hardware zu initialisieren, auf eine eingelegte SD-Karte zu prüfen, und dann von dort das eigentliche &ldquo;Betriebssystem&rdquo; zu laden. Fast ein bisschen PC-like.
Hier ist die Überlegung, im Stammverzeichnis eine bestimmte Datei zu finden und an eine bestimmte Adresse in den Speicher zu laden.
Sollte dies fehlschlagen, kann man immer noch in einen Monitor oder unsere bekannte rs232-Uploadroutine springen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 1, 2014</div><h1 class="f3 near-black"><a href=/post/noch-schlauerer-decoder/ class="link black dim">Noch schlauerer Decoder</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir sind jetzt also fast in der Lage, das RAM unter dem ROM zu nutzen. Hineinschreiben geht, lesen noch nicht. Da ist das ROM noch im Weg. Wir müssen also einen Weg finden, die GAL-Logik von außen zu beeinflussen. Unser GAL hat noch genügend Eingänge, sodass wir einen Pin zum ROM-Ein-/Ausschalter machen wollen. Lesezugriffe nach $e000-$ffff sollen also nur noch dann im ROM landen, wenn es &ldquo;eingeschaltet&rdquo; ist. Sonst wollen wir ins RAM.</div></div><h2 class=f1><a href=/categories/bootloader class="link blue hover-black">Category: bootloader</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 5, 2015</div><h1 class="f3 near-black"><a href=/post/bootschwein/ class="link black dim">Bootschwein</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Aufgabe, die wir dem (Steck)BIOS zugedacht haben, beschränkt sich darauf, die vorhandene Hardware zu initialisieren, auf eine eingelegte SD-Karte zu prüfen, und dann von dort das eigentliche &ldquo;Betriebssystem&rdquo; zu laden. Fast ein bisschen PC-like.
Hier ist die Überlegung, im Stammverzeichnis eine bestimmte Datei zu finden und an eine bestimmte Adresse in den Speicher zu laden.
Sollte dies fehlschlagen, kann man immer noch in einen Monitor oder unsere bekannte rs232-Uploadroutine springen.</div></div><h2 class=f1><a href=/categories/ch class="link blue hover-black">Category: ch</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2014</div><h1 class="f3 near-black"><a href=/post/zurueck-vom-vcfe-ch/ class="link black dim">Zurück vom VCFe.CH</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Das VCFe.CH war ein großer Spaß und wieder haben wir uns über das Interesse an unserem Projekt gefreut. Bei der Gelegenheit haben wir in einem kleinen Vortrag die letzten Fortschritte und aktuellen Stand des Steckschweins, wie es jetzt offiziell heißt, gehalten. Hier sind die Folien
Außerdem gehört uns jetzt die Domain steckschwein.de, wo in Zukunft unsere Projektwebsite entstehen soll.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 15, 2014</div><h1 class="f3 near-black"><a href=/post/steckschwein-auf-dem-vcfe-ch/ class="link black dim">Steckschwein auf dem VCFe.CH</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir sind wieder unterwegs und zeigen unsere Steckschweine herum. Am Samstag, dem 18.10. werden wir auf dem VCFe.CH in Winterthur zugegen sein, und den aktuellen Stand unseres Projekts vorstellen. Auch ein kleiner Vortrag ist geplant.
Wir freuen uns!</div></div><h2 class=f1><a href=/categories/cmos class="link blue hover-black">Category: cmos</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>June 26, 2015</div><h1 class="f3 near-black"><a href=/post/wdc-und-kein-ende/ class="link black dim">WDC und kein Ende</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">In der letzten Zeit war es hier etwas still ums Steckschwein, was aber nicht als Indiz für Untätigkeit gelten soll. Hauptsächlich haben wir uns auf das Schreiben von Code konzentriert, die Shell wurde weiterentwickelt, etc. Darüberhinaus gab es erste Experimente mit CPLDs. Auf dieser Basis sollen ja zukünftige Verbesserungen der Hardware entstehen, begonnen bei einem eigenständigen SPI-Controller bis hin zur Zusammenfassung der bestehenden Glue-Logik rund um die Adressdekodierung. Da ich mir zu diesem Zweck testhalber solche CPLD-Entwicklungsplatinchen auf Basis des XilinX XC9572XL habe kommen lassen, stellte sich also als erstes die Frage, wie sich dessen 3.</div></div><h2 class=f1><a href=/categories/code class="link blue hover-black">Category: code</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 16, 2019</div><h1 class="f3 near-black"><a href=/post/weird-bug-in-sd-card-code/ class="link black dim">Weird bug in SD card code</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Frank van den Hoef, who is adapting the Steckschwein SPI & FAT32 code for his tiny65 machine made me aware of a classic mistake for a 6502 assembly coder to make. Namely in our sdcard driver, when waiting for the &ldquo;proper&rdquo; response from the card (which should have bit 7 cleared). The routine handling this looked like this:
1 sd_cmd_response_wait: 2 ldy #sd_cmd_response_retries 3 @l: dey 4 beq sd_block_cmd_timeout ; y already 0?</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 13, 2018</div><h1 class="f3 near-black"><a href=/post/vcfb-2018-its-great/ class="link black dim">VCFB 2018 It was great...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">VCF 2018 in Berlin was great! We&rsquo;ve met interesting people there. Got a handshake with Scot W. Stevenson who for(th)ced us to use his TaliForth2 ;)
Later on Saturday Daniel Illgen - maintainer of the Adlib Tracker II for Linux - had decided to honor us with his OPL2 knowledge while on the way out. He advised us to keep the OPL2 sound chip on the Steckschwein, because the OPL2 chip is still not outbid.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 12, 2014</div><h1 class="f3 near-black"><a href=/post/euphorie-jetzt-auch-ram/ class="link black dim">Euphorie: Jetzt auch RAM!</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Euphorie ob des Ausgangs des letzten Versuchs nutzend wird jetzt weitergebaut. Immerhin sind wir so nah an einem richtigen Computer. Was fehlt, ist RAM. Leider nichts im Haus.
Eine temporäre Organspende aus einem C64-Easyflash-Cartridge (Cooles Teil: http://skoe.de/easyflash/doku.php?id=start) verschafft uns ein 6264 SRAM. Dieses verdrahten wir analog zum EPROM, allerdings brauche es hier noch einen Hauch von Gatterlogik, um das EEPROM ans obere Ende des Adressraums zu mappen, während das SRAM in den unteren 8k lebt.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 12, 2014</div><h1 class="f3 near-black"><a href=/post/mehr-mut-es-werde-code/ class="link black dim">Mehr Mut: Es werde Code!</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nachdem uns nach einiger Zeit dann doch langweilig wurde, den Prozessor beim NOPs ausführen zu beobachten musste der nächste Kick her: Es soll Code ausführen! Also ein wenig Code geschrieben (dieser ist leider nicht überliefert, enthielt lediglich einige NOPs und JMPs, gerade genug also, um uns in blanke Verzückung zu versetzen), auf ein 27128 EPROM gebrannt und an Adress- und Datenbus angeschlossen. /OE und /CS des EPROM wurden einfach auf Masse gelegt.</div></div><h2 class=f1><a href=/categories/cpld class="link blue hover-black">Category: cpld</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>June 26, 2015</div><h1 class="f3 near-black"><a href=/post/wdc-und-kein-ende/ class="link black dim">WDC und kein Ende</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">In der letzten Zeit war es hier etwas still ums Steckschwein, was aber nicht als Indiz für Untätigkeit gelten soll. Hauptsächlich haben wir uns auf das Schreiben von Code konzentriert, die Shell wurde weiterentwickelt, etc. Darüberhinaus gab es erste Experimente mit CPLDs. Auf dieser Basis sollen ja zukünftige Verbesserungen der Hardware entstehen, begonnen bei einem eigenständigen SPI-Controller bis hin zur Zusammenfassung der bestehenden Glue-Logik rund um die Adressdekodierung. Da ich mir zu diesem Zweck testhalber solche CPLD-Entwicklungsplatinchen auf Basis des XilinX XC9572XL habe kommen lassen, stellte sich also als erstes die Frage, wie sich dessen 3.</div></div><h2 class=f1><a href=/categories/cpu class="link blue hover-black">Category: cpu</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-the-wait-investigation-of-the-cpu-vdp-wait-interface/ class="link black dim">V9958 - "The WAIT" - investigation of the CPU/VDP /WAIT interface</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; on the way back to munich, we had some time to do a little code review of our gfx library. thinking about the cpu to video chip timings and again read the well known datasheets of the V9938/V9958. suddenly i got an enlightenment and we came to the following conclusion.
as described in the datasheet (V9958-Technical-manual_v1.0.pdf) of the V9958 there are different timings given for different kind of writes. so as far as we understand there are the following timings</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 13, 2018</div><h1 class="f3 near-black"><a href=/post/vcfb-2018-its-great/ class="link black dim">VCFB 2018 It was great...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">VCF 2018 in Berlin was great! We&rsquo;ve met interesting people there. Got a handshake with Scot W. Stevenson who for(th)ced us to use his TaliForth2 ;)
Later on Saturday Daniel Illgen - maintainer of the Adlib Tracker II for Linux - had decided to honor us with his OPL2 knowledge while on the way out. He advised us to keep the OPL2 sound chip on the Steckschwein, because the OPL2 chip is still not outbid.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 5, 2018</div><h1 class="f3 near-black"><a href=/post/meltdown-spectre/ class="link black dim">Meltdown / Spectre</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Aufgrund der verwendeten überlegenen Prozessortechnologie ist das Steckschwein nicht von den aktuellen Prozessor-Sicherheitslücken Meltdown bzw. Spectre betroffen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 4, 2017</div><h1 class="f3 near-black"><a href=/post/logikanalyse-ii/ class="link black dim">Logikanalyse II [UPDATE]</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Inzwischen sind die 74F00 eingetroffen und der 74HCT00 durch einen ebensolchen ersetzt. Das Oszilloskopbild sieht gleich deutlich besser aus:
[caption id=&ldquo;attachment_870&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;800&rdquo;] gelb: /WE, blau: A9[/caption]
Der Schreibvorgang wird also jetzt zumindest abgeschlossen, bevor sich die Adresse auf dem Adressbus ändert. Das ist schonmal viel sauberer.
Nur leider hat es das Problem nicht gelöst, das Steckschwein läuft mit den &ldquo;richtigen&rdquo; RAMs immer noch instabil, was sich insbesondere bei BASIC-Programmen bemerkbar macht:</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 1, 2017</div><h1 class="f3 near-black"><a href=/post/logikanalyse/ class="link black dim">Logikanalyse</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Auf dem VCFe 18.0 gab es Dank Nick Müller die Möglichkeit, das Steckschwein mal mit einem Logic Analyzer &ldquo;für große Jungs&rdquo; zu untersuchen. Unsere USB-Logic-Analyzer sind zwar für vieles gut, aber um komplett Adress- und Datenbus sowie einschlägiger Steuerleitungen abzuhorchen, fehlen einfach Kanäle, und selbst dann wären sie nicht schnell genug.
[caption id=&ldquo;attachment_796&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1280&rdquo;] Das Steckschwein am Logic Analyzer. im Hintergrund Nicks Finger.[/caption]
Die Gelegenheit, ein solches Höllengerät (genauer: ein HP 1652B) und mit Nick auch noch jemanden greifbar zu haben, der selbiges beherrscht, gibt uns die Chance, ein merkwürdiges Problem zu untersuchen, welches schon länger Rätsel aufgibt: Die aktuell verwendeten Hyundai-SRAMs sind mit einer Zugriffszeit von 100ns eigentlich viel zu langsam für 8MHz, zumal der 6502 ja nur die 2.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 8, 2016</div><h1 class="f3 near-black"><a href=/post/neue-cpu-boards/ class="link black dim">Neue CPU-Boards</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir haben vor, eine neue Revision der Steckschwein-Prototyp-Platinen herzustellen. Den Anfang macht ein neues CPU-Board mit einigen Bugfixes und den in Chiptuning beschriebenen zusätzlichen GAL als Waitstate-Generator, sowie einem geändertem Stromanschluss: In Zukunft wird es möglich sein, das Steckschwein mit nur 5V per USB, über einen Rundstecker oder wie gehabt über einen Pin-Header zu versorgen. Die Layouts sind schon fertig:
[caption id=&ldquo;attachment_398&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1015&rdquo;] Bestückungsseite[/caption]
[caption id=&ldquo;attachment_582&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1010&rdquo;] Lötseite[/caption]</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 30, 2016</div><h1 class="f3 near-black"><a href=/post/chiptuning/ class="link black dim">Chiptuning</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">An den Heimcomputern von &ldquo;damals&rdquo; gemessen ist das Steckschwein mit 4 MHz durchaus einer der schnelleren 6502-Rechner. Damals waren zumeist Taktraten von 1 MHz üblich. Einige wenige hatten deutlich mehr, wie z.B. der Apple IIgs (65816) mit 2.8 MHz. Einen 4 MHz-65(C)02-Heimcomputer hat es damals nach unserem Informationsstand nicht gegeben.
Nun ist es aber so, dass aktuell erhältliche 65c02-CPUs von WDC offiziell mit bis zu 14MHz getaktet werden können, inoffiziell wurden schon problemlos Taktraten von 20 MHz erreicht.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 5, 2014</div><h1 class="f3 near-black"><a href=/post/schaltplan/ class="link black dim">Schaltplan</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit Klarheit darüber herrscht, worum es überhaupt geht, haben wir den Schaltplan in die einzelnen Gruppen (Prozessor+ Freunde, Speicher, UART) zerlegt.
Die aktuelle Stückliste liest sich laut Eagle folgendermaßen:
Part Value Device C1 100n C5/3 C3 1n C-EU025-025X050 C4 10n C-EU025-025X050 C5 10µF CPOL-EUE2,5-6E C6 100n C5/3 C7 100n C5/3 C8 100n C5/3 C12 1µF CPOL-EUE2,5-6E C13 100n C5/3 C14 100n C5/3 C15 100n C5/3 C16 1µF CPOL-EUE2,5-6E C17 1µF CPOL-EUE2,5-6E C18 1µF CPOL-EUE2,5-6E C19 1µF CPOL-EUE2,5-6E IC1 CY62256LL-PC CY62256LL-PC IC3 CY62256LL-PC CY62256LL-PC IC4 NE555 NE555 IC5 28c64 2864 IC6 16550 UART XR-16C550P IC8 74LS06N 74LS06N IC9 GAL22V10 22V10 IC10 MAX232 MAX232 QG1 2MHz XO-14 QG2 1.</div></div><h2 class=f1><a href=/categories/debugging class="link blue hover-black">Category: debugging</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 16, 2019</div><h1 class="f3 near-black"><a href=/post/weird-bug-in-sd-card-code/ class="link black dim">Weird bug in SD card code</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Frank van den Hoef, who is adapting the Steckschwein SPI & FAT32 code for his tiny65 machine made me aware of a classic mistake for a 6502 assembly coder to make. Namely in our sdcard driver, when waiting for the &ldquo;proper&rdquo; response from the card (which should have bit 7 cleared). The routine handling this looked like this:
1 sd_cmd_response_wait: 2 ldy #sd_cmd_response_retries 3 @l: dey 4 beq sd_block_cmd_timeout ; y already 0?</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 13, 2018</div><h1 class="f3 near-black"><a href=/post/vcfb-2018-its-great/ class="link black dim">VCFB 2018 It was great...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">VCF 2018 in Berlin was great! We&rsquo;ve met interesting people there. Got a handshake with Scot W. Stevenson who for(th)ced us to use his TaliForth2 ;)
Later on Saturday Daniel Illgen - maintainer of the Adlib Tracker II for Linux - had decided to honor us with his OPL2 knowledge while on the way out. He advised us to keep the OPL2 sound chip on the Steckschwein, because the OPL2 chip is still not outbid.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 22, 2018</div><h1 class="f3 near-black"><a href=/post/wozmon-a-memory-monitor-in-256-bytes/ class="link black dim">WOZMON - a memory monitor in 256 bytes</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">The woz monitor, also known as WOZMON, is a pretty simple memory monitor and was the system software located in the 256 byte PROM on the Apple I. Wozmon is used to inspect and modify memory contents or to execute programs already located in memory. Steve Wozniak managed to squeeze all that functionality into 256 bytes. That&rsquo;s right, bytes. Not megabytes, not kilobytes. Bytes.
We already had attempted to get wozmon ported to our Steckschwein, but we did not succeed so far.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 4, 2017</div><h1 class="f3 near-black"><a href=/post/logikanalyse-ii/ class="link black dim">Logikanalyse II [UPDATE]</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Inzwischen sind die 74F00 eingetroffen und der 74HCT00 durch einen ebensolchen ersetzt. Das Oszilloskopbild sieht gleich deutlich besser aus:
[caption id=&ldquo;attachment_870&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;800&rdquo;] gelb: /WE, blau: A9[/caption]
Der Schreibvorgang wird also jetzt zumindest abgeschlossen, bevor sich die Adresse auf dem Adressbus ändert. Das ist schonmal viel sauberer.
Nur leider hat es das Problem nicht gelöst, das Steckschwein läuft mit den &ldquo;richtigen&rdquo; RAMs immer noch instabil, was sich insbesondere bei BASIC-Programmen bemerkbar macht:</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 1, 2017</div><h1 class="f3 near-black"><a href=/post/logikanalyse/ class="link black dim">Logikanalyse</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Auf dem VCFe 18.0 gab es Dank Nick Müller die Möglichkeit, das Steckschwein mal mit einem Logic Analyzer &ldquo;für große Jungs&rdquo; zu untersuchen. Unsere USB-Logic-Analyzer sind zwar für vieles gut, aber um komplett Adress- und Datenbus sowie einschlägiger Steuerleitungen abzuhorchen, fehlen einfach Kanäle, und selbst dann wären sie nicht schnell genug.
[caption id=&ldquo;attachment_796&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1280&rdquo;] Das Steckschwein am Logic Analyzer. im Hintergrund Nicks Finger.[/caption]
Die Gelegenheit, ein solches Höllengerät (genauer: ein HP 1652B) und mit Nick auch noch jemanden greifbar zu haben, der selbiges beherrscht, gibt uns die Chance, ein merkwürdiges Problem zu untersuchen, welches schon länger Rätsel aufgibt: Die aktuell verwendeten Hyundai-SRAMs sind mit einer Zugriffszeit von 100ns eigentlich viel zu langsam für 8MHz, zumal der 6502 ja nur die 2.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>September 22, 2015</div><h1 class="f3 near-black"><a href=/post/fantastische-reise-ii/ class="link black dim">FanTASTische Reise II</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Vor einer Weile haben wir im Beitrag /index.php/2014/12/15/eine-fantastische-reise/ den Weg zu unserem aktuellen Tastaturcontroller beschrieben.
Wer nicht nochmal nachlesen möchte: Ein ATmega8 dient als SPI Slave als Interface zwischen PS/2-Protokoll, Tastaturmapping und Puffer. Als Basis dient eine angepasste Version des Codes aus AVR Application Note 313, die als Ausgabeschnittstelle den USART des ATmega8 vorsieht. Dies haben wir durch das SPI-Interface des AVR ersetzt.
Steckschwein-Seitig haben wir die Tastaturabfrage immer im Blank-Interrupt des Videochips vorgenommen, genauer gesagt, jeden zweiten Blank.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 24, 2015</div><h1 class="f3 near-black"><a href=/post/schweinebauchanzeige/ class="link black dim">Schweinebauchanzeige</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Als Abfallprodukt der letzten Debugging-Session bezüglich SD-Karten und dessen, was von ihnen gelesen wird, hat die Shell ein kleines Hexdump-Feature bekommen, mit dem sich Speicherinhalte ähnlich wie beim &ldquo;M&rdquo;-Kommando bei diversen Maschinensprachemonitoren ausgeben lassen.
Die Handhabung ist entsprechend bekannt: &ldquo;dump &ldquo;, abgebrochen werden kann mit Ctrl-C. Als Abfallprodukt hiervon gilt das jetzt auch für Directory-Listings.
Damit hat die SteckShell nunmehr die Versionsnummer 0.10.</div></div><h2 class=f1><a href=/categories/dinosaur class="link blue hover-black">Category: dinosaur</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>September 11, 2015</div><h1 class="f3 near-black"><a href=/post/ein-spiel-entsteht/ class="link black dim">Ein Spiel entsteht...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Im Chrome Browser gibt es einen netten Zeitvertreib in Form des Games &ldquo;Dinosaur&rdquo;. Das Spiel wird immer dann eingeblendet, wenn keine Internet-Verbindung verfügbar ist. Das Spiel ist sehr einfach aufgebaut, kann aber leicht süchtig machen und ist ein netter Zeitvertreib bis die Verbindung wieder verfügbar ist. Genau diese Einfachheit der Grafik und des Gameplays brachte mich auf die Idee das Spiel für das Steckschwein umzusetzen. Wie ich dabei vorgegangen bin, möchte ich Euch hier schildern.</div></div><h2 class=f1><a href=/categories/dram class="link blue hover-black">Category: dram</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 15, 2018</div><h1 class="f3 near-black"><a href=/post/v9958opl2-boards-are-there/ class="link black dim">V9958+OPL2-Boards are there</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">The newly made boards made their way from China to Munich. Starting now, the multi board version of the Steckschwein is made up of 3 Boards: CPU/Memory, IO/UART and V9958-OPL2.
[gallery ids=&ldquo;1166,1167,1168&rdquo; type=&ldquo;rectangular&rdquo;]</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 1, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-vom-steckbrett-zum-prototypen/ class="link black dim">V9958 - Vom Steckbrett zum Prototypen</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Es ist soweit, der erste Prototyp auf Platine von unserem neuen V9958-Videoboard ist fertig layoutet, und die Platinen warten beim Fertiger auf ihren Versand.
Der Steckbrettaufbau vom letzten Post wurde auf 128k erweitert. Dazu ist einfach eine 2. Bank von 2 Stück 64k x 4 DRAMS dazugebaut worden. Damit entspricht der Aufbau unserem Schaltplan, und dieser ist damit getestet.
Unsere Timing-Probleme führen wir auf zu kurze Delays bei Registerzugriffen, ein Softwareproblem also, zurück.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 9, 2017</div><h1 class="f3 near-black"><a href=/post/es-wird-wieder-gesteckt/ class="link black dim">Es wird wieder gesteckt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir haben uns schon länger ein Upgrade des Videochips des Steckschweins vorgenommen. Der TMS9929 ist ein netter Chip, aber an einem 8MHz-65c02, der dazu noch so coole Hardware-Features hat, fühlt er sich ein bisschen wie die Achillesferse an.
Zum Glück war beim TMS9929 nicht Schluss, denn dieser hat im Laufe der Zeit diverse Nachfolger bekommen, welche von Yamaha hergestellt wurden und in diversen Weiterentwicklungen des MSX-Standards Verwendung fanden.
Der direkte Nachfolger der TMS99xx-Reihe ist der V9938.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 2, 2014</div><h1 class="f3 near-black"><a href=/post/tms9929-wir-wollen-was-sehen/ class="link black dim">TMS9929 - Wir wollen was sehen...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; und zwar auf einem Bildschirm! Aber wie stellt man sowas an?! Nun, wir schauen uns um, was Ende der 70-er bzw. Anfang der 80-er Jahre Stand der Technik war und was sich mit überschaubarem Aufwand an eine 6502 CPU &ldquo;anschließen&rdquo; lässt. Die Auswahl ist leider überschaubar, denn es sollte irgendwas in DIP maximal noch SDIP sein und dazu noch irgendwie lieferbar - &ldquo;new old stock&rdquo;.
Wir fanden die TMS9918/28/29-Serie und einige Nachfolger wie den TMS9938/58.</div></div><h2 class=f1><a href=/categories/eeprom class="link blue hover-black">Category: eeprom</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 5, 2014</div><h1 class="f3 near-black"><a href=/post/schaltplan/ class="link black dim">Schaltplan</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit Klarheit darüber herrscht, worum es überhaupt geht, haben wir den Schaltplan in die einzelnen Gruppen (Prozessor+ Freunde, Speicher, UART) zerlegt.
Die aktuelle Stückliste liest sich laut Eagle folgendermaßen:
Part Value Device C1 100n C5/3 C3 1n C-EU025-025X050 C4 10n C-EU025-025X050 C5 10µF CPOL-EUE2,5-6E C6 100n C5/3 C7 100n C5/3 C8 100n C5/3 C12 1µF CPOL-EUE2,5-6E C13 100n C5/3 C14 100n C5/3 C15 100n C5/3 C16 1µF CPOL-EUE2,5-6E C17 1µF CPOL-EUE2,5-6E C18 1µF CPOL-EUE2,5-6E C19 1µF CPOL-EUE2,5-6E IC1 CY62256LL-PC CY62256LL-PC IC3 CY62256LL-PC CY62256LL-PC IC4 NE555 NE555 IC5 28c64 2864 IC6 16550 UART XR-16C550P IC8 74LS06N 74LS06N IC9 GAL22V10 22V10 IC10 MAX232 MAX232 QG1 2MHz XO-14 QG2 1.</div></div><h2 class=f1><a href=/categories/experiment class="link blue hover-black">Category: experiment</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 15, 2020</div><h1 class="f3 near-black"><a href=/post/connecting-snes-controller-to-the-steckschwein/ class="link black dim">Connecting SNES Controller to the Steckschwein</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Recently, Michael Steil published a blog post about connecting NES and SNES Controller to a 6502-based system showing how to use NES and SNES controllers on a C64 without the need for any special hardware, by just connecting them to the C64&rsquo;s user port.
Why not use his approach and adapt it to the Steckschwein? The Steckschwein has a User Port, too, albeit a very different one as the C64. Basically, the Steckschwein-User-Port consists of the complete Port A of the VIA, plus the /RESET and /IRQ lines.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-the-wait-investigation-of-the-cpu-vdp-wait-interface/ class="link black dim">V9958 - "The WAIT" - investigation of the CPU/VDP /WAIT interface</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; on the way back to munich, we had some time to do a little code review of our gfx library. thinking about the cpu to video chip timings and again read the well known datasheets of the V9938/V9958. suddenly i got an enlightenment and we came to the following conclusion.
as described in the datasheet (V9958-Technical-manual_v1.0.pdf) of the V9958 there are different timings given for different kind of writes. so as far as we understand there are the following timings</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 22, 2018</div><h1 class="f3 near-black"><a href=/post/wozmon-a-memory-monitor-in-256-bytes/ class="link black dim">WOZMON - a memory monitor in 256 bytes</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">The woz monitor, also known as WOZMON, is a pretty simple memory monitor and was the system software located in the 256 byte PROM on the Apple I. Wozmon is used to inspect and modify memory contents or to execute programs already located in memory. Steve Wozniak managed to squeeze all that functionality into 256 bytes. That&rsquo;s right, bytes. Not megabytes, not kilobytes. Bytes.
We already had attempted to get wozmon ported to our Steckschwein, but we did not succeed so far.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 12, 2014</div><h1 class="f3 near-black"><a href=/post/am-anfang-war-das-nop/ class="link black dim">Am Anfang war das NOP</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wenn man 20 Jahre lang den Jugendtraum mit sich rumträgt, einen 8bit-Rechner selber zu bauen, dann hat man 20 Jahre Zeit, einzurosten. Langsames Rantasten an das große Ziel ist angesagt.
In diesem Fall soll unser 65c02 erstmal nur NOPs ausführen und wir wollen zuschauen, was auf dem Adressbus passiert. Der Datenbus ist hart verdrahtet auf NOP ($EA, 11101010) . Als Reset-Schaltung kommt eine auf Basis des allseits beliebten NE555 zum Einsatz.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 12, 2014</div><h1 class="f3 near-black"><a href=/post/mehr-mut-es-werde-code/ class="link black dim">Mehr Mut: Es werde Code!</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nachdem uns nach einiger Zeit dann doch langweilig wurde, den Prozessor beim NOPs ausführen zu beobachten musste der nächste Kick her: Es soll Code ausführen! Also ein wenig Code geschrieben (dieser ist leider nicht überliefert, enthielt lediglich einige NOPs und JMPs, gerade genug also, um uns in blanke Verzückung zu versetzen), auf ein 27128 EPROM gebrannt und an Adress- und Datenbus angeschlossen. /OE und /CS des EPROM wurden einfach auf Masse gelegt.</div></div><h2 class=f1><a href=/categories/fat class="link blue hover-black">Category: fat</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 20, 2015</div><h1 class="f3 near-black"><a href=/post/filesystem-und-shell/ class="link black dim">Filesystem und Shell</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Vor kurzem haben wir ja schon von ersten Gehversuchen einer FAT32-Implementation berichtet, mit der wir in der Lage waren, beim Systemstart eine Datei von SD-Karte zu laden.
Was fehlt, ist eine Möglichkeit, innerhalb eines Filesystems einer SD-Karte zu navigieren, Programme zu laden oder Dateien anzuzeigen. Um diese Lücke zu füllen, ist die SteckShell entstanden. In der aktuellen Version 0.6 unterstützt die Shell folgende Funktionen:
Directory auflisten Directory wechseln Programm laden und starten Datei anzeigen Grafik (TMS9929-Rohdaten) anzeigen Wer auf dem VCFe 16.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 5, 2015</div><h1 class="f3 near-black"><a href=/post/bootschwein/ class="link black dim">Bootschwein</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Aufgabe, die wir dem (Steck)BIOS zugedacht haben, beschränkt sich darauf, die vorhandene Hardware zu initialisieren, auf eine eingelegte SD-Karte zu prüfen, und dann von dort das eigentliche &ldquo;Betriebssystem&rdquo; zu laden. Fast ein bisschen PC-like.
Hier ist die Überlegung, im Stammverzeichnis eine bestimmte Datei zu finden und an eine bestimmte Adresse in den Speicher zu laden.
Sollte dies fehlschlagen, kann man immer noch in einen Monitor oder unsere bekannte rs232-Uploadroutine springen.</div></div><h2 class=f1><a href=/categories/fat32 class="link blue hover-black">Category: fat32</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 22, 2016</div><h1 class="f3 near-black"><a href=/post/das-steckschwein-auf-dem-vcfe-17/ class="link black dim">Das Steckschwein auf dem VCFe 17</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Am Wochenende vom 30. April und 1. Mai 2016 findet zum 17. Mal das Vintage Computer Festival Europe (VCFe) in München statt.
Das Steckschwein ist natürlich wieder dabei. Unter anderem wird es unsere neue CPU-Platine mit integriertem Waitstate-Generator und dadurch möglichen 8MHz Takt gezeigt.
Ausserdem wird es getreu des diesjährigen VCFe-Mottos &ldquo;Irgendwas mit Medien&rdquo; einen Vortrag zum Speichermedium des Steckschweins geben, speziell über dessen FAT32-Unterstützung.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 20, 2015</div><h1 class="f3 near-black"><a href=/post/filesystem-und-shell/ class="link black dim">Filesystem und Shell</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Vor kurzem haben wir ja schon von ersten Gehversuchen einer FAT32-Implementation berichtet, mit der wir in der Lage waren, beim Systemstart eine Datei von SD-Karte zu laden.
Was fehlt, ist eine Möglichkeit, innerhalb eines Filesystems einer SD-Karte zu navigieren, Programme zu laden oder Dateien anzuzeigen. Um diese Lücke zu füllen, ist die SteckShell entstanden. In der aktuellen Version 0.6 unterstützt die Shell folgende Funktionen:
Directory auflisten Directory wechseln Programm laden und starten Datei anzeigen Grafik (TMS9929-Rohdaten) anzeigen Wer auf dem VCFe 16.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 20, 2015</div><h1 class="f3 near-black"><a href=/post/das-steckschwein-auf-dem-vcfe-16-0/ class="link black dim">Das Steckschwein auf dem VCFe 16.0</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Vom 1. bis 3. Mai findet das Vintage Computer Festival Europe zum 16. Mal in München statt. Genau wie letztes Jahr ist auch das Steckschwein-Projekt wieder mit von der Partie.
Wir werden die Platinenversionen sowie den Steckbrett-Urschleim präsentieren. Darüberhinaus wird es unsere aktuellen Fortschritte im Bereich &ldquo;Betriebsystem&rdquo;, Filesystem (SteckShell) sowie Videochip zu sehen geben. Zum den Themen &ldquo;Steckschwein auf Platine&rdquo; und &ldquo;Video-Board&rdquo; sind außerdem Vorträge vorgesehen</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 5, 2015</div><h1 class="f3 near-black"><a href=/post/bootschwein/ class="link black dim">Bootschwein</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Aufgabe, die wir dem (Steck)BIOS zugedacht haben, beschränkt sich darauf, die vorhandene Hardware zu initialisieren, auf eine eingelegte SD-Karte zu prüfen, und dann von dort das eigentliche &ldquo;Betriebssystem&rdquo; zu laden. Fast ein bisschen PC-like.
Hier ist die Überlegung, im Stammverzeichnis eine bestimmte Datei zu finden und an eine bestimmte Adresse in den Speicher zu laden.
Sollte dies fehlschlagen, kann man immer noch in einen Monitor oder unsere bekannte rs232-Uploadroutine springen.</div></div><h2 class=f1><a href=/categories/fbas class="link blue hover-black">Category: fbas</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 17, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-es-ist-vollbracht/ class="link black dim">V9958 - Es ist vollbracht</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Da ist sie nun, die neuen Videoplatine. Nach einigen Umwegen hat der Packen Boards uns erreicht (die erste Lieferung ist versehentlich in Spanien gelandet, während wir die Platinen des spanischen Bastlers erhalten haben. Inzwischen hat jeder Ersatz erhalten).
Wir haben ja bekanntlich unsere Vorgehensweise geändert, indem wir schneller Platinen anfertigen lassen. Aber zu unserer großen Freude funktionierte die erste Platine nach Bestückung auf Anhieb. Selbstverständlich haben sich aber auch ein paar Patzer eingeschlichen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 11, 2016</div><h1 class="f3 near-black"><a href=/post/die-spannung-sinkt-alles-auf-5-volt/ class="link black dim">Die Spannung sinkt... alles auf 5 Volt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Endlich, wir haben uns mal bemüht und pünktlich zum 17. VCF das Steckschwein auf 5V umgerüstet. Genauer gesagt war ja nur noch das Video-Board und der YPbPr auf RGB-Encoder das Problem. Der kam zwar mit 5V auch klar, jedoch war dann der Kontrast und die Farbsättigung &ldquo;unterirdisch&rdquo;.
Was haben wir geändert? Vorab muss man sagen, dass uns in den - mittlerweile - letzten Jahren zahlreiche Emails von Interessenten, Retro-Freaks und Bastlern ereilten.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 28, 2014</div><h1 class="f3 near-black"><a href=/post/tms9929-composite-video-und-rgbhy/ class="link black dim">TMS9929 Composite Video und RGB+H/Y</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit Dommas nicht langweilig wird und auch in den Gfx-Genuss kommt muss natürlich eine Lösung her. Er hat momentan keine Möglichkeit das Steckschwein mit Grafik an seinem geliebten Commodore 1084-S Monitor zu betreiben. Was ist also zu tun?
Wir haben ja im Post &mldr; beschrieben wie wir aus dem YRyBy des TMS9929 ein brauchbares RGB+Sync (BAS) Signal erzeugen können. Das funktioniert auch wunderbar an allen derzeit gängigen CRT-Fernsehern und auch an allen neuzeitlichen Flat-Screens wenn diese noch einen SCART-Anschluss oder ebend RGB+Sync (PAL-RGB) Eingänge besitzen.</div></div><h2 class=f1><a href=/categories/forth class="link blue hover-black">Category: forth</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 2, 2017</div><h1 class="f3 near-black"><a href=/post/vcfe-18-0-ein-resuemee/ class="link black dim">VCFe 18.0 - ein Resümee</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Kein VCFe ohne einen resümmierenden Post-VCFe-Post von uns.
Vorweg: Der neue Veranstaltungsort im Kulturzentrum Trudering ist hervorragend. Eine moderne Veranstaltungshalle, mehr Platz als in der alten ESV-Turnhalle, großzügiger Foyerbereich und ein deutlich größerer Vortragsraum. Die Nahrungsversorgung bestreitet im Kulturzentrum Trudering das integrierte indische Restaurant &ldquo;Taj&rdquo;, welches ebenso überzeugen konnte. Alles in allem ein großer Gewinn und allen Anzeichen nach wird das nächste VCFe auch wieder dort stattfinden.
[caption id=&ldquo;attachment_853&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1280&rdquo;] Das Steckschwein auf dem VCFe 18.</div></div><h2 class=f1><a href=/categories/gal class="link blue hover-black">Category: gal</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 8, 2016</div><h1 class="f3 near-black"><a href=/post/neue-cpu-boards/ class="link black dim">Neue CPU-Boards</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir haben vor, eine neue Revision der Steckschwein-Prototyp-Platinen herzustellen. Den Anfang macht ein neues CPU-Board mit einigen Bugfixes und den in Chiptuning beschriebenen zusätzlichen GAL als Waitstate-Generator, sowie einem geändertem Stromanschluss: In Zukunft wird es möglich sein, das Steckschwein mit nur 5V per USB, über einen Rundstecker oder wie gehabt über einen Pin-Header zu versorgen. Die Layouts sind schon fertig:
[caption id=&ldquo;attachment_398&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1015&rdquo;] Bestückungsseite[/caption]
[caption id=&ldquo;attachment_582&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1010&rdquo;] Lötseite[/caption]</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 30, 2016</div><h1 class="f3 near-black"><a href=/post/chiptuning/ class="link black dim">Chiptuning</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">An den Heimcomputern von &ldquo;damals&rdquo; gemessen ist das Steckschwein mit 4 MHz durchaus einer der schnelleren 6502-Rechner. Damals waren zumeist Taktraten von 1 MHz üblich. Einige wenige hatten deutlich mehr, wie z.B. der Apple IIgs (65816) mit 2.8 MHz. Einen 4 MHz-65(C)02-Heimcomputer hat es damals nach unserem Informationsstand nicht gegeben.
Nun ist es aber so, dass aktuell erhältliche 65c02-CPUs von WDC offiziell mit bis zu 14MHz getaktet werden können, inoffiziell wurden schon problemlos Taktraten von 20 MHz erreicht.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 26, 2014</div><h1 class="f3 near-black"><a href=/post/rom-an-rom-aus/ class="link black dim">ROM an, ROM aus</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nachdem wir also mit dem Adressdecoder durchaus zufrieden sind, müssen wir uns noch einen Weg überlegen, die /ROMOFF-Leitung per Software steuerbar zu machen. Wenn es schon beim BIOS-Update Test äußerst nützlich ist einfach nur eine Brücke umzustecken und damit das ROM zu deaktivieren, wie praktisch muss es erst sein, dies einfach durch Beschreiben einer Speicherstelle zu tun.
Was wir also brauchen, ist ein IO-Pin, der die /ROMOFF-Leitung steuert. Zusätzlich muss dieser Pin beim Einschalten des Systems einen definierten Zustand haben, damit sichergestellt ist, daß zu diesem Zeitpunkt das ROM eingeblendet ist.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 23, 2014</div><h1 class="f3 near-black"><a href=/post/dekoder-die-dritte/ class="link black dim">Dekoder, die Dritte</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Bekanntlich dekodiert unser GAL die oberen 8bit des Adressbus, um den Bereich $8000-$ffff unter RAM, IO-Bereich und ROM einzuteilen. Die unteren 32k werden am Decoder vorbei direkt von der Adressleitung A15 selektiert. Das Memory-Mapping, das sich daraus ergibt, ist - zur Wiederholung - wie folgt:
Bereich Was $0000 - $7fff RAM $8000 - $cfff RAM $d000 - $dfff IO-Bereich $e000 - $ffff ROM Die letzte Änderung am Decoder war, das ROM bei Bedarf ausblendbar zu machen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 1, 2014</div><h1 class="f3 near-black"><a href=/post/noch-schlauerer-decoder/ class="link black dim">Noch schlauerer Decoder</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir sind jetzt also fast in der Lage, das RAM unter dem ROM zu nutzen. Hineinschreiben geht, lesen noch nicht. Da ist das ROM noch im Weg. Wir müssen also einen Weg finden, die GAL-Logik von außen zu beeinflussen. Unser GAL hat noch genügend Eingänge, sodass wir einen Pin zum ROM-Ein-/Ausschalter machen wollen. Lesezugriffe nach $e000-$ffff sollen also nur noch dann im ROM landen, wenn es &ldquo;eingeschaltet&rdquo; ist. Sonst wollen wir ins RAM.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 1, 2014</div><h1 class="f3 near-black"><a href=/post/schlauerer-decoder/ class="link black dim">Schlauer(er) Decoder</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Im Rahmen unserer Reihe &ldquo;Kleine Verbesserungen an der Architektur&rdquo; ist heute der Adressdekoder dran. Dieser entscheidet bekanntlich anhand der am Adressbus anliegenden Adresse (oder genauergesagt deren höheren 8bit), welcher Baustein an der entsprechenden Adresse eingeblendet werden soll. Durch den Umstand, dass die oberen 8k dem ROM gehören, lassen sich die darunterliegenden 8k RAM nicht ohne weiteres nutzen. Die für die Selektierung des ROMs und der oberen 32k RAM sehen folgendermaßen aus:</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>June 24, 2014</div><h1 class="f3 near-black"><a href=/post/verfeinerungen-am-design/ class="link black dim">Verfeinerungen am Design</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">So langsam geht es weiter mit der Steckschweinentwicklung.
Die Timingprobleme mit dem VDP bedürfen einer eingehenden Prüfung und Messung, um genau zu verstehen, wo was nicht passt. Unsere Ideen mit Puffern und/oder versetzten Taktsignalen, um den VDP früher &ldquo;kommen&rdquo; zu lassen stellen wir zurück, bis wir gesicherte Erkenntnisse haben. Ein Herumdoktern aufgrund von Vermutungen halten wir nicht für zielführend. Vorher ist es auch nicht sinnvoll, irgendwelche Platinen zu löten.
Stattdessen stecken wir ein wenig Hirnschmalz ins aktuelle Design.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 16, 2014</div><h1 class="f3 near-black"><a href=/post/das-design-wird-erweitert/ class="link black dim">Das Design wird erweitert</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Sinn der Sache ist ja nicht, etwas 1:1 nachzubauen, sondern ein möglichst eigenes Design. Nachdem wir mit Chris&rsquo; Design - bzw. dessen, was wir davon übernommen haben (Adressdekodierung, ACIA, VIA) - genug herumgespielt hatten, galt es, &ldquo;unser&rdquo; Ding draus zu machen. Der erste Schritt war ein Sprung ins kalte Wasser in die uns bislang noch unbekannte Welt der Programmierbaren Logik. Dazu haben wir zunächst die Adressdekodierung bestehend aus 74ls138/74ls154 sowie etwas glue Logic in VHDL implementiert und auf ein GAL22V10D gebrannt.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 22, 2014</div><h1 class="f3 near-black"><a href=/post/doppelt-haelt-besser/ class="link black dim">Doppelt hält besser</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit sich ein &ldquo;Steckschwein&rdquo; nicht so einsam fühlt, haben wir das ganze nochmal geklont. Jetzt hat jeder sein eigenes Steckschwein und kann daran rumschrauben oder besser gesagt rumstecken.
Da wir das Tooling &ldquo;leichtgewichtig&rdquo; halten wollen, gabs auch gleich ein kleines Problem zu lösen. Die Dekoder-Logik für den GAL wurde bisher in VHDL definiert und mit dem Hersteller-Produkt http://www.latticesemi.com/ispleverclassic ein entsprechendes JEDEC-File erzeugt. Das war uns dann doch viel zu unhandlich und wir haben uns nach Alternativen umgetan.</div></div><h2 class=f1><a href=/categories/galasm class="link blue hover-black">Category: galasm</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 30, 2016</div><h1 class="f3 near-black"><a href=/post/chiptuning/ class="link black dim">Chiptuning</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">An den Heimcomputern von &ldquo;damals&rdquo; gemessen ist das Steckschwein mit 4 MHz durchaus einer der schnelleren 6502-Rechner. Damals waren zumeist Taktraten von 1 MHz üblich. Einige wenige hatten deutlich mehr, wie z.B. der Apple IIgs (65816) mit 2.8 MHz. Einen 4 MHz-65(C)02-Heimcomputer hat es damals nach unserem Informationsstand nicht gegeben.
Nun ist es aber so, dass aktuell erhältliche 65c02-CPUs von WDC offiziell mit bis zu 14MHz getaktet werden können, inoffiziell wurden schon problemlos Taktraten von 20 MHz erreicht.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 22, 2014</div><h1 class="f3 near-black"><a href=/post/doppelt-haelt-besser/ class="link black dim">Doppelt hält besser</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit sich ein &ldquo;Steckschwein&rdquo; nicht so einsam fühlt, haben wir das ganze nochmal geklont. Jetzt hat jeder sein eigenes Steckschwein und kann daran rumschrauben oder besser gesagt rumstecken.
Da wir das Tooling &ldquo;leichtgewichtig&rdquo; halten wollen, gabs auch gleich ein kleines Problem zu lösen. Die Dekoder-Logik für den GAL wurde bisher in VHDL definiert und mit dem Hersteller-Produkt http://www.latticesemi.com/ispleverclassic ein entsprechendes JEDEC-File erzeugt. Das war uns dann doch viel zu unhandlich und wir haben uns nach Alternativen umgetan.</div></div><h2 class=f1><a href=/categories/hexdump class="link blue hover-black">Category: hexdump</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 22, 2018</div><h1 class="f3 near-black"><a href=/post/wozmon-a-memory-monitor-in-256-bytes/ class="link black dim">WOZMON - a memory monitor in 256 bytes</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">The woz monitor, also known as WOZMON, is a pretty simple memory monitor and was the system software located in the 256 byte PROM on the Apple I. Wozmon is used to inspect and modify memory contents or to execute programs already located in memory. Steve Wozniak managed to squeeze all that functionality into 256 bytes. That&rsquo;s right, bytes. Not megabytes, not kilobytes. Bytes.
We already had attempted to get wozmon ported to our Steckschwein, but we did not succeed so far.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 24, 2015</div><h1 class="f3 near-black"><a href=/post/schweinebauchanzeige/ class="link black dim">Schweinebauchanzeige</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Als Abfallprodukt der letzten Debugging-Session bezüglich SD-Karten und dessen, was von ihnen gelesen wird, hat die Shell ein kleines Hexdump-Feature bekommen, mit dem sich Speicherinhalte ähnlich wie beim &ldquo;M&rdquo;-Kommando bei diversen Maschinensprachemonitoren ausgeben lassen.
Die Handhabung ist entsprechend bekannt: &ldquo;dump &ldquo;, abgebrochen werden kann mit Ctrl-C. Als Abfallprodukt hiervon gilt das jetzt auch für Directory-Listings.
Damit hat die SteckShell nunmehr die Versionsnummer 0.10.</div></div><h2 class=f1><a href=/categories/hold-time-violation class="link blue hover-black">Category: hold-time-violation</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>June 24, 2014</div><h1 class="f3 near-black"><a href=/post/verfeinerungen-am-design/ class="link black dim">Verfeinerungen am Design</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">So langsam geht es weiter mit der Steckschweinentwicklung.
Die Timingprobleme mit dem VDP bedürfen einer eingehenden Prüfung und Messung, um genau zu verstehen, wo was nicht passt. Unsere Ideen mit Puffern und/oder versetzten Taktsignalen, um den VDP früher &ldquo;kommen&rdquo; zu lassen stellen wir zurück, bis wir gesicherte Erkenntnisse haben. Ein Herumdoktern aufgrund von Vermutungen halten wir nicht für zielführend. Vorher ist es auch nicht sinnvoll, irgendwelche Platinen zu löten.
Stattdessen stecken wir ein wenig Hirnschmalz ins aktuelle Design.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>June 2, 2014</div><h1 class="f3 near-black"><a href=/post/von-hummeln-und-puffern/ class="link black dim">Von Hummeln und Puffern</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nach dem VCFe ist erstmal nicht viel aktive Entwicklung passiert. Vielmehr haben wir die Erkenntnis, dass wir ein grundsätzliches Timing-Problem haben (danke nochmal an Udo Möller) ein klein wenig sacken lassen. Im Grunde genommen ist es so, wie es sich aus dem vorletzten Post schon herauslesen läßt. Der WDC 65c02 hat eine Data Hold Time von 10ns, während der TMS9929 30ns braucht, sein Zeug vom Bus zu holen. Die verwendeten 16550er UARTs auch.</div></div><h2 class=f1><a href=/categories/inkompatibel class="link blue hover-black">Category: inkompatibel</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 24, 2015</div><h1 class="f3 near-black"><a href=/post/mehr-karten-update/ class="link black dim">Mehr Karten (UPDATE)</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Unser &ldquo;Standard&rdquo;-Massenspeicher SD-Karte funktioniert zwar an und für sehr gut, Sorgenkind war aber immer die Initialisierungs-Routine. Bisher ließen sich damit nur günstige Class4-Karten initialisieren, bei &ldquo;höherwertigen&rdquo; Karten schlug die Initialisierung immer fehl, sodass nur etwa 3 von 5 Karten nutzbar waren.
Das hat uns schon etwas gewurmt, denn irgendwie hatte dieser Stand ein Geschmäckle von &ldquo;Funktioniert aus Versehen&rdquo;. Also mussten wir da nochmal ran. Der Initialisierungs-Flow entspricht im Wesentlichen dem, was auf der bekannten Seite http://elm-chan.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>June 26, 2015</div><h1 class="f3 near-black"><a href=/post/wdc-und-kein-ende/ class="link black dim">WDC und kein Ende</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">In der letzten Zeit war es hier etwas still ums Steckschwein, was aber nicht als Indiz für Untätigkeit gelten soll. Hauptsächlich haben wir uns auf das Schreiben von Code konzentriert, die Shell wurde weiterentwickelt, etc. Darüberhinaus gab es erste Experimente mit CPLDs. Auf dieser Basis sollen ja zukünftige Verbesserungen der Hardware entstehen, begonnen bei einem eigenständigen SPI-Controller bis hin zur Zusammenfassung der bestehenden Glue-Logik rund um die Adressdekodierung. Da ich mir zu diesem Zweck testhalber solche CPLD-Entwicklungsplatinchen auf Basis des XilinX XC9572XL habe kommen lassen, stellte sich also als erstes die Frage, wie sich dessen 3.</div></div><h2 class=f1><a href=/categories/joystick class="link blue hover-black">Category: joystick</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 15, 2020</div><h1 class="f3 near-black"><a href=/post/connecting-snes-controller-to-the-steckschwein/ class="link black dim">Connecting SNES Controller to the Steckschwein</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Recently, Michael Steil published a blog post about connecting NES and SNES Controller to a 6502-based system showing how to use NES and SNES controllers on a C64 without the need for any special hardware, by just connecting them to the C64&rsquo;s user port.
Why not use his approach and adapt it to the Steckschwein? The Steckschwein has a User Port, too, albeit a very different one as the C64. Basically, the Steckschwein-User-Port consists of the complete Port A of the VIA, plus the /RESET and /IRQ lines.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>November 28, 2017</div><h1 class="f3 near-black"><a href=/post/neue-hardware-die-platinen-sind-da/ class="link black dim">Neue Hardware - die Platinen sind da</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die neuen IO-Platinen mit integriertem UART sind fertig und haben ihren Weg von China nach München gefunden.
Mit dem neuen Layout hat es nicht nur der UART mit aufs IO-Board geschafft, es sind auch etliche kleinere und größere Verbesserungen eingeflossen:
Die Joystickports wurden komplett neu designed. Die Optokoppler sparen wir uns, stattdessen wählen wir über einen VIA Pin verschiedene Treiber an, die den gewünschten Joystickport mit VIA Port A verbindet. Die Ports lassen sich auch per Software komplett abschalten, damit der User-Port frei verfügbar ist.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>November 22, 2017</div><h1 class="f3 near-black"><a href=/post/mal-wieder-neue-hardware/ class="link black dim">Mal wieder neue Hardware</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Zeit ist reif für ein Hardware-Update, und zwar für die IO-Platine 2.0. Vorgesehen war ja schon länger, den UART dort zu integrieren. Ausserdem war das Joystick&ndash;Interface noch unausgegoren, sodass auch hier etwas Neues entwickelt wurde.
Zum Schutz der VIA-Pins dienen nun keine Optokoppler, sondern simple Serienwiderstände sollen die Ports zumindest vor dem Fall schützen, dass man doch mal die Datenrichtung der Joystick-Pins auf Ausgang schaltet und dann die VIA grillt indem man den Joystick betätigt.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>September 11, 2015</div><h1 class="f3 near-black"><a href=/post/ein-spiel-entsteht/ class="link black dim">Ein Spiel entsteht...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Im Chrome Browser gibt es einen netten Zeitvertreib in Form des Games &ldquo;Dinosaur&rdquo;. Das Spiel wird immer dann eingeblendet, wenn keine Internet-Verbindung verfügbar ist. Das Spiel ist sehr einfach aufgebaut, kann aber leicht süchtig machen und ist ein netter Zeitvertreib bis die Verbindung wieder verfügbar ist. Genau diese Einfachheit der Grafik und des Gameplays brachte mich auf die Idee das Spiel für das Steckschwein umzusetzen. Wie ich dabei vorgegangen bin, möchte ich Euch hier schildern.</div></div><h2 class=f1><a href=/categories/kicad class="link blue hover-black">Category: kicad</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 15, 2018</div><h1 class="f3 near-black"><a href=/post/v9958opl2-boards-are-there/ class="link black dim">V9958+OPL2-Boards are there</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">The newly made boards made their way from China to Munich. Starting now, the multi board version of the Steckschwein is made up of 3 Boards: CPU/Memory, IO/UART and V9958-OPL2.
[gallery ids=&ldquo;1166,1167,1168&rdquo; type=&ldquo;rectangular&rdquo;]</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 7, 2018</div><h1 class="f3 near-black"><a href=/post/new-v9958-board-with-integrated-opl2/ class="link black dim">New V9958-Board with integrated OPL2</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">It&rsquo;s time for another hardware upgrade. Since we really want to get our single board Steckschwein done, we are going for higher integration of our multiboard prototype. After integrating the UART to the IO-Board, we integrate the OPL2 sound part onto the V9958 video board, so the current Steckschwein multi board incarnations are reduced to three boards. We did postpone our plan to upgrade sound to OPL3 because Daniel Illgen, which we met at VCFb, convinced us with some awesome OPL2 tunes that OPL2 is still cool.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>November 28, 2017</div><h1 class="f3 near-black"><a href=/post/neue-hardware-die-platinen-sind-da/ class="link black dim">Neue Hardware - die Platinen sind da</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die neuen IO-Platinen mit integriertem UART sind fertig und haben ihren Weg von China nach München gefunden.
Mit dem neuen Layout hat es nicht nur der UART mit aufs IO-Board geschafft, es sind auch etliche kleinere und größere Verbesserungen eingeflossen:
Die Joystickports wurden komplett neu designed. Die Optokoppler sparen wir uns, stattdessen wählen wir über einen VIA Pin verschiedene Treiber an, die den gewünschten Joystickport mit VIA Port A verbindet. Die Ports lassen sich auch per Software komplett abschalten, damit der User-Port frei verfügbar ist.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 8, 2016</div><h1 class="f3 near-black"><a href=/post/neue-cpu-boards/ class="link black dim">Neue CPU-Boards</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir haben vor, eine neue Revision der Steckschwein-Prototyp-Platinen herzustellen. Den Anfang macht ein neues CPU-Board mit einigen Bugfixes und den in Chiptuning beschriebenen zusätzlichen GAL als Waitstate-Generator, sowie einem geändertem Stromanschluss: In Zukunft wird es möglich sein, das Steckschwein mit nur 5V per USB, über einen Rundstecker oder wie gehabt über einen Pin-Header zu versorgen. Die Layouts sind schon fertig:
[caption id=&ldquo;attachment_398&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1015&rdquo;] Bestückungsseite[/caption]
[caption id=&ldquo;attachment_582&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1010&rdquo;] Lötseite[/caption]</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 10, 2015</div><h1 class="f3 near-black"><a href=/post/genug/ class="link black dim">Genug</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Es ist ruhig geworden ums Steckschwein. Das liegt daran, dass wir genug haben. Genug von dem Gewackel auf dem Steckbrett, genug von instabilem Monitorbild und anderen diversen Störanfälligkeiten. Wir wollen endlich Code schreiben, und die Bugs dort suchen, und nicht auf dem Steckbrett. Dazu müssen wir unsere Hardware in eine stabilere Form zu bringen. Das bedeutet: Platinen. Zwar noch nicht unser Einplatiner, aber es spricht ja nichts dagegen, die einzelnen Baugruppen auf je eine Platine zu bringen, und diese zu verbinden.</div></div><h2 class=f1><a href=/categories/layout class="link blue hover-black">Category: layout</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 15, 2018</div><h1 class="f3 near-black"><a href=/post/v9958opl2-boards-are-there/ class="link black dim">V9958+OPL2-Boards are there</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">The newly made boards made their way from China to Munich. Starting now, the multi board version of the Steckschwein is made up of 3 Boards: CPU/Memory, IO/UART and V9958-OPL2.
[gallery ids=&ldquo;1166,1167,1168&rdquo; type=&ldquo;rectangular&rdquo;]</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 7, 2018</div><h1 class="f3 near-black"><a href=/post/new-v9958-board-with-integrated-opl2/ class="link black dim">New V9958-Board with integrated OPL2</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">It&rsquo;s time for another hardware upgrade. Since we really want to get our single board Steckschwein done, we are going for higher integration of our multiboard prototype. After integrating the UART to the IO-Board, we integrate the OPL2 sound part onto the V9958 video board, so the current Steckschwein multi board incarnations are reduced to three boards. We did postpone our plan to upgrade sound to OPL3 because Daniel Illgen, which we met at VCFb, convinced us with some awesome OPL2 tunes that OPL2 is still cool.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>November 28, 2017</div><h1 class="f3 near-black"><a href=/post/neue-hardware-die-platinen-sind-da/ class="link black dim">Neue Hardware - die Platinen sind da</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die neuen IO-Platinen mit integriertem UART sind fertig und haben ihren Weg von China nach München gefunden.
Mit dem neuen Layout hat es nicht nur der UART mit aufs IO-Board geschafft, es sind auch etliche kleinere und größere Verbesserungen eingeflossen:
Die Joystickports wurden komplett neu designed. Die Optokoppler sparen wir uns, stattdessen wählen wir über einen VIA Pin verschiedene Treiber an, die den gewünschten Joystickport mit VIA Port A verbindet. Die Ports lassen sich auch per Software komplett abschalten, damit der User-Port frei verfügbar ist.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 8, 2016</div><h1 class="f3 near-black"><a href=/post/neue-cpu-boards/ class="link black dim">Neue CPU-Boards</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir haben vor, eine neue Revision der Steckschwein-Prototyp-Platinen herzustellen. Den Anfang macht ein neues CPU-Board mit einigen Bugfixes und den in Chiptuning beschriebenen zusätzlichen GAL als Waitstate-Generator, sowie einem geändertem Stromanschluss: In Zukunft wird es möglich sein, das Steckschwein mit nur 5V per USB, über einen Rundstecker oder wie gehabt über einen Pin-Header zu versorgen. Die Layouts sind schon fertig:
[caption id=&ldquo;attachment_398&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1015&rdquo;] Bestückungsseite[/caption]
[caption id=&ldquo;attachment_582&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1010&rdquo;] Lötseite[/caption]</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 21, 2015</div><h1 class="f3 near-black"><a href=/post/die-platinen-sind-da/ class="link black dim">Die Platinen sind da!</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Platinen für CPU/Mem, UART und IO sind fertig! Dank Überlieferung sogar jede 2mal, sodass wir gleich 2 Steck^H^H^H^H^HPlatinenschweine aufbauen können.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 21, 2015</div><h1 class="f3 near-black"><a href=/post/platinen-sind-da-ii-update/ class="link black dim">Platinen sind da II (UPDATE)</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit man mal was sieht!
Die UART-Platine hat noch für einiges Kopfzerbrechen gesorgt, weil sich dann doch noch ein Fehler eingeschlichen hatte. Dieser ließ sich aber durch einen Klecks Lötzinn an der richtigen Stelle korrigieren. Pin25, /ADS hätte noch auf low gezogen werden müssen. Da das von uns in KiCad verwendete Symbol diesen Pin erst gar nicht hatte, war dies im Layout auch nicht drin. Pin war im Schaltplan als &ldquo;nicht verbunden&rdquo; markiert.</div></div><h2 class=f1><a href=/categories/lcd class="link blue hover-black">Category: lcd</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 15, 2014</div><h1 class="f3 near-black"><a href=/post/ein-richtiger-computer-soll-es-sein/ class="link black dim">Ein richtiger Computer soll es sein</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nachdem die vorangegangenen Spielereien sehr ermutigend verliefen, war der nächste Schritt klar. Wenn wir so weit kommen, kommen wir auch noch weiter. Das Ziel ist jetzt definitiv ein funktionierender 8bit-Rechner mit 64k RAM.
Da der 6502 keinen DRAM-Refresh liefert und wir uns den Aufwand eines diskreten Refresh-Generators ersparen wollen, soll es ein SRAM-basiertes Design werden. Bei ein wenig Recherche beim Elektronik-Versenders unseres Vertrauens stellen wir fest, dass 2x32k*8 in Form von zwei 2 62256 eine komfortable Lösung sein würden.</div></div><h2 class=f1><a href=/categories/massenspeicher class="link blue hover-black">Category: massenspeicher</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 22, 2016</div><h1 class="f3 near-black"><a href=/post/das-steckschwein-auf-dem-vcfe-17/ class="link black dim">Das Steckschwein auf dem VCFe 17</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Am Wochenende vom 30. April und 1. Mai 2016 findet zum 17. Mal das Vintage Computer Festival Europe (VCFe) in München statt.
Das Steckschwein ist natürlich wieder dabei. Unter anderem wird es unsere neue CPU-Platine mit integriertem Waitstate-Generator und dadurch möglichen 8MHz Takt gezeigt.
Ausserdem wird es getreu des diesjährigen VCFe-Mottos &ldquo;Irgendwas mit Medien&rdquo; einen Vortrag zum Speichermedium des Steckschweins geben, speziell über dessen FAT32-Unterstützung.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 24, 2015</div><h1 class="f3 near-black"><a href=/post/mehr-karten-update/ class="link black dim">Mehr Karten (UPDATE)</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Unser &ldquo;Standard&rdquo;-Massenspeicher SD-Karte funktioniert zwar an und für sehr gut, Sorgenkind war aber immer die Initialisierungs-Routine. Bisher ließen sich damit nur günstige Class4-Karten initialisieren, bei &ldquo;höherwertigen&rdquo; Karten schlug die Initialisierung immer fehl, sodass nur etwa 3 von 5 Karten nutzbar waren.
Das hat uns schon etwas gewurmt, denn irgendwie hatte dieser Stand ein Geschmäckle von &ldquo;Funktioniert aus Versehen&rdquo;. Also mussten wir da nochmal ran. Der Initialisierungs-Flow entspricht im Wesentlichen dem, was auf der bekannten Seite http://elm-chan.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 20, 2015</div><h1 class="f3 near-black"><a href=/post/filesystem-und-shell/ class="link black dim">Filesystem und Shell</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Vor kurzem haben wir ja schon von ersten Gehversuchen einer FAT32-Implementation berichtet, mit der wir in der Lage waren, beim Systemstart eine Datei von SD-Karte zu laden.
Was fehlt, ist eine Möglichkeit, innerhalb eines Filesystems einer SD-Karte zu navigieren, Programme zu laden oder Dateien anzuzeigen. Um diese Lücke zu füllen, ist die SteckShell entstanden. In der aktuellen Version 0.6 unterstützt die Shell folgende Funktionen:
Directory auflisten Directory wechseln Programm laden und starten Datei anzeigen Grafik (TMS9929-Rohdaten) anzeigen Wer auf dem VCFe 16.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 11, 2014</div><h1 class="f3 near-black"><a href=/post/tore-zur-welt/ class="link black dim">Tore zur Welt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Um dem Ziel eines &ldquo;richtigen&rdquo; Computers näher zu kommen, brauchen wir nicht nur einen Videochip, wir brauchen auch Eingabegeräte und Massenspeicher.
Zwar soll unser Rechner so retro sein, dass es ihn damals, zur Hochzeit der 8bit-Heimcomputer, durchaus hätte geben können, realistischerweise wollen wir ihn jedoch mit durchaus modernen Schnittstellen ausstatten. Die 8bit-Rechner aus &ldquo;unserer Zeit&rdquo; haben IO-Chips wie den 6526 oder 6522 benutzt, um Tastatur (Matrix), Joysticks und Massenspeicher anzusteuern. Das haben wir auch vor.</div></div><h2 class=f1><a href=/categories/murphy class="link blue hover-black">Category: murphy</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 16, 2019</div><h1 class="f3 near-black"><a href=/post/weird-bug-in-sd-card-code/ class="link black dim">Weird bug in SD card code</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Frank van den Hoef, who is adapting the Steckschwein SPI & FAT32 code for his tiny65 machine made me aware of a classic mistake for a 6502 assembly coder to make. Namely in our sdcard driver, when waiting for the &ldquo;proper&rdquo; response from the card (which should have bit 7 cleared). The routine handling this looked like this:
1 sd_cmd_response_wait: 2 ldy #sd_cmd_response_retries 3 @l: dey 4 beq sd_block_cmd_timeout ; y already 0?</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 4, 2017</div><h1 class="f3 near-black"><a href=/post/logikanalyse-ii/ class="link black dim">Logikanalyse II [UPDATE]</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Inzwischen sind die 74F00 eingetroffen und der 74HCT00 durch einen ebensolchen ersetzt. Das Oszilloskopbild sieht gleich deutlich besser aus:
[caption id=&ldquo;attachment_870&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;800&rdquo;] gelb: /WE, blau: A9[/caption]
Der Schreibvorgang wird also jetzt zumindest abgeschlossen, bevor sich die Adresse auf dem Adressbus ändert. Das ist schonmal viel sauberer.
Nur leider hat es das Problem nicht gelöst, das Steckschwein läuft mit den &ldquo;richtigen&rdquo; RAMs immer noch instabil, was sich insbesondere bei BASIC-Programmen bemerkbar macht:</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 1, 2017</div><h1 class="f3 near-black"><a href=/post/logikanalyse/ class="link black dim">Logikanalyse</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Auf dem VCFe 18.0 gab es Dank Nick Müller die Möglichkeit, das Steckschwein mal mit einem Logic Analyzer &ldquo;für große Jungs&rdquo; zu untersuchen. Unsere USB-Logic-Analyzer sind zwar für vieles gut, aber um komplett Adress- und Datenbus sowie einschlägiger Steuerleitungen abzuhorchen, fehlen einfach Kanäle, und selbst dann wären sie nicht schnell genug.
[caption id=&ldquo;attachment_796&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1280&rdquo;] Das Steckschwein am Logic Analyzer. im Hintergrund Nicks Finger.[/caption]
Die Gelegenheit, ein solches Höllengerät (genauer: ein HP 1652B) und mit Nick auch noch jemanden greifbar zu haben, der selbiges beherrscht, gibt uns die Chance, ein merkwürdiges Problem zu untersuchen, welches schon länger Rätsel aufgibt: Die aktuell verwendeten Hyundai-SRAMs sind mit einer Zugriffszeit von 100ns eigentlich viel zu langsam für 8MHz, zumal der 6502 ja nur die 2.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 14, 2014</div><h1 class="f3 near-black"><a href=/post/murphy-iii-timing-ist-alles/ class="link black dim">Murphy III - Timing ist alles</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">In den Posts http://8bit-gefriemel.blogspot.de/2014/03/murphy.html und http://8bit-gefriemel.blogspot.de/2014/04/murphy-ii.html sind einige merkwürdige Phänomene und deren Lösungsversuche geschildert. Wie sich heute gezeigt hat, konnten wir gar nicht weiter daneben liegen.
Alles Quatsch. Die Fehlersuche nach dem &ldquo;K&rdquo;-Problem. Stack und so. Alles super. Klar, das mit dem Initialisieren des Stackpointers war natürlich richtig und wichtig, und dass die uart_tx routine besser funktioniert wenn man auf Stack-Operationen verzichtet, hätte uns eigentlich eher stutzig machen sollen. Aber der Reihe nach.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 2, 2014</div><h1 class="f3 near-black"><a href=/post/murphy-ii/ class="link black dim">Murphy II</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Flugs also ein ROM gebrannt mit der memtest-routine, in die nach der Reset-Routine eingesprungen wird. Gleiches Ergebnis. Beim ersten Auftreten des &ldquo;K statt OK&rdquo;-Fehlers ist erstmal die doch etwas windig anmutende Verdrahtung der Adressleitungen zwischen Prozessor, den RAM-Bausteinen und dem ROM mit &ldquo;richtigen&rdquo; Steckbrettstrippen statt Klingeldraht nachverdrahtet worden. Das war vermutlich etwas voreilig, schließlich hats vorher ja auch schon funktioniert. Schließlich stellt sich heraus, dass sich hier in der Tat ein paar Fehler eingeschlichen haben, die auch beim Durchklingeln der einzelnen Adressleitungen nicht aufgefallen sind: Kurzschlüsse.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 31, 2014</div><h1 class="f3 near-black"><a href=/post/kein-spass-murphy-schlaegt-zu/ class="link black dim">... kein Spaß - Murphy schlägt zu</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Neben all den ermutigenden Experimenten gibt es natürlich auch immer mal wieder Rückschläge. Mittlerweile haben wir schon ein durchaus komplexes Gebilde auf dem Steckbrett, welches ja per se nicht die ideale Plattform ist, um so etwas zu bauen.
So wie aktuell gerade mein &ldquo;Steckschwein&rdquo; ein sehr merkwürdiges Verhalten an den Tag legt, ohne dass an der Schaltung etwas geändert worden wäre (Marko ist Zeuge).
Vorab nochmal der Ablauf unserer Upload-Routine, mit der wir das Steckschwein via RS232 mit Code befüttern:</div></div><h2 class=f1><a href=/categories/nop class="link blue hover-black">Category: nop</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-the-wait-investigation-of-the-cpu-vdp-wait-interface/ class="link black dim">V9958 - "The WAIT" - investigation of the CPU/VDP /WAIT interface</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; on the way back to munich, we had some time to do a little code review of our gfx library. thinking about the cpu to video chip timings and again read the well known datasheets of the V9938/V9958. suddenly i got an enlightenment and we came to the following conclusion.
as described in the datasheet (V9958-Technical-manual_v1.0.pdf) of the V9958 there are different timings given for different kind of writes. so as far as we understand there are the following timings</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 12, 2014</div><h1 class="f3 near-black"><a href=/post/am-anfang-war-das-nop/ class="link black dim">Am Anfang war das NOP</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wenn man 20 Jahre lang den Jugendtraum mit sich rumträgt, einen 8bit-Rechner selber zu bauen, dann hat man 20 Jahre Zeit, einzurosten. Langsames Rantasten an das große Ziel ist angesagt.
In diesem Fall soll unser 65c02 erstmal nur NOPs ausführen und wir wollen zuschauen, was auf dem Adressbus passiert. Der Datenbus ist hart verdrahtet auf NOP ($EA, 11101010) . Als Reset-Schaltung kommt eine auf Basis des allseits beliebten NE555 zum Einsatz.</div></div><h2 class=f1><a href=/categories/opl2 class="link blue hover-black">Category: opl2</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 7, 2018</div><h1 class="f3 near-black"><a href=/post/new-v9958-board-with-integrated-opl2/ class="link black dim">New V9958-Board with integrated OPL2</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">It&rsquo;s time for another hardware upgrade. Since we really want to get our single board Steckschwein done, we are going for higher integration of our multiboard prototype. After integrating the UART to the IO-Board, we integrate the OPL2 sound part onto the V9958 video board, so the current Steckschwein multi board incarnations are reduced to three boards. We did postpone our plan to upgrade sound to OPL3 because Daniel Illgen, which we met at VCFb, convinced us with some awesome OPL2 tunes that OPL2 is still cool.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 13, 2017</div><h1 class="f3 near-black"><a href=/post/musik/ class="link black dim">Musik</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Das Programmieren von Soundchips ist nicht trivial. Das habe ich damals auf dem C64 schon nicht kapiert. Mit dem Yamaha YM3812 oder auch OPL2 hat das Steckschwein einen weit komplexeren Chip als den SID, denn OPL2 kennt gleich ganze 9 Stimmen statt drei, und jede ist über eine Unzahl Parameter konfigurierbar.
Wie funktioniert der YM3812? Wie kriegt man also einen Ton aus diesem Monstrum? Die beste Quelle zum Thema OPL2 ist wohl &ldquo;Programming the AdLib/Sound Blaster FM Music Chips&rdquo; von Jeffrey S.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 4, 2015</div><h1 class="f3 near-black"><a href=/post/das-schwein-kann-singen/ class="link black dim">Das Schwein kann singen...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Das Steckschwein hat nun fast alle notwendigen Komponenten, um mit der Außenwelt zu kommunizieren, aber auch nur fast. Bisher ist es noch stumm, aber das sollte sich heute ändern. Wir haben hier noch ein paar YM3812 Schippse nebst benötigter DAC (YM3014B) rumliegen, also haben wir überlegt dem Schwein einfach das singen beizubringen. Wir wollen Musik und Sounds haben.
Der YM3812 ist ein sehr verbreiteter Chip, der sich auf OPL2 beschränkt, für unsere Zwecke aber völlig ausreichend ist.</div></div><h2 class=f1><a href=/categories/pal class="link blue hover-black">Category: pal</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 17, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-es-ist-vollbracht/ class="link black dim">V9958 - Es ist vollbracht</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Da ist sie nun, die neuen Videoplatine. Nach einigen Umwegen hat der Packen Boards uns erreicht (die erste Lieferung ist versehentlich in Spanien gelandet, während wir die Platinen des spanischen Bastlers erhalten haben. Inzwischen hat jeder Ersatz erhalten).
Wir haben ja bekanntlich unsere Vorgehensweise geändert, indem wir schneller Platinen anfertigen lassen. Aber zu unserer großen Freude funktionierte die erste Platine nach Bestückung auf Anhieb. Selbstverständlich haben sich aber auch ein paar Patzer eingeschlichen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 9, 2017</div><h1 class="f3 near-black"><a href=/post/es-wird-wieder-gesteckt/ class="link black dim">Es wird wieder gesteckt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir haben uns schon länger ein Upgrade des Videochips des Steckschweins vorgenommen. Der TMS9929 ist ein netter Chip, aber an einem 8MHz-65c02, der dazu noch so coole Hardware-Features hat, fühlt er sich ein bisschen wie die Achillesferse an.
Zum Glück war beim TMS9929 nicht Schluss, denn dieser hat im Laufe der Zeit diverse Nachfolger bekommen, welche von Yamaha hergestellt wurden und in diversen Weiterentwicklungen des MSX-Standards Verwendung fanden.
Der direkte Nachfolger der TMS99xx-Reihe ist der V9938.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 28, 2014</div><h1 class="f3 near-black"><a href=/post/tms9929-composite-video-und-rgbhy/ class="link black dim">TMS9929 Composite Video und RGB+H/Y</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit Dommas nicht langweilig wird und auch in den Gfx-Genuss kommt muss natürlich eine Lösung her. Er hat momentan keine Möglichkeit das Steckschwein mit Grafik an seinem geliebten Commodore 1084-S Monitor zu betreiben. Was ist also zu tun?
Wir haben ja im Post &mldr; beschrieben wie wir aus dem YRyBy des TMS9929 ein brauchbares RGB+Sync (BAS) Signal erzeugen können. Das funktioniert auch wunderbar an allen derzeit gängigen CRT-Fernsehern und auch an allen neuzeitlichen Flat-Screens wenn diese noch einen SCART-Anschluss oder ebend RGB+Sync (PAL-RGB) Eingänge besitzen.</div></div><h2 class=f1><a href=/categories/platinen class="link blue hover-black">Category: platinen</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 15, 2018</div><h1 class="f3 near-black"><a href=/post/v9958opl2-boards-are-there/ class="link black dim">V9958+OPL2-Boards are there</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">The newly made boards made their way from China to Munich. Starting now, the multi board version of the Steckschwein is made up of 3 Boards: CPU/Memory, IO/UART and V9958-OPL2.
[gallery ids=&ldquo;1166,1167,1168&rdquo; type=&ldquo;rectangular&rdquo;]</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 7, 2018</div><h1 class="f3 near-black"><a href=/post/new-v9958-board-with-integrated-opl2/ class="link black dim">New V9958-Board with integrated OPL2</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">It&rsquo;s time for another hardware upgrade. Since we really want to get our single board Steckschwein done, we are going for higher integration of our multiboard prototype. After integrating the UART to the IO-Board, we integrate the OPL2 sound part onto the V9958 video board, so the current Steckschwein multi board incarnations are reduced to three boards. We did postpone our plan to upgrade sound to OPL3 because Daniel Illgen, which we met at VCFb, convinced us with some awesome OPL2 tunes that OPL2 is still cool.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 1, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-vom-steckbrett-zum-prototypen/ class="link black dim">V9958 - Vom Steckbrett zum Prototypen</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Es ist soweit, der erste Prototyp auf Platine von unserem neuen V9958-Videoboard ist fertig layoutet, und die Platinen warten beim Fertiger auf ihren Versand.
Der Steckbrettaufbau vom letzten Post wurde auf 128k erweitert. Dazu ist einfach eine 2. Bank von 2 Stück 64k x 4 DRAMS dazugebaut worden. Damit entspricht der Aufbau unserem Schaltplan, und dieser ist damit getestet.
Unsere Timing-Probleme führen wir auf zu kurze Delays bei Registerzugriffen, ein Softwareproblem also, zurück.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>November 28, 2017</div><h1 class="f3 near-black"><a href=/post/neue-hardware-die-platinen-sind-da/ class="link black dim">Neue Hardware - die Platinen sind da</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die neuen IO-Platinen mit integriertem UART sind fertig und haben ihren Weg von China nach München gefunden.
Mit dem neuen Layout hat es nicht nur der UART mit aufs IO-Board geschafft, es sind auch etliche kleinere und größere Verbesserungen eingeflossen:
Die Joystickports wurden komplett neu designed. Die Optokoppler sparen wir uns, stattdessen wählen wir über einen VIA Pin verschiedene Treiber an, die den gewünschten Joystickport mit VIA Port A verbindet. Die Ports lassen sich auch per Software komplett abschalten, damit der User-Port frei verfügbar ist.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 20, 2015</div><h1 class="f3 near-black"><a href=/post/das-steckschwein-auf-dem-vcfe-16-0/ class="link black dim">Das Steckschwein auf dem VCFe 16.0</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Vom 1. bis 3. Mai findet das Vintage Computer Festival Europe zum 16. Mal in München statt. Genau wie letztes Jahr ist auch das Steckschwein-Projekt wieder mit von der Partie.
Wir werden die Platinenversionen sowie den Steckbrett-Urschleim präsentieren. Darüberhinaus wird es unsere aktuellen Fortschritte im Bereich &ldquo;Betriebsystem&rdquo;, Filesystem (SteckShell) sowie Videochip zu sehen geben. Zum den Themen &ldquo;Steckschwein auf Platine&rdquo; und &ldquo;Video-Board&rdquo; sind außerdem Vorträge vorgesehen</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 21, 2015</div><h1 class="f3 near-black"><a href=/post/die-platinen-sind-da/ class="link black dim">Die Platinen sind da!</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Platinen für CPU/Mem, UART und IO sind fertig! Dank Überlieferung sogar jede 2mal, sodass wir gleich 2 Steck^H^H^H^H^HPlatinenschweine aufbauen können.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 21, 2015</div><h1 class="f3 near-black"><a href=/post/platinen-sind-da-ii-update/ class="link black dim">Platinen sind da II (UPDATE)</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit man mal was sieht!
Die UART-Platine hat noch für einiges Kopfzerbrechen gesorgt, weil sich dann doch noch ein Fehler eingeschlichen hatte. Dieser ließ sich aber durch einen Klecks Lötzinn an der richtigen Stelle korrigieren. Pin25, /ADS hätte noch auf low gezogen werden müssen. Da das von uns in KiCad verwendete Symbol diesen Pin erst gar nicht hatte, war dies im Layout auch nicht drin. Pin war im Schaltplan als &ldquo;nicht verbunden&rdquo; markiert.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 10, 2015</div><h1 class="f3 near-black"><a href=/post/genug/ class="link black dim">Genug</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Es ist ruhig geworden ums Steckschwein. Das liegt daran, dass wir genug haben. Genug von dem Gewackel auf dem Steckbrett, genug von instabilem Monitorbild und anderen diversen Störanfälligkeiten. Wir wollen endlich Code schreiben, und die Bugs dort suchen, und nicht auf dem Steckbrett. Dazu müssen wir unsere Hardware in eine stabilere Form zu bringen. Das bedeutet: Platinen. Zwar noch nicht unser Einplatiner, aber es spricht ja nichts dagegen, die einzelnen Baugruppen auf je eine Platine zu bringen, und diese zu verbinden.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>June 2, 2014</div><h1 class="f3 near-black"><a href=/post/von-hummeln-und-puffern/ class="link black dim">Von Hummeln und Puffern</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nach dem VCFe ist erstmal nicht viel aktive Entwicklung passiert. Vielmehr haben wir die Erkenntnis, dass wir ein grundsätzliches Timing-Problem haben (danke nochmal an Udo Möller) ein klein wenig sacken lassen. Im Grunde genommen ist es so, wie es sich aus dem vorletzten Post schon herauslesen läßt. Der WDC 65c02 hat eine Data Hold Time von 10ns, während der TMS9929 30ns braucht, sein Zeug vom Bus zu holen. Die verwendeten 16550er UARTs auch.</div></div><h2 class=f1><a href=/categories/portierung class="link blue hover-black">Category: portierung</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 21, 2015</div><h1 class="f3 near-black"><a href=/post/schachschwein/ class="link black dim">Schachschwein</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nachdem das Grundsystem nun in Form von Platinen vorliegt und Marko dabei ist, das Videoboard zu layouten, ist die Gelegenheit günstig, schon einmal ein wenig vorhandene Software auf das Steckschwein zu portieren. Den Anfang macht MicroChess, 1976 von Peter Jennings für den MOS KIM-1 entwickelt und von Daryl Rictor modifiziert, um über ein serielles Terminal als Ein- /Ausgabestation spielbar zu sein, inklusive der coolen ASCII-Art-Darstellung des Schachbretts.
Dementsprechend einfach war es, es auf dem Steckschwein zum Laufen zu bekommen.</div></div><h2 class=f1><a href=/categories/problem class="link blue hover-black">Category: problem</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 1, 2017</div><h1 class="f3 near-black"><a href=/post/logikanalyse/ class="link black dim">Logikanalyse</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Auf dem VCFe 18.0 gab es Dank Nick Müller die Möglichkeit, das Steckschwein mal mit einem Logic Analyzer &ldquo;für große Jungs&rdquo; zu untersuchen. Unsere USB-Logic-Analyzer sind zwar für vieles gut, aber um komplett Adress- und Datenbus sowie einschlägiger Steuerleitungen abzuhorchen, fehlen einfach Kanäle, und selbst dann wären sie nicht schnell genug.
[caption id=&ldquo;attachment_796&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1280&rdquo;] Das Steckschwein am Logic Analyzer. im Hintergrund Nicks Finger.[/caption]
Die Gelegenheit, ein solches Höllengerät (genauer: ein HP 1652B) und mit Nick auch noch jemanden greifbar zu haben, der selbiges beherrscht, gibt uns die Chance, ein merkwürdiges Problem zu untersuchen, welches schon länger Rätsel aufgibt: Die aktuell verwendeten Hyundai-SRAMs sind mit einer Zugriffszeit von 100ns eigentlich viel zu langsam für 8MHz, zumal der 6502 ja nur die 2.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 24, 2015</div><h1 class="f3 near-black"><a href=/post/mehr-karten-update/ class="link black dim">Mehr Karten (UPDATE)</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Unser &ldquo;Standard&rdquo;-Massenspeicher SD-Karte funktioniert zwar an und für sehr gut, Sorgenkind war aber immer die Initialisierungs-Routine. Bisher ließen sich damit nur günstige Class4-Karten initialisieren, bei &ldquo;höherwertigen&rdquo; Karten schlug die Initialisierung immer fehl, sodass nur etwa 3 von 5 Karten nutzbar waren.
Das hat uns schon etwas gewurmt, denn irgendwie hatte dieser Stand ein Geschmäckle von &ldquo;Funktioniert aus Versehen&rdquo;. Also mussten wir da nochmal ran. Der Initialisierungs-Flow entspricht im Wesentlichen dem, was auf der bekannten Seite http://elm-chan.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 14, 2014</div><h1 class="f3 near-black"><a href=/post/murphy-iii-timing-ist-alles/ class="link black dim">Murphy III - Timing ist alles</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">In den Posts http://8bit-gefriemel.blogspot.de/2014/03/murphy.html und http://8bit-gefriemel.blogspot.de/2014/04/murphy-ii.html sind einige merkwürdige Phänomene und deren Lösungsversuche geschildert. Wie sich heute gezeigt hat, konnten wir gar nicht weiter daneben liegen.
Alles Quatsch. Die Fehlersuche nach dem &ldquo;K&rdquo;-Problem. Stack und so. Alles super. Klar, das mit dem Initialisieren des Stackpointers war natürlich richtig und wichtig, und dass die uart_tx routine besser funktioniert wenn man auf Stack-Operationen verzichtet, hätte uns eigentlich eher stutzig machen sollen. Aber der Reihe nach.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 2, 2014</div><h1 class="f3 near-black"><a href=/post/murphy-ii/ class="link black dim">Murphy II</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Flugs also ein ROM gebrannt mit der memtest-routine, in die nach der Reset-Routine eingesprungen wird. Gleiches Ergebnis. Beim ersten Auftreten des &ldquo;K statt OK&rdquo;-Fehlers ist erstmal die doch etwas windig anmutende Verdrahtung der Adressleitungen zwischen Prozessor, den RAM-Bausteinen und dem ROM mit &ldquo;richtigen&rdquo; Steckbrettstrippen statt Klingeldraht nachverdrahtet worden. Das war vermutlich etwas voreilig, schließlich hats vorher ja auch schon funktioniert. Schließlich stellt sich heraus, dass sich hier in der Tat ein paar Fehler eingeschlichen haben, die auch beim Durchklingeln der einzelnen Adressleitungen nicht aufgefallen sind: Kurzschlüsse.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 31, 2014</div><h1 class="f3 near-black"><a href=/post/kein-spass-murphy-schlaegt-zu/ class="link black dim">... kein Spaß - Murphy schlägt zu</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Neben all den ermutigenden Experimenten gibt es natürlich auch immer mal wieder Rückschläge. Mittlerweile haben wir schon ein durchaus komplexes Gebilde auf dem Steckbrett, welches ja per se nicht die ideale Plattform ist, um so etwas zu bauen.
So wie aktuell gerade mein &ldquo;Steckschwein&rdquo; ein sehr merkwürdiges Verhalten an den Tag legt, ohne dass an der Schaltung etwas geändert worden wäre (Marko ist Zeuge).
Vorab nochmal der Ablauf unserer Upload-Routine, mit der wir das Steckschwein via RS232 mit Code befüttern:</div></div><h2 class=f1><a href=/categories/ps-2 class="link blue hover-black">Category: ps-2</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>November 28, 2017</div><h1 class="f3 near-black"><a href=/post/neue-hardware-die-platinen-sind-da/ class="link black dim">Neue Hardware - die Platinen sind da</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die neuen IO-Platinen mit integriertem UART sind fertig und haben ihren Weg von China nach München gefunden.
Mit dem neuen Layout hat es nicht nur der UART mit aufs IO-Board geschafft, es sind auch etliche kleinere und größere Verbesserungen eingeflossen:
Die Joystickports wurden komplett neu designed. Die Optokoppler sparen wir uns, stattdessen wählen wir über einen VIA Pin verschiedene Treiber an, die den gewünschten Joystickport mit VIA Port A verbindet. Die Ports lassen sich auch per Software komplett abschalten, damit der User-Port frei verfügbar ist.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>September 22, 2015</div><h1 class="f3 near-black"><a href=/post/fantastische-reise-ii/ class="link black dim">FanTASTische Reise II</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Vor einer Weile haben wir im Beitrag /index.php/2014/12/15/eine-fantastische-reise/ den Weg zu unserem aktuellen Tastaturcontroller beschrieben.
Wer nicht nochmal nachlesen möchte: Ein ATmega8 dient als SPI Slave als Interface zwischen PS/2-Protokoll, Tastaturmapping und Puffer. Als Basis dient eine angepasste Version des Codes aus AVR Application Note 313, die als Ausgabeschnittstelle den USART des ATmega8 vorsieht. Dies haben wir durch das SPI-Interface des AVR ersetzt.
Steckschwein-Seitig haben wir die Tastaturabfrage immer im Blank-Interrupt des Videochips vorgenommen, genauer gesagt, jeden zweiten Blank.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 15, 2014</div><h1 class="f3 near-black"><a href=/post/eine-fantastische-reise/ class="link black dim">Eine fanTASTische Reise</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Von unserem Plan, einen AVR-µC als PS/2-Tastaturcontroller als SPI-Slave einzusetzen, haben wir ja schon in der Vergangenheit berichtet. Damals hieß es: &ldquo;Bequemerweise gibt es zahlreiche fertige Lösungen, die z.B. am anderen Ende rs232 sprechen. Wir wollen aber nur wegen einer Tastatur keinen zweiten UART verbauen. Fehlt also nur eine kleine Anpassung auf SPI.&rdquo;
Hiermit sollte das Schicksal seinen Lauf nehmen. Der kühne Griff in die Bastelkiste sollte einen ATtiny2313 zu Tage fördern, welcher der zugedachten Aufgabe durchaus gewachsen zu sein schien.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 11, 2014</div><h1 class="f3 near-black"><a href=/post/tore-zur-welt/ class="link black dim">Tore zur Welt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Um dem Ziel eines &ldquo;richtigen&rdquo; Computers näher zu kommen, brauchen wir nicht nur einen Videochip, wir brauchen auch Eingabegeräte und Massenspeicher.
Zwar soll unser Rechner so retro sein, dass es ihn damals, zur Hochzeit der 8bit-Heimcomputer, durchaus hätte geben können, realistischerweise wollen wir ihn jedoch mit durchaus modernen Schnittstellen ausstatten. Die 8bit-Rechner aus &ldquo;unserer Zeit&rdquo; haben IO-Chips wie den 6526 oder 6522 benutzt, um Tastatur (Matrix), Joysticks und Massenspeicher anzusteuern. Das haben wir auch vor.</div></div><h2 class=f1><a href=/categories/py65mon class="link blue hover-black">Category: py65mon</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 13, 2018</div><h1 class="f3 near-black"><a href=/post/vcfb-2018-its-great/ class="link black dim">VCFB 2018 It was great...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">VCF 2018 in Berlin was great! We&rsquo;ve met interesting people there. Got a handshake with Scot W. Stevenson who for(th)ced us to use his TaliForth2 ;)
Later on Saturday Daniel Illgen - maintainer of the Adlib Tracker II for Linux - had decided to honor us with his OPL2 knowledge while on the way out. He advised us to keep the OPL2 sound chip on the Steckschwein, because the OPL2 chip is still not outbid.</div></div><h2 class=f1><a href=/categories/quality class="link blue hover-black">Category: quality</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 13, 2018</div><h1 class="f3 near-black"><a href=/post/vcfb-2018-its-great/ class="link black dim">VCFB 2018 It was great...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">VCF 2018 in Berlin was great! We&rsquo;ve met interesting people there. Got a handshake with Scot W. Stevenson who for(th)ced us to use his TaliForth2 ;)
Later on Saturday Daniel Illgen - maintainer of the Adlib Tracker II for Linux - had decided to honor us with his OPL2 knowledge while on the way out. He advised us to keep the OPL2 sound chip on the Steckschwein, because the OPL2 chip is still not outbid.</div></div><h2 class=f1><a href=/categories/ram class="link blue hover-black">Category: ram</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 4, 2017</div><h1 class="f3 near-black"><a href=/post/logikanalyse-ii/ class="link black dim">Logikanalyse II [UPDATE]</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Inzwischen sind die 74F00 eingetroffen und der 74HCT00 durch einen ebensolchen ersetzt. Das Oszilloskopbild sieht gleich deutlich besser aus:
[caption id=&ldquo;attachment_870&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;800&rdquo;] gelb: /WE, blau: A9[/caption]
Der Schreibvorgang wird also jetzt zumindest abgeschlossen, bevor sich die Adresse auf dem Adressbus ändert. Das ist schonmal viel sauberer.
Nur leider hat es das Problem nicht gelöst, das Steckschwein läuft mit den &ldquo;richtigen&rdquo; RAMs immer noch instabil, was sich insbesondere bei BASIC-Programmen bemerkbar macht:</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 1, 2017</div><h1 class="f3 near-black"><a href=/post/logikanalyse/ class="link black dim">Logikanalyse</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Auf dem VCFe 18.0 gab es Dank Nick Müller die Möglichkeit, das Steckschwein mal mit einem Logic Analyzer &ldquo;für große Jungs&rdquo; zu untersuchen. Unsere USB-Logic-Analyzer sind zwar für vieles gut, aber um komplett Adress- und Datenbus sowie einschlägiger Steuerleitungen abzuhorchen, fehlen einfach Kanäle, und selbst dann wären sie nicht schnell genug.
[caption id=&ldquo;attachment_796&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1280&rdquo;] Das Steckschwein am Logic Analyzer. im Hintergrund Nicks Finger.[/caption]
Die Gelegenheit, ein solches Höllengerät (genauer: ein HP 1652B) und mit Nick auch noch jemanden greifbar zu haben, der selbiges beherrscht, gibt uns die Chance, ein merkwürdiges Problem zu untersuchen, welches schon länger Rätsel aufgibt: Die aktuell verwendeten Hyundai-SRAMs sind mit einer Zugriffszeit von 100ns eigentlich viel zu langsam für 8MHz, zumal der 6502 ja nur die 2.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 30, 2016</div><h1 class="f3 near-black"><a href=/post/chiptuning/ class="link black dim">Chiptuning</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">An den Heimcomputern von &ldquo;damals&rdquo; gemessen ist das Steckschwein mit 4 MHz durchaus einer der schnelleren 6502-Rechner. Damals waren zumeist Taktraten von 1 MHz üblich. Einige wenige hatten deutlich mehr, wie z.B. der Apple IIgs (65816) mit 2.8 MHz. Einen 4 MHz-65(C)02-Heimcomputer hat es damals nach unserem Informationsstand nicht gegeben.
Nun ist es aber so, dass aktuell erhältliche 65c02-CPUs von WDC offiziell mit bis zu 14MHz getaktet werden können, inoffiziell wurden schon problemlos Taktraten von 20 MHz erreicht.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 26, 2014</div><h1 class="f3 near-black"><a href=/post/rom-an-rom-aus/ class="link black dim">ROM an, ROM aus</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nachdem wir also mit dem Adressdecoder durchaus zufrieden sind, müssen wir uns noch einen Weg überlegen, die /ROMOFF-Leitung per Software steuerbar zu machen. Wenn es schon beim BIOS-Update Test äußerst nützlich ist einfach nur eine Brücke umzustecken und damit das ROM zu deaktivieren, wie praktisch muss es erst sein, dies einfach durch Beschreiben einer Speicherstelle zu tun.
Was wir also brauchen, ist ein IO-Pin, der die /ROMOFF-Leitung steuert. Zusätzlich muss dieser Pin beim Einschalten des Systems einen definierten Zustand haben, damit sichergestellt ist, daß zu diesem Zeitpunkt das ROM eingeblendet ist.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 23, 2014</div><h1 class="f3 near-black"><a href=/post/dekoder-die-dritte/ class="link black dim">Dekoder, die Dritte</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Bekanntlich dekodiert unser GAL die oberen 8bit des Adressbus, um den Bereich $8000-$ffff unter RAM, IO-Bereich und ROM einzuteilen. Die unteren 32k werden am Decoder vorbei direkt von der Adressleitung A15 selektiert. Das Memory-Mapping, das sich daraus ergibt, ist - zur Wiederholung - wie folgt:
Bereich Was $0000 - $7fff RAM $8000 - $cfff RAM $d000 - $dfff IO-Bereich $e000 - $ffff ROM Die letzte Änderung am Decoder war, das ROM bei Bedarf ausblendbar zu machen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 1, 2014</div><h1 class="f3 near-black"><a href=/post/noch-schlauerer-decoder/ class="link black dim">Noch schlauerer Decoder</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir sind jetzt also fast in der Lage, das RAM unter dem ROM zu nutzen. Hineinschreiben geht, lesen noch nicht. Da ist das ROM noch im Weg. Wir müssen also einen Weg finden, die GAL-Logik von außen zu beeinflussen. Unser GAL hat noch genügend Eingänge, sodass wir einen Pin zum ROM-Ein-/Ausschalter machen wollen. Lesezugriffe nach $e000-$ffff sollen also nur noch dann im ROM landen, wenn es &ldquo;eingeschaltet&rdquo; ist. Sonst wollen wir ins RAM.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 1, 2014</div><h1 class="f3 near-black"><a href=/post/schlauerer-decoder/ class="link black dim">Schlauer(er) Decoder</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Im Rahmen unserer Reihe &ldquo;Kleine Verbesserungen an der Architektur&rdquo; ist heute der Adressdekoder dran. Dieser entscheidet bekanntlich anhand der am Adressbus anliegenden Adresse (oder genauergesagt deren höheren 8bit), welcher Baustein an der entsprechenden Adresse eingeblendet werden soll. Durch den Umstand, dass die oberen 8k dem ROM gehören, lassen sich die darunterliegenden 8k RAM nicht ohne weiteres nutzen. Die für die Selektierung des ROMs und der oberen 32k RAM sehen folgendermaßen aus:</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 31, 2014</div><h1 class="f3 near-black"><a href=/post/kein-spass-murphy-schlaegt-zu/ class="link black dim">... kein Spaß - Murphy schlägt zu</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Neben all den ermutigenden Experimenten gibt es natürlich auch immer mal wieder Rückschläge. Mittlerweile haben wir schon ein durchaus komplexes Gebilde auf dem Steckbrett, welches ja per se nicht die ideale Plattform ist, um so etwas zu bauen.
So wie aktuell gerade mein &ldquo;Steckschwein&rdquo; ein sehr merkwürdiges Verhalten an den Tag legt, ohne dass an der Schaltung etwas geändert worden wäre (Marko ist Zeuge).
Vorab nochmal der Ablauf unserer Upload-Routine, mit der wir das Steckschwein via RS232 mit Code befüttern:</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 16, 2014</div><h1 class="f3 near-black"><a href=/post/das-design-wird-erweitert/ class="link black dim">Das Design wird erweitert</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Sinn der Sache ist ja nicht, etwas 1:1 nachzubauen, sondern ein möglichst eigenes Design. Nachdem wir mit Chris&rsquo; Design - bzw. dessen, was wir davon übernommen haben (Adressdekodierung, ACIA, VIA) - genug herumgespielt hatten, galt es, &ldquo;unser&rdquo; Ding draus zu machen. Der erste Schritt war ein Sprung ins kalte Wasser in die uns bislang noch unbekannte Welt der Programmierbaren Logik. Dazu haben wir zunächst die Adressdekodierung bestehend aus 74ls138/74ls154 sowie etwas glue Logic in VHDL implementiert und auf ein GAL22V10D gebrannt.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 15, 2014</div><h1 class="f3 near-black"><a href=/post/ein-richtiger-computer-soll-es-sein/ class="link black dim">Ein richtiger Computer soll es sein</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nachdem die vorangegangenen Spielereien sehr ermutigend verliefen, war der nächste Schritt klar. Wenn wir so weit kommen, kommen wir auch noch weiter. Das Ziel ist jetzt definitiv ein funktionierender 8bit-Rechner mit 64k RAM.
Da der 6502 keinen DRAM-Refresh liefert und wir uns den Aufwand eines diskreten Refresh-Generators ersparen wollen, soll es ein SRAM-basiertes Design werden. Bei ein wenig Recherche beim Elektronik-Versenders unseres Vertrauens stellen wir fest, dass 2x32k*8 in Form von zwei 2 62256 eine komfortable Lösung sein würden.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 12, 2014</div><h1 class="f3 near-black"><a href=/post/euphorie-jetzt-auch-ram/ class="link black dim">Euphorie: Jetzt auch RAM!</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Euphorie ob des Ausgangs des letzten Versuchs nutzend wird jetzt weitergebaut. Immerhin sind wir so nah an einem richtigen Computer. Was fehlt, ist RAM. Leider nichts im Haus.
Eine temporäre Organspende aus einem C64-Easyflash-Cartridge (Cooles Teil: http://skoe.de/easyflash/doku.php?id=start) verschafft uns ein 6264 SRAM. Dieses verdrahten wir analog zum EPROM, allerdings brauche es hier noch einen Hauch von Gatterlogik, um das EEPROM ans obere Ende des Adressraums zu mappen, während das SRAM in den unteren 8k lebt.</div></div><h2 class=f1><a href=/categories/rgb class="link blue hover-black">Category: rgb</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 15, 2018</div><h1 class="f3 near-black"><a href=/post/v9958opl2-boards-are-there/ class="link black dim">V9958+OPL2-Boards are there</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">The newly made boards made their way from China to Munich. Starting now, the multi board version of the Steckschwein is made up of 3 Boards: CPU/Memory, IO/UART and V9958-OPL2.
[gallery ids=&ldquo;1166,1167,1168&rdquo; type=&ldquo;rectangular&rdquo;]</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 7, 2018</div><h1 class="f3 near-black"><a href=/post/new-v9958-board-with-integrated-opl2/ class="link black dim">New V9958-Board with integrated OPL2</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">It&rsquo;s time for another hardware upgrade. Since we really want to get our single board Steckschwein done, we are going for higher integration of our multiboard prototype. After integrating the UART to the IO-Board, we integrate the OPL2 sound part onto the V9958 video board, so the current Steckschwein multi board incarnations are reduced to three boards. We did postpone our plan to upgrade sound to OPL3 because Daniel Illgen, which we met at VCFb, convinced us with some awesome OPL2 tunes that OPL2 is still cool.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 17, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-es-ist-vollbracht/ class="link black dim">V9958 - Es ist vollbracht</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Da ist sie nun, die neuen Videoplatine. Nach einigen Umwegen hat der Packen Boards uns erreicht (die erste Lieferung ist versehentlich in Spanien gelandet, während wir die Platinen des spanischen Bastlers erhalten haben. Inzwischen hat jeder Ersatz erhalten).
Wir haben ja bekanntlich unsere Vorgehensweise geändert, indem wir schneller Platinen anfertigen lassen. Aber zu unserer großen Freude funktionierte die erste Platine nach Bestückung auf Anhieb. Selbstverständlich haben sich aber auch ein paar Patzer eingeschlichen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 9, 2017</div><h1 class="f3 near-black"><a href=/post/es-wird-wieder-gesteckt/ class="link black dim">Es wird wieder gesteckt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir haben uns schon länger ein Upgrade des Videochips des Steckschweins vorgenommen. Der TMS9929 ist ein netter Chip, aber an einem 8MHz-65c02, der dazu noch so coole Hardware-Features hat, fühlt er sich ein bisschen wie die Achillesferse an.
Zum Glück war beim TMS9929 nicht Schluss, denn dieser hat im Laufe der Zeit diverse Nachfolger bekommen, welche von Yamaha hergestellt wurden und in diversen Weiterentwicklungen des MSX-Standards Verwendung fanden.
Der direkte Nachfolger der TMS99xx-Reihe ist der V9938.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 28, 2014</div><h1 class="f3 near-black"><a href=/post/tms9929-composite-video-und-rgbhy/ class="link black dim">TMS9929 Composite Video und RGB+H/Y</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit Dommas nicht langweilig wird und auch in den Gfx-Genuss kommt muss natürlich eine Lösung her. Er hat momentan keine Möglichkeit das Steckschwein mit Grafik an seinem geliebten Commodore 1084-S Monitor zu betreiben. Was ist also zu tun?
Wir haben ja im Post &mldr; beschrieben wie wir aus dem YRyBy des TMS9929 ein brauchbares RGB+Sync (BAS) Signal erzeugen können. Das funktioniert auch wunderbar an allen derzeit gängigen CRT-Fernsehern und auch an allen neuzeitlichen Flat-Screens wenn diese noch einen SCART-Anschluss oder ebend RGB+Sync (PAL-RGB) Eingänge besitzen.</div></div><h2 class=f1><a href=/categories/rom class="link blue hover-black">Category: rom</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 30, 2016</div><h1 class="f3 near-black"><a href=/post/chiptuning/ class="link black dim">Chiptuning</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">An den Heimcomputern von &ldquo;damals&rdquo; gemessen ist das Steckschwein mit 4 MHz durchaus einer der schnelleren 6502-Rechner. Damals waren zumeist Taktraten von 1 MHz üblich. Einige wenige hatten deutlich mehr, wie z.B. der Apple IIgs (65816) mit 2.8 MHz. Einen 4 MHz-65(C)02-Heimcomputer hat es damals nach unserem Informationsstand nicht gegeben.
Nun ist es aber so, dass aktuell erhältliche 65c02-CPUs von WDC offiziell mit bis zu 14MHz getaktet werden können, inoffiziell wurden schon problemlos Taktraten von 20 MHz erreicht.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 26, 2014</div><h1 class="f3 near-black"><a href=/post/rom-an-rom-aus/ class="link black dim">ROM an, ROM aus</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nachdem wir also mit dem Adressdecoder durchaus zufrieden sind, müssen wir uns noch einen Weg überlegen, die /ROMOFF-Leitung per Software steuerbar zu machen. Wenn es schon beim BIOS-Update Test äußerst nützlich ist einfach nur eine Brücke umzustecken und damit das ROM zu deaktivieren, wie praktisch muss es erst sein, dies einfach durch Beschreiben einer Speicherstelle zu tun.
Was wir also brauchen, ist ein IO-Pin, der die /ROMOFF-Leitung steuert. Zusätzlich muss dieser Pin beim Einschalten des Systems einen definierten Zustand haben, damit sichergestellt ist, daß zu diesem Zeitpunkt das ROM eingeblendet ist.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 23, 2014</div><h1 class="f3 near-black"><a href=/post/dekoder-die-dritte/ class="link black dim">Dekoder, die Dritte</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Bekanntlich dekodiert unser GAL die oberen 8bit des Adressbus, um den Bereich $8000-$ffff unter RAM, IO-Bereich und ROM einzuteilen. Die unteren 32k werden am Decoder vorbei direkt von der Adressleitung A15 selektiert. Das Memory-Mapping, das sich daraus ergibt, ist - zur Wiederholung - wie folgt:
Bereich Was $0000 - $7fff RAM $8000 - $cfff RAM $d000 - $dfff IO-Bereich $e000 - $ffff ROM Die letzte Änderung am Decoder war, das ROM bei Bedarf ausblendbar zu machen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 1, 2014</div><h1 class="f3 near-black"><a href=/post/noch-schlauerer-decoder/ class="link black dim">Noch schlauerer Decoder</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir sind jetzt also fast in der Lage, das RAM unter dem ROM zu nutzen. Hineinschreiben geht, lesen noch nicht. Da ist das ROM noch im Weg. Wir müssen also einen Weg finden, die GAL-Logik von außen zu beeinflussen. Unser GAL hat noch genügend Eingänge, sodass wir einen Pin zum ROM-Ein-/Ausschalter machen wollen. Lesezugriffe nach $e000-$ffff sollen also nur noch dann im ROM landen, wenn es &ldquo;eingeschaltet&rdquo; ist. Sonst wollen wir ins RAM.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 1, 2014</div><h1 class="f3 near-black"><a href=/post/schlauerer-decoder/ class="link black dim">Schlauer(er) Decoder</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Im Rahmen unserer Reihe &ldquo;Kleine Verbesserungen an der Architektur&rdquo; ist heute der Adressdekoder dran. Dieser entscheidet bekanntlich anhand der am Adressbus anliegenden Adresse (oder genauergesagt deren höheren 8bit), welcher Baustein an der entsprechenden Adresse eingeblendet werden soll. Durch den Umstand, dass die oberen 8k dem ROM gehören, lassen sich die darunterliegenden 8k RAM nicht ohne weiteres nutzen. Die für die Selektierung des ROMs und der oberen 32k RAM sehen folgendermaßen aus:</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 31, 2014</div><h1 class="f3 near-black"><a href=/post/kein-spass-murphy-schlaegt-zu/ class="link black dim">... kein Spaß - Murphy schlägt zu</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Neben all den ermutigenden Experimenten gibt es natürlich auch immer mal wieder Rückschläge. Mittlerweile haben wir schon ein durchaus komplexes Gebilde auf dem Steckbrett, welches ja per se nicht die ideale Plattform ist, um so etwas zu bauen.
So wie aktuell gerade mein &ldquo;Steckschwein&rdquo; ein sehr merkwürdiges Verhalten an den Tag legt, ohne dass an der Schaltung etwas geändert worden wäre (Marko ist Zeuge).
Vorab nochmal der Ablauf unserer Upload-Routine, mit der wir das Steckschwein via RS232 mit Code befüttern:</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 15, 2014</div><h1 class="f3 near-black"><a href=/post/ein-richtiger-computer-soll-es-sein/ class="link black dim">Ein richtiger Computer soll es sein</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nachdem die vorangegangenen Spielereien sehr ermutigend verliefen, war der nächste Schritt klar. Wenn wir so weit kommen, kommen wir auch noch weiter. Das Ziel ist jetzt definitiv ein funktionierender 8bit-Rechner mit 64k RAM.
Da der 6502 keinen DRAM-Refresh liefert und wir uns den Aufwand eines diskreten Refresh-Generators ersparen wollen, soll es ein SRAM-basiertes Design werden. Bei ein wenig Recherche beim Elektronik-Versenders unseres Vertrauens stellen wir fest, dass 2x32k*8 in Form von zwei 2 62256 eine komfortable Lösung sein würden.</div></div><h2 class=f1><a href=/categories/rs232 class="link blue hover-black">Category: rs232</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>November 28, 2017</div><h1 class="f3 near-black"><a href=/post/neue-hardware-die-platinen-sind-da/ class="link black dim">Neue Hardware - die Platinen sind da</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die neuen IO-Platinen mit integriertem UART sind fertig und haben ihren Weg von China nach München gefunden.
Mit dem neuen Layout hat es nicht nur der UART mit aufs IO-Board geschafft, es sind auch etliche kleinere und größere Verbesserungen eingeflossen:
Die Joystickports wurden komplett neu designed. Die Optokoppler sparen wir uns, stattdessen wählen wir über einen VIA Pin verschiedene Treiber an, die den gewünschten Joystickport mit VIA Port A verbindet. Die Ports lassen sich auch per Software komplett abschalten, damit der User-Port frei verfügbar ist.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 3, 2014</div><h1 class="f3 near-black"><a href=/post/exkurs-wie-kommt-code-aufs-steckschwein/ class="link black dim">Exkurs: Wie kommt Code aufs Steckschwein?</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Programmierung eines Computers, der nur aus einer gesteckten Schaltung besteht und weder Tastatur noch Speichermöglichkeit hat, ist eine mühsame Angelegenheit. Die allerersten Experimente bekamen ihr Futter auf einem 27128-EPROM serviert. Bekanntlich wollen diese vor dem Beschreiben mit neuem Code mit UV-Licht gelöscht werden. Also wurde für jedes Update ein EPROM mit neuem Code gebrannt, um die EPROMS anschließend in 10er-Packen ins Löschgerät zu schieben. 15 Minuten Kaffeepause.
Überhaupt, Code: Für die ersten Experimente hat es genügt, die reinen Hexcodes in einen Hexeditor zu tippen und die Daten dann zu brennen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 31, 2014</div><h1 class="f3 near-black"><a href=/post/kein-spass-murphy-schlaegt-zu/ class="link black dim">... kein Spaß - Murphy schlägt zu</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Neben all den ermutigenden Experimenten gibt es natürlich auch immer mal wieder Rückschläge. Mittlerweile haben wir schon ein durchaus komplexes Gebilde auf dem Steckbrett, welches ja per se nicht die ideale Plattform ist, um so etwas zu bauen.
So wie aktuell gerade mein &ldquo;Steckschwein&rdquo; ein sehr merkwürdiges Verhalten an den Tag legt, ohne dass an der Schaltung etwas geändert worden wäre (Marko ist Zeuge).
Vorab nochmal der Ablauf unserer Upload-Routine, mit der wir das Steckschwein via RS232 mit Code befüttern:</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 28, 2014</div><h1 class="f3 near-black"><a href=/post/acia-muss-wieder-raus/ class="link black dim">ACIA muss wieder raus</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die 65x51 ACIA erschien uns als die am tiefsten hängende Frucht, um eine RS232 Schnittstelle zu implementieren, nachdem wir Bit Banging nach C64 Vorbild ziemlich schnell verworfen hatten.
Auch programmiertechnisch mach die ACIA einen simplen Eindruck, ganze drei Register wollen beherrscht werden.
Die rs232-Schnittstelle ermöglicht uns, Code auf den Steckbrettrechner zu laden, ohne jedesmal das EEPROM neu brennen zu müssen. Eine gewaltige Erleichterung.
Aber - wir haben es bereits erwähnt - die ACIA hat keine Zukunft bei uns.</div></div><h2 class=f1><a href=/categories/rtc class="link blue hover-black">Category: rtc</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>June 13, 2019</div><h1 class="f3 near-black"><a href=/post/nvram-improvements/ class="link black dim">NVRAM improvements</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">As real computer is not a real computer without a real time clock, the Steckschwein is no exception here. As we know, we use the Maxim DS1306 RTC, which is a very common RTC which comes as DIP IC and has an SPI interface. And of course it supports battery backup in various configurations. And this is where things get interesting.
Apart from timekeeping, the DS1306 also has 96 bytes of battery buffered RAM.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>November 28, 2017</div><h1 class="f3 near-black"><a href=/post/neue-hardware-die-platinen-sind-da/ class="link black dim">Neue Hardware - die Platinen sind da</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die neuen IO-Platinen mit integriertem UART sind fertig und haben ihren Weg von China nach München gefunden.
Mit dem neuen Layout hat es nicht nur der UART mit aufs IO-Board geschafft, es sind auch etliche kleinere und größere Verbesserungen eingeflossen:
Die Joystickports wurden komplett neu designed. Die Optokoppler sparen wir uns, stattdessen wählen wir über einen VIA Pin verschiedene Treiber an, die den gewünschten Joystickport mit VIA Port A verbindet. Die Ports lassen sich auch per Software komplett abschalten, damit der User-Port frei verfügbar ist.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>November 22, 2017</div><h1 class="f3 near-black"><a href=/post/mal-wieder-neue-hardware/ class="link black dim">Mal wieder neue Hardware</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Zeit ist reif für ein Hardware-Update, und zwar für die IO-Platine 2.0. Vorgesehen war ja schon länger, den UART dort zu integrieren. Ausserdem war das Joystick&ndash;Interface noch unausgegoren, sodass auch hier etwas Neues entwickelt wurde.
Zum Schutz der VIA-Pins dienen nun keine Optokoppler, sondern simple Serienwiderstände sollen die Ports zumindest vor dem Fall schützen, dass man doch mal die Datenrichtung der Joystick-Pins auf Ausgang schaltet und dann die VIA grillt indem man den Joystick betätigt.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 15, 2014</div><h1 class="f3 near-black"><a href=/post/echte-zeit/ class="link black dim">Echte Zeit</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Eine batteriegepufferte Echtzeituhr gehört ja heutzutage schon zur Serienausstattung, auch bei Retro-Rechnern. Das Steckschwein soll also auch eine bekommen. Chris Ward&rsquo;s Design, welches uns zu Anfang als Grundlage gedient hat (mittlerweile ist davon nicht mehr viel übrig geblieben) verwendet eine DS1687, deren Intel-mäßiges Businterface über ein wenig Glue-Logik direkt an den Datenbus des 6502 angelegt ist und damit auch Platz im IO-Bereich benötigt.
Wir wollen das mit dem Steckschwein anders angehen.</div></div><h2 class=f1><a href=/categories/scart class="link blue hover-black">Category: scart</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 7, 2018</div><h1 class="f3 near-black"><a href=/post/new-v9958-board-with-integrated-opl2/ class="link black dim">New V9958-Board with integrated OPL2</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">It&rsquo;s time for another hardware upgrade. Since we really want to get our single board Steckschwein done, we are going for higher integration of our multiboard prototype. After integrating the UART to the IO-Board, we integrate the OPL2 sound part onto the V9958 video board, so the current Steckschwein multi board incarnations are reduced to three boards. We did postpone our plan to upgrade sound to OPL3 because Daniel Illgen, which we met at VCFb, convinced us with some awesome OPL2 tunes that OPL2 is still cool.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 17, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-es-ist-vollbracht/ class="link black dim">V9958 - Es ist vollbracht</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Da ist sie nun, die neuen Videoplatine. Nach einigen Umwegen hat der Packen Boards uns erreicht (die erste Lieferung ist versehentlich in Spanien gelandet, während wir die Platinen des spanischen Bastlers erhalten haben. Inzwischen hat jeder Ersatz erhalten).
Wir haben ja bekanntlich unsere Vorgehensweise geändert, indem wir schneller Platinen anfertigen lassen. Aber zu unserer großen Freude funktionierte die erste Platine nach Bestückung auf Anhieb. Selbstverständlich haben sich aber auch ein paar Patzer eingeschlichen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 9, 2017</div><h1 class="f3 near-black"><a href=/post/es-wird-wieder-gesteckt/ class="link black dim">Es wird wieder gesteckt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir haben uns schon länger ein Upgrade des Videochips des Steckschweins vorgenommen. Der TMS9929 ist ein netter Chip, aber an einem 8MHz-65c02, der dazu noch so coole Hardware-Features hat, fühlt er sich ein bisschen wie die Achillesferse an.
Zum Glück war beim TMS9929 nicht Schluss, denn dieser hat im Laufe der Zeit diverse Nachfolger bekommen, welche von Yamaha hergestellt wurden und in diversen Weiterentwicklungen des MSX-Standards Verwendung fanden.
Der direkte Nachfolger der TMS99xx-Reihe ist der V9938.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 28, 2014</div><h1 class="f3 near-black"><a href=/post/tms9929-composite-video-und-rgbhy/ class="link black dim">TMS9929 Composite Video und RGB+H/Y</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit Dommas nicht langweilig wird und auch in den Gfx-Genuss kommt muss natürlich eine Lösung her. Er hat momentan keine Möglichkeit das Steckschwein mit Grafik an seinem geliebten Commodore 1084-S Monitor zu betreiben. Was ist also zu tun?
Wir haben ja im Post &mldr; beschrieben wie wir aus dem YRyBy des TMS9929 ein brauchbares RGB+Sync (BAS) Signal erzeugen können. Das funktioniert auch wunderbar an allen derzeit gängigen CRT-Fernsehern und auch an allen neuzeitlichen Flat-Screens wenn diese noch einen SCART-Anschluss oder ebend RGB+Sync (PAL-RGB) Eingänge besitzen.</div></div><h2 class=f1><a href=/categories/schach class="link blue hover-black">Category: schach</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 21, 2015</div><h1 class="f3 near-black"><a href=/post/schachschwein/ class="link black dim">Schachschwein</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nachdem das Grundsystem nun in Form von Platinen vorliegt und Marko dabei ist, das Videoboard zu layouten, ist die Gelegenheit günstig, schon einmal ein wenig vorhandene Software auf das Steckschwein zu portieren. Den Anfang macht MicroChess, 1976 von Peter Jennings für den MOS KIM-1 entwickelt und von Daryl Rictor modifiziert, um über ein serielles Terminal als Ein- /Ausgabestation spielbar zu sein, inklusive der coolen ASCII-Art-Darstellung des Schachbretts.
Dementsprechend einfach war es, es auf dem Steckschwein zum Laufen zu bekommen.</div></div><h2 class=f1><a href=/categories/schaltplan class="link blue hover-black">Category: schaltplan</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 1, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-vom-steckbrett-zum-prototypen/ class="link black dim">V9958 - Vom Steckbrett zum Prototypen</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Es ist soweit, der erste Prototyp auf Platine von unserem neuen V9958-Videoboard ist fertig layoutet, und die Platinen warten beim Fertiger auf ihren Versand.
Der Steckbrettaufbau vom letzten Post wurde auf 128k erweitert. Dazu ist einfach eine 2. Bank von 2 Stück 64k x 4 DRAMS dazugebaut worden. Damit entspricht der Aufbau unserem Schaltplan, und dieser ist damit getestet.
Unsere Timing-Probleme führen wir auf zu kurze Delays bei Registerzugriffen, ein Softwareproblem also, zurück.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 10, 2015</div><h1 class="f3 near-black"><a href=/post/genug/ class="link black dim">Genug</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Es ist ruhig geworden ums Steckschwein. Das liegt daran, dass wir genug haben. Genug von dem Gewackel auf dem Steckbrett, genug von instabilem Monitorbild und anderen diversen Störanfälligkeiten. Wir wollen endlich Code schreiben, und die Bugs dort suchen, und nicht auf dem Steckbrett. Dazu müssen wir unsere Hardware in eine stabilere Form zu bringen. Das bedeutet: Platinen. Zwar noch nicht unser Einplatiner, aber es spricht ja nichts dagegen, die einzelnen Baugruppen auf je eine Platine zu bringen, und diese zu verbinden.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 5, 2014</div><h1 class="f3 near-black"><a href=/post/schaltplan/ class="link black dim">Schaltplan</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit Klarheit darüber herrscht, worum es überhaupt geht, haben wir den Schaltplan in die einzelnen Gruppen (Prozessor+ Freunde, Speicher, UART) zerlegt.
Die aktuelle Stückliste liest sich laut Eagle folgendermaßen:
Part Value Device C1 100n C5/3 C3 1n C-EU025-025X050 C4 10n C-EU025-025X050 C5 10µF CPOL-EUE2,5-6E C6 100n C5/3 C7 100n C5/3 C8 100n C5/3 C12 1µF CPOL-EUE2,5-6E C13 100n C5/3 C14 100n C5/3 C15 100n C5/3 C16 1µF CPOL-EUE2,5-6E C17 1µF CPOL-EUE2,5-6E C18 1µF CPOL-EUE2,5-6E C19 1µF CPOL-EUE2,5-6E IC1 CY62256LL-PC CY62256LL-PC IC3 CY62256LL-PC CY62256LL-PC IC4 NE555 NE555 IC5 28c64 2864 IC6 16550 UART XR-16C550P IC8 74LS06N 74LS06N IC9 GAL22V10 22V10 IC10 MAX232 MAX232 QG1 2MHz XO-14 QG2 1.</div></div><h2 class=f1><a href=/categories/scrolling class="link blue hover-black">Category: scrolling</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>September 11, 2015</div><h1 class="f3 near-black"><a href=/post/ein-spiel-entsteht/ class="link black dim">Ein Spiel entsteht...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Im Chrome Browser gibt es einen netten Zeitvertreib in Form des Games &ldquo;Dinosaur&rdquo;. Das Spiel wird immer dann eingeblendet, wenn keine Internet-Verbindung verfügbar ist. Das Spiel ist sehr einfach aufgebaut, kann aber leicht süchtig machen und ist ein netter Zeitvertreib bis die Verbindung wieder verfügbar ist. Genau diese Einfachheit der Grafik und des Gameplays brachte mich auf die Idee das Spiel für das Steckschwein umzusetzen. Wie ich dabei vorgegangen bin, möchte ich Euch hier schildern.</div></div><h2 class=f1><a href=/categories/sd-karte class="link blue hover-black">Category: sd-karte</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 16, 2019</div><h1 class="f3 near-black"><a href=/post/weird-bug-in-sd-card-code/ class="link black dim">Weird bug in SD card code</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Frank van den Hoef, who is adapting the Steckschwein SPI & FAT32 code for his tiny65 machine made me aware of a classic mistake for a 6502 assembly coder to make. Namely in our sdcard driver, when waiting for the &ldquo;proper&rdquo; response from the card (which should have bit 7 cleared). The routine handling this looked like this:
1 sd_cmd_response_wait: 2 ldy #sd_cmd_response_retries 3 @l: dey 4 beq sd_block_cmd_timeout ; y already 0?</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>November 22, 2017</div><h1 class="f3 near-black"><a href=/post/mal-wieder-neue-hardware/ class="link black dim">Mal wieder neue Hardware</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Zeit ist reif für ein Hardware-Update, und zwar für die IO-Platine 2.0. Vorgesehen war ja schon länger, den UART dort zu integrieren. Ausserdem war das Joystick&ndash;Interface noch unausgegoren, sodass auch hier etwas Neues entwickelt wurde.
Zum Schutz der VIA-Pins dienen nun keine Optokoppler, sondern simple Serienwiderstände sollen die Ports zumindest vor dem Fall schützen, dass man doch mal die Datenrichtung der Joystick-Pins auf Ausgang schaltet und dann die VIA grillt indem man den Joystick betätigt.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 24, 2015</div><h1 class="f3 near-black"><a href=/post/mehr-karten-update/ class="link black dim">Mehr Karten (UPDATE)</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Unser &ldquo;Standard&rdquo;-Massenspeicher SD-Karte funktioniert zwar an und für sehr gut, Sorgenkind war aber immer die Initialisierungs-Routine. Bisher ließen sich damit nur günstige Class4-Karten initialisieren, bei &ldquo;höherwertigen&rdquo; Karten schlug die Initialisierung immer fehl, sodass nur etwa 3 von 5 Karten nutzbar waren.
Das hat uns schon etwas gewurmt, denn irgendwie hatte dieser Stand ein Geschmäckle von &ldquo;Funktioniert aus Versehen&rdquo;. Also mussten wir da nochmal ran. Der Initialisierungs-Flow entspricht im Wesentlichen dem, was auf der bekannten Seite http://elm-chan.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 5, 2015</div><h1 class="f3 near-black"><a href=/post/bootschwein/ class="link black dim">Bootschwein</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Aufgabe, die wir dem (Steck)BIOS zugedacht haben, beschränkt sich darauf, die vorhandene Hardware zu initialisieren, auf eine eingelegte SD-Karte zu prüfen, und dann von dort das eigentliche &ldquo;Betriebssystem&rdquo; zu laden. Fast ein bisschen PC-like.
Hier ist die Überlegung, im Stammverzeichnis eine bestimmte Datei zu finden und an eine bestimmte Adresse in den Speicher zu laden.
Sollte dies fehlschlagen, kann man immer noch in einen Monitor oder unsere bekannte rs232-Uploadroutine springen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 11, 2014</div><h1 class="f3 near-black"><a href=/post/tore-zur-welt/ class="link black dim">Tore zur Welt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Um dem Ziel eines &ldquo;richtigen&rdquo; Computers näher zu kommen, brauchen wir nicht nur einen Videochip, wir brauchen auch Eingabegeräte und Massenspeicher.
Zwar soll unser Rechner so retro sein, dass es ihn damals, zur Hochzeit der 8bit-Heimcomputer, durchaus hätte geben können, realistischerweise wollen wir ihn jedoch mit durchaus modernen Schnittstellen ausstatten. Die 8bit-Rechner aus &ldquo;unserer Zeit&rdquo; haben IO-Chips wie den 6526 oder 6522 benutzt, um Tastatur (Matrix), Joysticks und Massenspeicher anzusteuern. Das haben wir auch vor.</div></div><h2 class=f1><a href=/categories/shell class="link blue hover-black">Category: shell</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 24, 2015</div><h1 class="f3 near-black"><a href=/post/mehr-karten-update/ class="link black dim">Mehr Karten (UPDATE)</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Unser &ldquo;Standard&rdquo;-Massenspeicher SD-Karte funktioniert zwar an und für sehr gut, Sorgenkind war aber immer die Initialisierungs-Routine. Bisher ließen sich damit nur günstige Class4-Karten initialisieren, bei &ldquo;höherwertigen&rdquo; Karten schlug die Initialisierung immer fehl, sodass nur etwa 3 von 5 Karten nutzbar waren.
Das hat uns schon etwas gewurmt, denn irgendwie hatte dieser Stand ein Geschmäckle von &ldquo;Funktioniert aus Versehen&rdquo;. Also mussten wir da nochmal ran. Der Initialisierungs-Flow entspricht im Wesentlichen dem, was auf der bekannten Seite http://elm-chan.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 24, 2015</div><h1 class="f3 near-black"><a href=/post/schweinebauchanzeige/ class="link black dim">Schweinebauchanzeige</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Als Abfallprodukt der letzten Debugging-Session bezüglich SD-Karten und dessen, was von ihnen gelesen wird, hat die Shell ein kleines Hexdump-Feature bekommen, mit dem sich Speicherinhalte ähnlich wie beim &ldquo;M&rdquo;-Kommando bei diversen Maschinensprachemonitoren ausgeben lassen.
Die Handhabung ist entsprechend bekannt: &ldquo;dump &ldquo;, abgebrochen werden kann mit Ctrl-C. Als Abfallprodukt hiervon gilt das jetzt auch für Directory-Listings.
Damit hat die SteckShell nunmehr die Versionsnummer 0.10.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 20, 2015</div><h1 class="f3 near-black"><a href=/post/filesystem-und-shell/ class="link black dim">Filesystem und Shell</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Vor kurzem haben wir ja schon von ersten Gehversuchen einer FAT32-Implementation berichtet, mit der wir in der Lage waren, beim Systemstart eine Datei von SD-Karte zu laden.
Was fehlt, ist eine Möglichkeit, innerhalb eines Filesystems einer SD-Karte zu navigieren, Programme zu laden oder Dateien anzuzeigen. Um diese Lücke zu füllen, ist die SteckShell entstanden. In der aktuellen Version 0.6 unterstützt die Shell folgende Funktionen:
Directory auflisten Directory wechseln Programm laden und starten Datei anzeigen Grafik (TMS9929-Rohdaten) anzeigen Wer auf dem VCFe 16.</div></div><h2 class=f1><a href=/categories/soft-scrolling class="link blue hover-black">Category: soft-scrolling</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>September 11, 2015</div><h1 class="f3 near-black"><a href=/post/ein-spiel-entsteht/ class="link black dim">Ein Spiel entsteht...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Im Chrome Browser gibt es einen netten Zeitvertreib in Form des Games &ldquo;Dinosaur&rdquo;. Das Spiel wird immer dann eingeblendet, wenn keine Internet-Verbindung verfügbar ist. Das Spiel ist sehr einfach aufgebaut, kann aber leicht süchtig machen und ist ein netter Zeitvertreib bis die Verbindung wieder verfügbar ist. Genau diese Einfachheit der Grafik und des Gameplays brachte mich auf die Idee das Spiel für das Steckschwein umzusetzen. Wie ich dabei vorgegangen bin, möchte ich Euch hier schildern.</div></div><h2 class=f1><a href=/categories/software class="link blue hover-black">Category: software</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 13, 2018</div><h1 class="f3 near-black"><a href=/post/vcfb-2018-its-great/ class="link black dim">VCFB 2018 It was great...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">VCF 2018 in Berlin was great! We&rsquo;ve met interesting people there. Got a handshake with Scot W. Stevenson who for(th)ced us to use his TaliForth2 ;)
Later on Saturday Daniel Illgen - maintainer of the Adlib Tracker II for Linux - had decided to honor us with his OPL2 knowledge while on the way out. He advised us to keep the OPL2 sound chip on the Steckschwein, because the OPL2 chip is still not outbid.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 22, 2018</div><h1 class="f3 near-black"><a href=/post/wozmon-a-memory-monitor-in-256-bytes/ class="link black dim">WOZMON - a memory monitor in 256 bytes</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">The woz monitor, also known as WOZMON, is a pretty simple memory monitor and was the system software located in the 256 byte PROM on the Apple I. Wozmon is used to inspect and modify memory contents or to execute programs already located in memory. Steve Wozniak managed to squeeze all that functionality into 256 bytes. That&rsquo;s right, bytes. Not megabytes, not kilobytes. Bytes.
We already had attempted to get wozmon ported to our Steckschwein, but we did not succeed so far.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 21, 2015</div><h1 class="f3 near-black"><a href=/post/schachschwein/ class="link black dim">Schachschwein</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nachdem das Grundsystem nun in Form von Platinen vorliegt und Marko dabei ist, das Videoboard zu layouten, ist die Gelegenheit günstig, schon einmal ein wenig vorhandene Software auf das Steckschwein zu portieren. Den Anfang macht MicroChess, 1976 von Peter Jennings für den MOS KIM-1 entwickelt und von Daryl Rictor modifiziert, um über ein serielles Terminal als Ein- /Ausgabestation spielbar zu sein, inklusive der coolen ASCII-Art-Darstellung des Schachbretts.
Dementsprechend einfach war es, es auf dem Steckschwein zum Laufen zu bekommen.</div></div><h2 class=f1><a href=/categories/sound class="link blue hover-black">Category: sound</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 15, 2018</div><h1 class="f3 near-black"><a href=/post/v9958opl2-boards-are-there/ class="link black dim">V9958+OPL2-Boards are there</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">The newly made boards made their way from China to Munich. Starting now, the multi board version of the Steckschwein is made up of 3 Boards: CPU/Memory, IO/UART and V9958-OPL2.
[gallery ids=&ldquo;1166,1167,1168&rdquo; type=&ldquo;rectangular&rdquo;]</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 7, 2018</div><h1 class="f3 near-black"><a href=/post/new-v9958-board-with-integrated-opl2/ class="link black dim">New V9958-Board with integrated OPL2</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">It&rsquo;s time for another hardware upgrade. Since we really want to get our single board Steckschwein done, we are going for higher integration of our multiboard prototype. After integrating the UART to the IO-Board, we integrate the OPL2 sound part onto the V9958 video board, so the current Steckschwein multi board incarnations are reduced to three boards. We did postpone our plan to upgrade sound to OPL3 because Daniel Illgen, which we met at VCFb, convinced us with some awesome OPL2 tunes that OPL2 is still cool.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 13, 2017</div><h1 class="f3 near-black"><a href=/post/musik/ class="link black dim">Musik</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Das Programmieren von Soundchips ist nicht trivial. Das habe ich damals auf dem C64 schon nicht kapiert. Mit dem Yamaha YM3812 oder auch OPL2 hat das Steckschwein einen weit komplexeren Chip als den SID, denn OPL2 kennt gleich ganze 9 Stimmen statt drei, und jede ist über eine Unzahl Parameter konfigurierbar.
Wie funktioniert der YM3812? Wie kriegt man also einen Ton aus diesem Monstrum? Die beste Quelle zum Thema OPL2 ist wohl &ldquo;Programming the AdLib/Sound Blaster FM Music Chips&rdquo; von Jeffrey S.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 4, 2015</div><h1 class="f3 near-black"><a href=/post/das-schwein-kann-singen/ class="link black dim">Das Schwein kann singen...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Das Steckschwein hat nun fast alle notwendigen Komponenten, um mit der Außenwelt zu kommunizieren, aber auch nur fast. Bisher ist es noch stumm, aber das sollte sich heute ändern. Wir haben hier noch ein paar YM3812 Schippse nebst benötigter DAC (YM3014B) rumliegen, also haben wir überlegt dem Schwein einfach das singen beizubringen. Wir wollen Musik und Sounds haben.
Der YM3812 ist ein sehr verbreiteter Chip, der sich auf OPL2 beschränkt, für unsere Zwecke aber völlig ausreichend ist.</div></div><h2 class=f1><a href=/categories/spannung class="link blue hover-black">Category: spannung</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 11, 2016</div><h1 class="f3 near-black"><a href=/post/die-spannung-sinkt-alles-auf-5-volt/ class="link black dim">Die Spannung sinkt... alles auf 5 Volt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Endlich, wir haben uns mal bemüht und pünktlich zum 17. VCF das Steckschwein auf 5V umgerüstet. Genauer gesagt war ja nur noch das Video-Board und der YPbPr auf RGB-Encoder das Problem. Der kam zwar mit 5V auch klar, jedoch war dann der Kontrast und die Farbsättigung &ldquo;unterirdisch&rdquo;.
Was haben wir geändert? Vorab muss man sagen, dass uns in den - mittlerweile - letzten Jahren zahlreiche Emails von Interessenten, Retro-Freaks und Bastlern ereilten.</div></div><h2 class=f1><a href=/categories/spi class="link blue hover-black">Category: spi</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 16, 2019</div><h1 class="f3 near-black"><a href=/post/weird-bug-in-sd-card-code/ class="link black dim">Weird bug in SD card code</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Frank van den Hoef, who is adapting the Steckschwein SPI & FAT32 code for his tiny65 machine made me aware of a classic mistake for a 6502 assembly coder to make. Namely in our sdcard driver, when waiting for the &ldquo;proper&rdquo; response from the card (which should have bit 7 cleared). The routine handling this looked like this:
1 sd_cmd_response_wait: 2 ldy #sd_cmd_response_retries 3 @l: dey 4 beq sd_block_cmd_timeout ; y already 0?</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>November 28, 2017</div><h1 class="f3 near-black"><a href=/post/neue-hardware-die-platinen-sind-da/ class="link black dim">Neue Hardware - die Platinen sind da</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die neuen IO-Platinen mit integriertem UART sind fertig und haben ihren Weg von China nach München gefunden.
Mit dem neuen Layout hat es nicht nur der UART mit aufs IO-Board geschafft, es sind auch etliche kleinere und größere Verbesserungen eingeflossen:
Die Joystickports wurden komplett neu designed. Die Optokoppler sparen wir uns, stattdessen wählen wir über einen VIA Pin verschiedene Treiber an, die den gewünschten Joystickport mit VIA Port A verbindet. Die Ports lassen sich auch per Software komplett abschalten, damit der User-Port frei verfügbar ist.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>September 22, 2015</div><h1 class="f3 near-black"><a href=/post/fantastische-reise-ii/ class="link black dim">FanTASTische Reise II</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Vor einer Weile haben wir im Beitrag /index.php/2014/12/15/eine-fantastische-reise/ den Weg zu unserem aktuellen Tastaturcontroller beschrieben.
Wer nicht nochmal nachlesen möchte: Ein ATmega8 dient als SPI Slave als Interface zwischen PS/2-Protokoll, Tastaturmapping und Puffer. Als Basis dient eine angepasste Version des Codes aus AVR Application Note 313, die als Ausgabeschnittstelle den USART des ATmega8 vorsieht. Dies haben wir durch das SPI-Interface des AVR ersetzt.
Steckschwein-Seitig haben wir die Tastaturabfrage immer im Blank-Interrupt des Videochips vorgenommen, genauer gesagt, jeden zweiten Blank.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 15, 2014</div><h1 class="f3 near-black"><a href=/post/echte-zeit/ class="link black dim">Echte Zeit</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Eine batteriegepufferte Echtzeituhr gehört ja heutzutage schon zur Serienausstattung, auch bei Retro-Rechnern. Das Steckschwein soll also auch eine bekommen. Chris Ward&rsquo;s Design, welches uns zu Anfang als Grundlage gedient hat (mittlerweile ist davon nicht mehr viel übrig geblieben) verwendet eine DS1687, deren Intel-mäßiges Businterface über ein wenig Glue-Logik direkt an den Datenbus des 6502 angelegt ist und damit auch Platz im IO-Bereich benötigt.
Wir wollen das mit dem Steckschwein anders angehen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 15, 2014</div><h1 class="f3 near-black"><a href=/post/eine-fantastische-reise/ class="link black dim">Eine fanTASTische Reise</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Von unserem Plan, einen AVR-µC als PS/2-Tastaturcontroller als SPI-Slave einzusetzen, haben wir ja schon in der Vergangenheit berichtet. Damals hieß es: &ldquo;Bequemerweise gibt es zahlreiche fertige Lösungen, die z.B. am anderen Ende rs232 sprechen. Wir wollen aber nur wegen einer Tastatur keinen zweiten UART verbauen. Fehlt also nur eine kleine Anpassung auf SPI.&rdquo;
Hiermit sollte das Schicksal seinen Lauf nehmen. Der kühne Griff in die Bastelkiste sollte einen ATtiny2313 zu Tage fördern, welcher der zugedachten Aufgabe durchaus gewachsen zu sein schien.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 13, 2014</div><h1 class="f3 near-black"><a href=/post/spi-mit-65c22-via/ class="link black dim">SPI mit 65c22 VIA</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Es gibt verschiedene Ansätze, einem 6502-basierten System SPI beizubiegen. Daryl Rictor hat z.B. einen CPLD-basierten SPI-Controller mit passendem Businterface entwickelt. Meist jedoch wird eine 6522 VIA hergenommen und SPI per Bit Banging implementiert. Auch hier gibt es verschiedenen Ansätze, Andre Fachat hat es mit ein wenig externer Logik sogar geschafft, das Schieberegister der VIA im für SD-Karten nötigen SPI Mode 0 zu betreiben. Normalerweise geht das ja nicht, das das Schieberegister der VIA die Daten nicht vor dem ersten Taktimpuls anlegen kann.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 11, 2014</div><h1 class="f3 near-black"><a href=/post/tore-zur-welt/ class="link black dim">Tore zur Welt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Um dem Ziel eines &ldquo;richtigen&rdquo; Computers näher zu kommen, brauchen wir nicht nur einen Videochip, wir brauchen auch Eingabegeräte und Massenspeicher.
Zwar soll unser Rechner so retro sein, dass es ihn damals, zur Hochzeit der 8bit-Heimcomputer, durchaus hätte geben können, realistischerweise wollen wir ihn jedoch mit durchaus modernen Schnittstellen ausstatten. Die 8bit-Rechner aus &ldquo;unserer Zeit&rdquo; haben IO-Chips wie den 6526 oder 6522 benutzt, um Tastatur (Matrix), Joysticks und Massenspeicher anzusteuern. Das haben wir auch vor.</div></div><h2 class=f1><a href=/categories/spiel class="link blue hover-black">Category: spiel</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 21, 2015</div><h1 class="f3 near-black"><a href=/post/schachschwein/ class="link black dim">Schachschwein</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nachdem das Grundsystem nun in Form von Platinen vorliegt und Marko dabei ist, das Videoboard zu layouten, ist die Gelegenheit günstig, schon einmal ein wenig vorhandene Software auf das Steckschwein zu portieren. Den Anfang macht MicroChess, 1976 von Peter Jennings für den MOS KIM-1 entwickelt und von Daryl Rictor modifiziert, um über ein serielles Terminal als Ein- /Ausgabestation spielbar zu sein, inklusive der coolen ASCII-Art-Darstellung des Schachbretts.
Dementsprechend einfach war es, es auf dem Steckschwein zum Laufen zu bekommen.</div></div><h2 class=f1><a href=/categories/sprites class="link blue hover-black">Category: sprites</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>September 11, 2015</div><h1 class="f3 near-black"><a href=/post/ein-spiel-entsteht/ class="link black dim">Ein Spiel entsteht...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Im Chrome Browser gibt es einen netten Zeitvertreib in Form des Games &ldquo;Dinosaur&rdquo;. Das Spiel wird immer dann eingeblendet, wenn keine Internet-Verbindung verfügbar ist. Das Spiel ist sehr einfach aufgebaut, kann aber leicht süchtig machen und ist ein netter Zeitvertreib bis die Verbindung wieder verfügbar ist. Genau diese Einfachheit der Grafik und des Gameplays brachte mich auf die Idee das Spiel für das Steckschwein umzusetzen. Wie ich dabei vorgegangen bin, möchte ich Euch hier schildern.</div></div><h2 class=f1><a href=/categories/sram class="link blue hover-black">Category: sram</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 4, 2017</div><h1 class="f3 near-black"><a href=/post/logikanalyse-ii/ class="link black dim">Logikanalyse II [UPDATE]</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Inzwischen sind die 74F00 eingetroffen und der 74HCT00 durch einen ebensolchen ersetzt. Das Oszilloskopbild sieht gleich deutlich besser aus:
[caption id=&ldquo;attachment_870&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;800&rdquo;] gelb: /WE, blau: A9[/caption]
Der Schreibvorgang wird also jetzt zumindest abgeschlossen, bevor sich die Adresse auf dem Adressbus ändert. Das ist schonmal viel sauberer.
Nur leider hat es das Problem nicht gelöst, das Steckschwein läuft mit den &ldquo;richtigen&rdquo; RAMs immer noch instabil, was sich insbesondere bei BASIC-Programmen bemerkbar macht:</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 1, 2017</div><h1 class="f3 near-black"><a href=/post/logikanalyse/ class="link black dim">Logikanalyse</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Auf dem VCFe 18.0 gab es Dank Nick Müller die Möglichkeit, das Steckschwein mal mit einem Logic Analyzer &ldquo;für große Jungs&rdquo; zu untersuchen. Unsere USB-Logic-Analyzer sind zwar für vieles gut, aber um komplett Adress- und Datenbus sowie einschlägiger Steuerleitungen abzuhorchen, fehlen einfach Kanäle, und selbst dann wären sie nicht schnell genug.
[caption id=&ldquo;attachment_796&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1280&rdquo;] Das Steckschwein am Logic Analyzer. im Hintergrund Nicks Finger.[/caption]
Die Gelegenheit, ein solches Höllengerät (genauer: ein HP 1652B) und mit Nick auch noch jemanden greifbar zu haben, der selbiges beherrscht, gibt uns die Chance, ein merkwürdiges Problem zu untersuchen, welches schon länger Rätsel aufgibt: Die aktuell verwendeten Hyundai-SRAMs sind mit einer Zugriffszeit von 100ns eigentlich viel zu langsam für 8MHz, zumal der 6502 ja nur die 2.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 5, 2014</div><h1 class="f3 near-black"><a href=/post/schaltplan/ class="link black dim">Schaltplan</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit Klarheit darüber herrscht, worum es überhaupt geht, haben wir den Schaltplan in die einzelnen Gruppen (Prozessor+ Freunde, Speicher, UART) zerlegt.
Die aktuelle Stückliste liest sich laut Eagle folgendermaßen:
Part Value Device C1 100n C5/3 C3 1n C-EU025-025X050 C4 10n C-EU025-025X050 C5 10µF CPOL-EUE2,5-6E C6 100n C5/3 C7 100n C5/3 C8 100n C5/3 C12 1µF CPOL-EUE2,5-6E C13 100n C5/3 C14 100n C5/3 C15 100n C5/3 C16 1µF CPOL-EUE2,5-6E C17 1µF CPOL-EUE2,5-6E C18 1µF CPOL-EUE2,5-6E C19 1µF CPOL-EUE2,5-6E IC1 CY62256LL-PC CY62256LL-PC IC3 CY62256LL-PC CY62256LL-PC IC4 NE555 NE555 IC5 28c64 2864 IC6 16550 UART XR-16C550P IC8 74LS06N 74LS06N IC9 GAL22V10 22V10 IC10 MAX232 MAX232 QG1 2MHz XO-14 QG2 1.</div></div><h2 class=f1><a href=/categories/stackpointer class="link blue hover-black">Category: stackpointer</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 13, 2018</div><h1 class="f3 near-black"><a href=/post/vcfb-2018-its-great/ class="link black dim">VCFB 2018 It was great...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">VCF 2018 in Berlin was great! We&rsquo;ve met interesting people there. Got a handshake with Scot W. Stevenson who for(th)ced us to use his TaliForth2 ;)
Later on Saturday Daniel Illgen - maintainer of the Adlib Tracker II for Linux - had decided to honor us with his OPL2 knowledge while on the way out. He advised us to keep the OPL2 sound chip on the Steckschwein, because the OPL2 chip is still not outbid.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 2, 2014</div><h1 class="f3 near-black"><a href=/post/murphy-ii/ class="link black dim">Murphy II</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Flugs also ein ROM gebrannt mit der memtest-routine, in die nach der Reset-Routine eingesprungen wird. Gleiches Ergebnis. Beim ersten Auftreten des &ldquo;K statt OK&rdquo;-Fehlers ist erstmal die doch etwas windig anmutende Verdrahtung der Adressleitungen zwischen Prozessor, den RAM-Bausteinen und dem ROM mit &ldquo;richtigen&rdquo; Steckbrettstrippen statt Klingeldraht nachverdrahtet worden. Das war vermutlich etwas voreilig, schließlich hats vorher ja auch schon funktioniert. Schließlich stellt sich heraus, dass sich hier in der Tat ein paar Fehler eingeschlichen haben, die auch beim Durchklingeln der einzelnen Adressleitungen nicht aufgefallen sind: Kurzschlüsse.</div></div><h2 class=f1><a href=/categories/steckschwein class="link blue hover-black">Category: steckschwein</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-the-wait-investigation-of-the-cpu-vdp-wait-interface/ class="link black dim">V9958 - "The WAIT" - investigation of the CPU/VDP /WAIT interface</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; on the way back to munich, we had some time to do a little code review of our gfx library. thinking about the cpu to video chip timings and again read the well known datasheets of the V9938/V9958. suddenly i got an enlightenment and we came to the following conclusion.
as described in the datasheet (V9958-Technical-manual_v1.0.pdf) of the V9958 there are different timings given for different kind of writes. so as far as we understand there are the following timings</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 13, 2018</div><h1 class="f3 near-black"><a href=/post/vcfb-2018-its-great/ class="link black dim">VCFB 2018 It was great...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">VCF 2018 in Berlin was great! We&rsquo;ve met interesting people there. Got a handshake with Scot W. Stevenson who for(th)ced us to use his TaliForth2 ;)
Later on Saturday Daniel Illgen - maintainer of the Adlib Tracker II for Linux - had decided to honor us with his OPL2 knowledge while on the way out. He advised us to keep the OPL2 sound chip on the Steckschwein, because the OPL2 chip is still not outbid.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 11, 2016</div><h1 class="f3 near-black"><a href=/post/die-spannung-sinkt-alles-auf-5-volt/ class="link black dim">Die Spannung sinkt... alles auf 5 Volt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Endlich, wir haben uns mal bemüht und pünktlich zum 17. VCF das Steckschwein auf 5V umgerüstet. Genauer gesagt war ja nur noch das Video-Board und der YPbPr auf RGB-Encoder das Problem. Der kam zwar mit 5V auch klar, jedoch war dann der Kontrast und die Farbsättigung &ldquo;unterirdisch&rdquo;.
Was haben wir geändert? Vorab muss man sagen, dass uns in den - mittlerweile - letzten Jahren zahlreiche Emails von Interessenten, Retro-Freaks und Bastlern ereilten.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2014</div><h1 class="f3 near-black"><a href=/post/zurueck-vom-vcfe-ch/ class="link black dim">Zurück vom VCFe.CH</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Das VCFe.CH war ein großer Spaß und wieder haben wir uns über das Interesse an unserem Projekt gefreut. Bei der Gelegenheit haben wir in einem kleinen Vortrag die letzten Fortschritte und aktuellen Stand des Steckschweins, wie es jetzt offiziell heißt, gehalten. Hier sind die Folien
Außerdem gehört uns jetzt die Domain steckschwein.de, wo in Zukunft unsere Projektwebsite entstehen soll.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 15, 2014</div><h1 class="f3 near-black"><a href=/post/steckschwein-auf-dem-vcfe-ch/ class="link black dim">Steckschwein auf dem VCFe.CH</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir sind wieder unterwegs und zeigen unsere Steckschweine herum. Am Samstag, dem 18.10. werden wir auf dem VCFe.CH in Winterthur zugegen sein, und den aktuellen Stand unseres Projekts vorstellen. Auch ein kleiner Vortrag ist geplant.
Wir freuen uns!</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 22, 2014</div><h1 class="f3 near-black"><a href=/post/doppelt-haelt-besser/ class="link black dim">Doppelt hält besser</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit sich ein &ldquo;Steckschwein&rdquo; nicht so einsam fühlt, haben wir das ganze nochmal geklont. Jetzt hat jeder sein eigenes Steckschwein und kann daran rumschrauben oder besser gesagt rumstecken.
Da wir das Tooling &ldquo;leichtgewichtig&rdquo; halten wollen, gabs auch gleich ein kleines Problem zu lösen. Die Dekoder-Logik für den GAL wurde bisher in VHDL definiert und mit dem Hersteller-Produkt http://www.latticesemi.com/ispleverclassic ein entsprechendes JEDEC-File erzeugt. Das war uns dann doch viel zu unhandlich und wir haben uns nach Alternativen umgetan.</div></div><h2 class=f1><a href=/categories/steckschwein-live class="link blue hover-black">Category: steckschwein-live</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 13, 2018</div><h1 class="f3 near-black"><a href=/post/vcfb-2018-its-great/ class="link black dim">VCFB 2018 It was great...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">VCF 2018 in Berlin was great! We&rsquo;ve met interesting people there. Got a handshake with Scot W. Stevenson who for(th)ced us to use his TaliForth2 ;)
Later on Saturday Daniel Illgen - maintainer of the Adlib Tracker II for Linux - had decided to honor us with his OPL2 knowledge while on the way out. He advised us to keep the OPL2 sound chip on the Steckschwein, because the OPL2 chip is still not outbid.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 22, 2016</div><h1 class="f3 near-black"><a href=/post/das-steckschwein-auf-dem-vcfe-17/ class="link black dim">Das Steckschwein auf dem VCFe 17</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Am Wochenende vom 30. April und 1. Mai 2016 findet zum 17. Mal das Vintage Computer Festival Europe (VCFe) in München statt.
Das Steckschwein ist natürlich wieder dabei. Unter anderem wird es unsere neue CPU-Platine mit integriertem Waitstate-Generator und dadurch möglichen 8MHz Takt gezeigt.
Ausserdem wird es getreu des diesjährigen VCFe-Mottos &ldquo;Irgendwas mit Medien&rdquo; einen Vortrag zum Speichermedium des Steckschweins geben, speziell über dessen FAT32-Unterstützung.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 18, 2016</div><h1 class="f3 near-black"><a href=/post/make-munich-2016-das-wars-schon-wieder/ class="link black dim">Make Munich 2016 - das wars schon wieder</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Make Munich 2016 ist schon wieder vorbei, und wir freuen uns, dass wir dabei sein durften. Vielen Dank an alle, die unseren Stand besucht und sich von uns vollschwallen lassen haben.
Besonderer Dank gilt Michael Steil, der sich vor Ort mit uns hingesetzt hat, um MS-Basic aufs Steckschwein zu portieren.
Als stärkste Erkenntnis nehmen wir mit, dass es tatsächlich Interesse am Nachbau des Steckschweins gibt. Das wundert uns zwar ein wenig, freut uns aber auch.</div></div><h2 class=f1><a href=/categories/tastatur class="link blue hover-black">Category: tastatur</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>September 22, 2015</div><h1 class="f3 near-black"><a href=/post/fantastische-reise-ii/ class="link black dim">FanTASTische Reise II</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Vor einer Weile haben wir im Beitrag /index.php/2014/12/15/eine-fantastische-reise/ den Weg zu unserem aktuellen Tastaturcontroller beschrieben.
Wer nicht nochmal nachlesen möchte: Ein ATmega8 dient als SPI Slave als Interface zwischen PS/2-Protokoll, Tastaturmapping und Puffer. Als Basis dient eine angepasste Version des Codes aus AVR Application Note 313, die als Ausgabeschnittstelle den USART des ATmega8 vorsieht. Dies haben wir durch das SPI-Interface des AVR ersetzt.
Steckschwein-Seitig haben wir die Tastaturabfrage immer im Blank-Interrupt des Videochips vorgenommen, genauer gesagt, jeden zweiten Blank.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 15, 2014</div><h1 class="f3 near-black"><a href=/post/eine-fantastische-reise/ class="link black dim">Eine fanTASTische Reise</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Von unserem Plan, einen AVR-µC als PS/2-Tastaturcontroller als SPI-Slave einzusetzen, haben wir ja schon in der Vergangenheit berichtet. Damals hieß es: &ldquo;Bequemerweise gibt es zahlreiche fertige Lösungen, die z.B. am anderen Ende rs232 sprechen. Wir wollen aber nur wegen einer Tastatur keinen zweiten UART verbauen. Fehlt also nur eine kleine Anpassung auf SPI.&rdquo;
Hiermit sollte das Schicksal seinen Lauf nehmen. Der kühne Griff in die Bastelkiste sollte einen ATtiny2313 zu Tage fördern, welcher der zugedachten Aufgabe durchaus gewachsen zu sein schien.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 11, 2014</div><h1 class="f3 near-black"><a href=/post/tore-zur-welt/ class="link black dim">Tore zur Welt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Um dem Ziel eines &ldquo;richtigen&rdquo; Computers näher zu kommen, brauchen wir nicht nur einen Videochip, wir brauchen auch Eingabegeräte und Massenspeicher.
Zwar soll unser Rechner so retro sein, dass es ihn damals, zur Hochzeit der 8bit-Heimcomputer, durchaus hätte geben können, realistischerweise wollen wir ihn jedoch mit durchaus modernen Schnittstellen ausstatten. Die 8bit-Rechner aus &ldquo;unserer Zeit&rdquo; haben IO-Chips wie den 6526 oder 6522 benutzt, um Tastatur (Matrix), Joysticks und Massenspeicher anzusteuern. Das haben wir auch vor.</div></div><h2 class=f1><a href=/categories/tests class="link blue hover-black">Category: tests</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 13, 2018</div><h1 class="f3 near-black"><a href=/post/vcfb-2018-its-great/ class="link black dim">VCFB 2018 It was great...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">VCF 2018 in Berlin was great! We&rsquo;ve met interesting people there. Got a handshake with Scot W. Stevenson who for(th)ced us to use his TaliForth2 ;)
Later on Saturday Daniel Illgen - maintainer of the Adlib Tracker II for Linux - had decided to honor us with his OPL2 knowledge while on the way out. He advised us to keep the OPL2 sound chip on the Steckschwein, because the OPL2 chip is still not outbid.</div></div><h2 class=f1><a href=/categories/timing class="link blue hover-black">Category: timing</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-the-wait-investigation-of-the-cpu-vdp-wait-interface/ class="link black dim">V9958 - "The WAIT" - investigation of the CPU/VDP /WAIT interface</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; on the way back to munich, we had some time to do a little code review of our gfx library. thinking about the cpu to video chip timings and again read the well known datasheets of the V9938/V9958. suddenly i got an enlightenment and we came to the following conclusion.
as described in the datasheet (V9958-Technical-manual_v1.0.pdf) of the V9958 there are different timings given for different kind of writes. so as far as we understand there are the following timings</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 4, 2017</div><h1 class="f3 near-black"><a href=/post/logikanalyse-ii/ class="link black dim">Logikanalyse II [UPDATE]</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Inzwischen sind die 74F00 eingetroffen und der 74HCT00 durch einen ebensolchen ersetzt. Das Oszilloskopbild sieht gleich deutlich besser aus:
[caption id=&ldquo;attachment_870&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;800&rdquo;] gelb: /WE, blau: A9[/caption]
Der Schreibvorgang wird also jetzt zumindest abgeschlossen, bevor sich die Adresse auf dem Adressbus ändert. Das ist schonmal viel sauberer.
Nur leider hat es das Problem nicht gelöst, das Steckschwein läuft mit den &ldquo;richtigen&rdquo; RAMs immer noch instabil, was sich insbesondere bei BASIC-Programmen bemerkbar macht:</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 15, 2014</div><h1 class="f3 near-black"><a href=/post/eine-fantastische-reise/ class="link black dim">Eine fanTASTische Reise</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Von unserem Plan, einen AVR-µC als PS/2-Tastaturcontroller als SPI-Slave einzusetzen, haben wir ja schon in der Vergangenheit berichtet. Damals hieß es: &ldquo;Bequemerweise gibt es zahlreiche fertige Lösungen, die z.B. am anderen Ende rs232 sprechen. Wir wollen aber nur wegen einer Tastatur keinen zweiten UART verbauen. Fehlt also nur eine kleine Anpassung auf SPI.&rdquo;
Hiermit sollte das Schicksal seinen Lauf nehmen. Der kühne Griff in die Bastelkiste sollte einen ATtiny2313 zu Tage fördern, welcher der zugedachten Aufgabe durchaus gewachsen zu sein schien.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>June 24, 2014</div><h1 class="f3 near-black"><a href=/post/verfeinerungen-am-design/ class="link black dim">Verfeinerungen am Design</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">So langsam geht es weiter mit der Steckschweinentwicklung.
Die Timingprobleme mit dem VDP bedürfen einer eingehenden Prüfung und Messung, um genau zu verstehen, wo was nicht passt. Unsere Ideen mit Puffern und/oder versetzten Taktsignalen, um den VDP früher &ldquo;kommen&rdquo; zu lassen stellen wir zurück, bis wir gesicherte Erkenntnisse haben. Ein Herumdoktern aufgrund von Vermutungen halten wir nicht für zielführend. Vorher ist es auch nicht sinnvoll, irgendwelche Platinen zu löten.
Stattdessen stecken wir ein wenig Hirnschmalz ins aktuelle Design.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>June 2, 2014</div><h1 class="f3 near-black"><a href=/post/von-hummeln-und-puffern/ class="link black dim">Von Hummeln und Puffern</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nach dem VCFe ist erstmal nicht viel aktive Entwicklung passiert. Vielmehr haben wir die Erkenntnis, dass wir ein grundsätzliches Timing-Problem haben (danke nochmal an Udo Möller) ein klein wenig sacken lassen. Im Grunde genommen ist es so, wie es sich aus dem vorletzten Post schon herauslesen läßt. Der WDC 65c02 hat eine Data Hold Time von 10ns, während der TMS9929 30ns braucht, sein Zeug vom Bus zu holen. Die verwendeten 16550er UARTs auch.</div></div><h2 class=f1><a href=/categories/tms9929 class="link blue hover-black">Category: tms9929</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-the-wait-investigation-of-the-cpu-vdp-wait-interface/ class="link black dim">V9958 - "The WAIT" - investigation of the CPU/VDP /WAIT interface</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; on the way back to munich, we had some time to do a little code review of our gfx library. thinking about the cpu to video chip timings and again read the well known datasheets of the V9938/V9958. suddenly i got an enlightenment and we came to the following conclusion.
as described in the datasheet (V9958-Technical-manual_v1.0.pdf) of the V9958 there are different timings given for different kind of writes. so as far as we understand there are the following timings</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 17, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-es-ist-vollbracht/ class="link black dim">V9958 - Es ist vollbracht</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Da ist sie nun, die neuen Videoplatine. Nach einigen Umwegen hat der Packen Boards uns erreicht (die erste Lieferung ist versehentlich in Spanien gelandet, während wir die Platinen des spanischen Bastlers erhalten haben. Inzwischen hat jeder Ersatz erhalten).
Wir haben ja bekanntlich unsere Vorgehensweise geändert, indem wir schneller Platinen anfertigen lassen. Aber zu unserer großen Freude funktionierte die erste Platine nach Bestückung auf Anhieb. Selbstverständlich haben sich aber auch ein paar Patzer eingeschlichen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 9, 2017</div><h1 class="f3 near-black"><a href=/post/es-wird-wieder-gesteckt/ class="link black dim">Es wird wieder gesteckt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir haben uns schon länger ein Upgrade des Videochips des Steckschweins vorgenommen. Der TMS9929 ist ein netter Chip, aber an einem 8MHz-65c02, der dazu noch so coole Hardware-Features hat, fühlt er sich ein bisschen wie die Achillesferse an.
Zum Glück war beim TMS9929 nicht Schluss, denn dieser hat im Laufe der Zeit diverse Nachfolger bekommen, welche von Yamaha hergestellt wurden und in diversen Weiterentwicklungen des MSX-Standards Verwendung fanden.
Der direkte Nachfolger der TMS99xx-Reihe ist der V9938.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>September 11, 2015</div><h1 class="f3 near-black"><a href=/post/ein-spiel-entsteht/ class="link black dim">Ein Spiel entsteht...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Im Chrome Browser gibt es einen netten Zeitvertreib in Form des Games &ldquo;Dinosaur&rdquo;. Das Spiel wird immer dann eingeblendet, wenn keine Internet-Verbindung verfügbar ist. Das Spiel ist sehr einfach aufgebaut, kann aber leicht süchtig machen und ist ein netter Zeitvertreib bis die Verbindung wieder verfügbar ist. Genau diese Einfachheit der Grafik und des Gameplays brachte mich auf die Idee das Spiel für das Steckschwein umzusetzen. Wie ich dabei vorgegangen bin, möchte ich Euch hier schildern.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 20, 2015</div><h1 class="f3 near-black"><a href=/post/filesystem-und-shell/ class="link black dim">Filesystem und Shell</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Vor kurzem haben wir ja schon von ersten Gehversuchen einer FAT32-Implementation berichtet, mit der wir in der Lage waren, beim Systemstart eine Datei von SD-Karte zu laden.
Was fehlt, ist eine Möglichkeit, innerhalb eines Filesystems einer SD-Karte zu navigieren, Programme zu laden oder Dateien anzuzeigen. Um diese Lücke zu füllen, ist die SteckShell entstanden. In der aktuellen Version 0.6 unterstützt die Shell folgende Funktionen:
Directory auflisten Directory wechseln Programm laden und starten Datei anzeigen Grafik (TMS9929-Rohdaten) anzeigen Wer auf dem VCFe 16.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 28, 2014</div><h1 class="f3 near-black"><a href=/post/tms9929-composite-video-und-rgbhy/ class="link black dim">TMS9929 Composite Video und RGB+H/Y</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit Dommas nicht langweilig wird und auch in den Gfx-Genuss kommt muss natürlich eine Lösung her. Er hat momentan keine Möglichkeit das Steckschwein mit Grafik an seinem geliebten Commodore 1084-S Monitor zu betreiben. Was ist also zu tun?
Wir haben ja im Post &mldr; beschrieben wie wir aus dem YRyBy des TMS9929 ein brauchbares RGB+Sync (BAS) Signal erzeugen können. Das funktioniert auch wunderbar an allen derzeit gängigen CRT-Fernsehern und auch an allen neuzeitlichen Flat-Screens wenn diese noch einen SCART-Anschluss oder ebend RGB+Sync (PAL-RGB) Eingänge besitzen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 2, 2014</div><h1 class="f3 near-black"><a href=/post/tms9929-wir-wollen-was-sehen/ class="link black dim">TMS9929 - Wir wollen was sehen...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; und zwar auf einem Bildschirm! Aber wie stellt man sowas an?! Nun, wir schauen uns um, was Ende der 70-er bzw. Anfang der 80-er Jahre Stand der Technik war und was sich mit überschaubarem Aufwand an eine 6502 CPU &ldquo;anschließen&rdquo; lässt. Die Auswahl ist leider überschaubar, denn es sollte irgendwas in DIP maximal noch SDIP sein und dazu noch irgendwie lieferbar - &ldquo;new old stock&rdquo;.
Wir fanden die TMS9918/28/29-Serie und einige Nachfolger wie den TMS9938/58.</div></div><h2 class=f1><a href=/categories/ttl class="link blue hover-black">Category: ttl</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 1, 2017</div><h1 class="f3 near-black"><a href=/post/logikanalyse/ class="link black dim">Logikanalyse</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Auf dem VCFe 18.0 gab es Dank Nick Müller die Möglichkeit, das Steckschwein mal mit einem Logic Analyzer &ldquo;für große Jungs&rdquo; zu untersuchen. Unsere USB-Logic-Analyzer sind zwar für vieles gut, aber um komplett Adress- und Datenbus sowie einschlägiger Steuerleitungen abzuhorchen, fehlen einfach Kanäle, und selbst dann wären sie nicht schnell genug.
[caption id=&ldquo;attachment_796&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1280&rdquo;] Das Steckschwein am Logic Analyzer. im Hintergrund Nicks Finger.[/caption]
Die Gelegenheit, ein solches Höllengerät (genauer: ein HP 1652B) und mit Nick auch noch jemanden greifbar zu haben, der selbiges beherrscht, gibt uns die Chance, ein merkwürdiges Problem zu untersuchen, welches schon länger Rätsel aufgibt: Die aktuell verwendeten Hyundai-SRAMs sind mit einer Zugriffszeit von 100ns eigentlich viel zu langsam für 8MHz, zumal der 6502 ja nur die 2.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>June 26, 2015</div><h1 class="f3 near-black"><a href=/post/wdc-und-kein-ende/ class="link black dim">WDC und kein Ende</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">In der letzten Zeit war es hier etwas still ums Steckschwein, was aber nicht als Indiz für Untätigkeit gelten soll. Hauptsächlich haben wir uns auf das Schreiben von Code konzentriert, die Shell wurde weiterentwickelt, etc. Darüberhinaus gab es erste Experimente mit CPLDs. Auf dieser Basis sollen ja zukünftige Verbesserungen der Hardware entstehen, begonnen bei einem eigenständigen SPI-Controller bis hin zur Zusammenfassung der bestehenden Glue-Logik rund um die Adressdekodierung. Da ich mir zu diesem Zweck testhalber solche CPLD-Entwicklungsplatinchen auf Basis des XilinX XC9572XL habe kommen lassen, stellte sich also als erstes die Frage, wie sich dessen 3.</div></div><h2 class=f1><a href=/categories/uart class="link blue hover-black">Category: uart</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>June 13, 2019</div><h1 class="f3 near-black"><a href=/post/nvram-improvements/ class="link black dim">NVRAM improvements</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">As real computer is not a real computer without a real time clock, the Steckschwein is no exception here. As we know, we use the Maxim DS1306 RTC, which is a very common RTC which comes as DIP IC and has an SPI interface. And of course it supports battery backup in various configurations. And this is where things get interesting.
Apart from timekeeping, the DS1306 also has 96 bytes of battery buffered RAM.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>November 28, 2017</div><h1 class="f3 near-black"><a href=/post/neue-hardware-die-platinen-sind-da/ class="link black dim">Neue Hardware - die Platinen sind da</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die neuen IO-Platinen mit integriertem UART sind fertig und haben ihren Weg von China nach München gefunden.
Mit dem neuen Layout hat es nicht nur der UART mit aufs IO-Board geschafft, es sind auch etliche kleinere und größere Verbesserungen eingeflossen:
Die Joystickports wurden komplett neu designed. Die Optokoppler sparen wir uns, stattdessen wählen wir über einen VIA Pin verschiedene Treiber an, die den gewünschten Joystickport mit VIA Port A verbindet. Die Ports lassen sich auch per Software komplett abschalten, damit der User-Port frei verfügbar ist.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>November 22, 2017</div><h1 class="f3 near-black"><a href=/post/mal-wieder-neue-hardware/ class="link black dim">Mal wieder neue Hardware</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Zeit ist reif für ein Hardware-Update, und zwar für die IO-Platine 2.0. Vorgesehen war ja schon länger, den UART dort zu integrieren. Ausserdem war das Joystick&ndash;Interface noch unausgegoren, sodass auch hier etwas Neues entwickelt wurde.
Zum Schutz der VIA-Pins dienen nun keine Optokoppler, sondern simple Serienwiderstände sollen die Ports zumindest vor dem Fall schützen, dass man doch mal die Datenrichtung der Joystick-Pins auf Ausgang schaltet und dann die VIA grillt indem man den Joystick betätigt.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>September 22, 2015</div><h1 class="f3 near-black"><a href=/post/fantastische-reise-ii/ class="link black dim">FanTASTische Reise II</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Vor einer Weile haben wir im Beitrag /index.php/2014/12/15/eine-fantastische-reise/ den Weg zu unserem aktuellen Tastaturcontroller beschrieben.
Wer nicht nochmal nachlesen möchte: Ein ATmega8 dient als SPI Slave als Interface zwischen PS/2-Protokoll, Tastaturmapping und Puffer. Als Basis dient eine angepasste Version des Codes aus AVR Application Note 313, die als Ausgabeschnittstelle den USART des ATmega8 vorsieht. Dies haben wir durch das SPI-Interface des AVR ersetzt.
Steckschwein-Seitig haben wir die Tastaturabfrage immer im Blank-Interrupt des Videochips vorgenommen, genauer gesagt, jeden zweiten Blank.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>June 24, 2014</div><h1 class="f3 near-black"><a href=/post/verfeinerungen-am-design/ class="link black dim">Verfeinerungen am Design</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">So langsam geht es weiter mit der Steckschweinentwicklung.
Die Timingprobleme mit dem VDP bedürfen einer eingehenden Prüfung und Messung, um genau zu verstehen, wo was nicht passt. Unsere Ideen mit Puffern und/oder versetzten Taktsignalen, um den VDP früher &ldquo;kommen&rdquo; zu lassen stellen wir zurück, bis wir gesicherte Erkenntnisse haben. Ein Herumdoktern aufgrund von Vermutungen halten wir nicht für zielführend. Vorher ist es auch nicht sinnvoll, irgendwelche Platinen zu löten.
Stattdessen stecken wir ein wenig Hirnschmalz ins aktuelle Design.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 5, 2014</div><h1 class="f3 near-black"><a href=/post/schaltplan/ class="link black dim">Schaltplan</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit Klarheit darüber herrscht, worum es überhaupt geht, haben wir den Schaltplan in die einzelnen Gruppen (Prozessor+ Freunde, Speicher, UART) zerlegt.
Die aktuelle Stückliste liest sich laut Eagle folgendermaßen:
Part Value Device C1 100n C5/3 C3 1n C-EU025-025X050 C4 10n C-EU025-025X050 C5 10µF CPOL-EUE2,5-6E C6 100n C5/3 C7 100n C5/3 C8 100n C5/3 C12 1µF CPOL-EUE2,5-6E C13 100n C5/3 C14 100n C5/3 C15 100n C5/3 C16 1µF CPOL-EUE2,5-6E C17 1µF CPOL-EUE2,5-6E C18 1µF CPOL-EUE2,5-6E C19 1µF CPOL-EUE2,5-6E IC1 CY62256LL-PC CY62256LL-PC IC3 CY62256LL-PC CY62256LL-PC IC4 NE555 NE555 IC5 28c64 2864 IC6 16550 UART XR-16C550P IC8 74LS06N 74LS06N IC9 GAL22V10 22V10 IC10 MAX232 MAX232 QG1 2MHz XO-14 QG2 1.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 3, 2014</div><h1 class="f3 near-black"><a href=/post/exkurs-wie-kommt-code-aufs-steckschwein/ class="link black dim">Exkurs: Wie kommt Code aufs Steckschwein?</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Programmierung eines Computers, der nur aus einer gesteckten Schaltung besteht und weder Tastatur noch Speichermöglichkeit hat, ist eine mühsame Angelegenheit. Die allerersten Experimente bekamen ihr Futter auf einem 27128-EPROM serviert. Bekanntlich wollen diese vor dem Beschreiben mit neuem Code mit UV-Licht gelöscht werden. Also wurde für jedes Update ein EPROM mit neuem Code gebrannt, um die EPROMS anschließend in 10er-Packen ins Löschgerät zu schieben. 15 Minuten Kaffeepause.
Überhaupt, Code: Für die ersten Experimente hat es genügt, die reinen Hexcodes in einen Hexeditor zu tippen und die Daten dann zu brennen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 2, 2014</div><h1 class="f3 near-black"><a href=/post/murphy-ii/ class="link black dim">Murphy II</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Flugs also ein ROM gebrannt mit der memtest-routine, in die nach der Reset-Routine eingesprungen wird. Gleiches Ergebnis. Beim ersten Auftreten des &ldquo;K statt OK&rdquo;-Fehlers ist erstmal die doch etwas windig anmutende Verdrahtung der Adressleitungen zwischen Prozessor, den RAM-Bausteinen und dem ROM mit &ldquo;richtigen&rdquo; Steckbrettstrippen statt Klingeldraht nachverdrahtet worden. Das war vermutlich etwas voreilig, schließlich hats vorher ja auch schon funktioniert. Schließlich stellt sich heraus, dass sich hier in der Tat ein paar Fehler eingeschlichen haben, die auch beim Durchklingeln der einzelnen Adressleitungen nicht aufgefallen sind: Kurzschlüsse.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 31, 2014</div><h1 class="f3 near-black"><a href=/post/kein-spass-murphy-schlaegt-zu/ class="link black dim">... kein Spaß - Murphy schlägt zu</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Neben all den ermutigenden Experimenten gibt es natürlich auch immer mal wieder Rückschläge. Mittlerweile haben wir schon ein durchaus komplexes Gebilde auf dem Steckbrett, welches ja per se nicht die ideale Plattform ist, um so etwas zu bauen.
So wie aktuell gerade mein &ldquo;Steckschwein&rdquo; ein sehr merkwürdiges Verhalten an den Tag legt, ohne dass an der Schaltung etwas geändert worden wäre (Marko ist Zeuge).
Vorab nochmal der Ablauf unserer Upload-Routine, mit der wir das Steckschwein via RS232 mit Code befüttern:</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 28, 2014</div><h1 class="f3 near-black"><a href=/post/acia-muss-wieder-raus/ class="link black dim">ACIA muss wieder raus</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die 65x51 ACIA erschien uns als die am tiefsten hängende Frucht, um eine RS232 Schnittstelle zu implementieren, nachdem wir Bit Banging nach C64 Vorbild ziemlich schnell verworfen hatten.
Auch programmiertechnisch mach die ACIA einen simplen Eindruck, ganze drei Register wollen beherrscht werden.
Die rs232-Schnittstelle ermöglicht uns, Code auf den Steckbrettrechner zu laden, ohne jedesmal das EEPROM neu brennen zu müssen. Eine gewaltige Erleichterung.
Aber - wir haben es bereits erwähnt - die ACIA hat keine Zukunft bei uns.</div></div><h2 class=f1><a href=/categories/unit-tests class="link blue hover-black">Category: unit-tests</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 13, 2018</div><h1 class="f3 near-black"><a href=/post/vcfb-2018-its-great/ class="link black dim">VCFB 2018 It was great...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">VCF 2018 in Berlin was great! We&rsquo;ve met interesting people there. Got a handshake with Scot W. Stevenson who for(th)ced us to use his TaliForth2 ;)
Later on Saturday Daniel Illgen - maintainer of the Adlib Tracker II for Linux - had decided to honor us with his OPL2 knowledge while on the way out. He advised us to keep the OPL2 sound chip on the Steckschwein, because the OPL2 chip is still not outbid.</div></div><h2 class=f1><a href=/categories/urschleim class="link blue hover-black">Category: urschleim</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 21, 2019</div><h1 class="f3 near-black"><a href=/post/chuck-peddle-1937-2019/ class="link black dim">Chuck Peddle, 1937 - 2019</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Chuck Peddle, the main designer of the 6502, has passed away on Dec. 15th, 2019.
Peddle was one of the engineers that developed the 6800 at Motorola. He later went to MOS in order to implement his vision of an 8bit CPU for way less than $300, which was Motorola&rsquo;s price for the 6800.
This idea of a cheap but powerful CPU materialized as the 6501, and finally the 6502. That very chip, which started the microcomputer revolution, and on which both Marko and myself began to write our first code ever at an early age.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 12, 2014</div><h1 class="f3 near-black"><a href=/post/am-anfang-war-das-nop/ class="link black dim">Am Anfang war das NOP</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wenn man 20 Jahre lang den Jugendtraum mit sich rumträgt, einen 8bit-Rechner selber zu bauen, dann hat man 20 Jahre Zeit, einzurosten. Langsames Rantasten an das große Ziel ist angesagt.
In diesem Fall soll unser 65c02 erstmal nur NOPs ausführen und wir wollen zuschauen, was auf dem Adressbus passiert. Der Datenbus ist hart verdrahtet auf NOP ($EA, 11101010) . Als Reset-Schaltung kommt eine auf Basis des allseits beliebten NE555 zum Einsatz.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 12, 2014</div><h1 class="f3 near-black"><a href=/post/euphorie-jetzt-auch-ram/ class="link black dim">Euphorie: Jetzt auch RAM!</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Euphorie ob des Ausgangs des letzten Versuchs nutzend wird jetzt weitergebaut. Immerhin sind wir so nah an einem richtigen Computer. Was fehlt, ist RAM. Leider nichts im Haus.
Eine temporäre Organspende aus einem C64-Easyflash-Cartridge (Cooles Teil: http://skoe.de/easyflash/doku.php?id=start) verschafft uns ein 6264 SRAM. Dieses verdrahten wir analog zum EPROM, allerdings brauche es hier noch einen Hauch von Gatterlogik, um das EEPROM ans obere Ende des Adressraums zu mappen, während das SRAM in den unteren 8k lebt.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 12, 2014</div><h1 class="f3 near-black"><a href=/post/mehr-mut-es-werde-code/ class="link black dim">Mehr Mut: Es werde Code!</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nachdem uns nach einiger Zeit dann doch langweilig wurde, den Prozessor beim NOPs ausführen zu beobachten musste der nächste Kick her: Es soll Code ausführen! Also ein wenig Code geschrieben (dieser ist leider nicht überliefert, enthielt lediglich einige NOPs und JMPs, gerade genug also, um uns in blanke Verzückung zu versetzen), auf ein 27128 EPROM gebrannt und an Adress- und Datenbus angeschlossen. /OE und /CS des EPROM wurden einfach auf Masse gelegt.</div></div><h2 class=f1><a href=/categories/v9958 class="link blue hover-black">Category: v9958</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 15, 2018</div><h1 class="f3 near-black"><a href=/post/v9958opl2-boards-are-there/ class="link black dim">V9958+OPL2-Boards are there</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">The newly made boards made their way from China to Munich. Starting now, the multi board version of the Steckschwein is made up of 3 Boards: CPU/Memory, IO/UART and V9958-OPL2.
[gallery ids=&ldquo;1166,1167,1168&rdquo; type=&ldquo;rectangular&rdquo;]</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 7, 2018</div><h1 class="f3 near-black"><a href=/post/new-v9958-board-with-integrated-opl2/ class="link black dim">New V9958-Board with integrated OPL2</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">It&rsquo;s time for another hardware upgrade. Since we really want to get our single board Steckschwein done, we are going for higher integration of our multiboard prototype. After integrating the UART to the IO-Board, we integrate the OPL2 sound part onto the V9958 video board, so the current Steckschwein multi board incarnations are reduced to three boards. We did postpone our plan to upgrade sound to OPL3 because Daniel Illgen, which we met at VCFb, convinced us with some awesome OPL2 tunes that OPL2 is still cool.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-the-wait-investigation-of-the-cpu-vdp-wait-interface/ class="link black dim">V9958 - "The WAIT" - investigation of the CPU/VDP /WAIT interface</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; on the way back to munich, we had some time to do a little code review of our gfx library. thinking about the cpu to video chip timings and again read the well known datasheets of the V9938/V9958. suddenly i got an enlightenment and we came to the following conclusion.
as described in the datasheet (V9958-Technical-manual_v1.0.pdf) of the V9958 there are different timings given for different kind of writes. so as far as we understand there are the following timings</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 17, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-es-ist-vollbracht/ class="link black dim">V9958 - Es ist vollbracht</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Da ist sie nun, die neuen Videoplatine. Nach einigen Umwegen hat der Packen Boards uns erreicht (die erste Lieferung ist versehentlich in Spanien gelandet, während wir die Platinen des spanischen Bastlers erhalten haben. Inzwischen hat jeder Ersatz erhalten).
Wir haben ja bekanntlich unsere Vorgehensweise geändert, indem wir schneller Platinen anfertigen lassen. Aber zu unserer großen Freude funktionierte die erste Platine nach Bestückung auf Anhieb. Selbstverständlich haben sich aber auch ein paar Patzer eingeschlichen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 1, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-vom-steckbrett-zum-prototypen/ class="link black dim">V9958 - Vom Steckbrett zum Prototypen</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Es ist soweit, der erste Prototyp auf Platine von unserem neuen V9958-Videoboard ist fertig layoutet, und die Platinen warten beim Fertiger auf ihren Versand.
Der Steckbrettaufbau vom letzten Post wurde auf 128k erweitert. Dazu ist einfach eine 2. Bank von 2 Stück 64k x 4 DRAMS dazugebaut worden. Damit entspricht der Aufbau unserem Schaltplan, und dieser ist damit getestet.
Unsere Timing-Probleme führen wir auf zu kurze Delays bei Registerzugriffen, ein Softwareproblem also, zurück.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 9, 2017</div><h1 class="f3 near-black"><a href=/post/es-wird-wieder-gesteckt/ class="link black dim">Es wird wieder gesteckt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir haben uns schon länger ein Upgrade des Videochips des Steckschweins vorgenommen. Der TMS9929 ist ein netter Chip, aber an einem 8MHz-65c02, der dazu noch so coole Hardware-Features hat, fühlt er sich ein bisschen wie die Achillesferse an.
Zum Glück war beim TMS9929 nicht Schluss, denn dieser hat im Laufe der Zeit diverse Nachfolger bekommen, welche von Yamaha hergestellt wurden und in diversen Weiterentwicklungen des MSX-Standards Verwendung fanden.
Der direkte Nachfolger der TMS99xx-Reihe ist der V9938.</div></div><h2 class=f1><a href=/categories/vcfe class="link blue hover-black">Category: vcfe</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 2, 2017</div><h1 class="f3 near-black"><a href=/post/vcfe-18-0-ein-resuemee/ class="link black dim">VCFe 18.0 - ein Resümee</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Kein VCFe ohne einen resümmierenden Post-VCFe-Post von uns.
Vorweg: Der neue Veranstaltungsort im Kulturzentrum Trudering ist hervorragend. Eine moderne Veranstaltungshalle, mehr Platz als in der alten ESV-Turnhalle, großzügiger Foyerbereich und ein deutlich größerer Vortragsraum. Die Nahrungsversorgung bestreitet im Kulturzentrum Trudering das integrierte indische Restaurant &ldquo;Taj&rdquo;, welches ebenso überzeugen konnte. Alles in allem ein großer Gewinn und allen Anzeichen nach wird das nächste VCFe auch wieder dort stattfinden.
[caption id=&ldquo;attachment_853&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1280&rdquo;] Das Steckschwein auf dem VCFe 18.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 1, 2016</div><h1 class="f3 near-black"><a href=/post/vcfe-17-0-wir-waren-dabei/ class="link black dim">VCFe 17.0 - wir waren dabei</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Das VCFe 17.0 ist schon wieder vorbei und wir blicken ein wenig wehmütig zurück. Wehmütig vor allem deswegen, weil dieses Mal wohl definitiv das letzte Mal in der altbekannten Halle des ESV München Ost war. Von Anfang an war diese alte Turnhalle die Heimstatt des VCFe, jetzt muss sie dem Neubau einer Exklusiv-Loft-Wohnumgebung weichen. Genau das, was Berg am Laim unbedingt braucht.
Wie immer gab es viele tolle Dinge zu sehen und zu erfahren.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 22, 2016</div><h1 class="f3 near-black"><a href=/post/das-steckschwein-auf-dem-vcfe-17/ class="link black dim">Das Steckschwein auf dem VCFe 17</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Am Wochenende vom 30. April und 1. Mai 2016 findet zum 17. Mal das Vintage Computer Festival Europe (VCFe) in München statt.
Das Steckschwein ist natürlich wieder dabei. Unter anderem wird es unsere neue CPU-Platine mit integriertem Waitstate-Generator und dadurch möglichen 8MHz Takt gezeigt.
Ausserdem wird es getreu des diesjährigen VCFe-Mottos &ldquo;Irgendwas mit Medien&rdquo; einen Vortrag zum Speichermedium des Steckschweins geben, speziell über dessen FAT32-Unterstützung.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 3, 2015</div><h1 class="f3 near-black"><a href=/post/vcfe-16-0-schon-wieder-vorbei/ class="link black dim">VCFe 16.0 - schon wieder vorbei</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Das VCFe 16.0 ist schon wieder vorbei. Vielen Dank an alle, die vorbeigekommen sind und/oder unsere Vorträge verfolgt haben für ihr Interesse an unserem kleinen Projekt. Besonderer Dank gilt Marco Baye für spontane Patches für den ACME-Crossassembler und Udo Möller für weitere Lektionen im Datenblätter lesen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 20, 2015</div><h1 class="f3 near-black"><a href=/post/das-steckschwein-auf-dem-vcfe-16-0/ class="link black dim">Das Steckschwein auf dem VCFe 16.0</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Vom 1. bis 3. Mai findet das Vintage Computer Festival Europe zum 16. Mal in München statt. Genau wie letztes Jahr ist auch das Steckschwein-Projekt wieder mit von der Partie.
Wir werden die Platinenversionen sowie den Steckbrett-Urschleim präsentieren. Darüberhinaus wird es unsere aktuellen Fortschritte im Bereich &ldquo;Betriebsystem&rdquo;, Filesystem (SteckShell) sowie Videochip zu sehen geben. Zum den Themen &ldquo;Steckschwein auf Platine&rdquo; und &ldquo;Video-Board&rdquo; sind außerdem Vorträge vorgesehen</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2014</div><h1 class="f3 near-black"><a href=/post/zurueck-vom-vcfe-ch/ class="link black dim">Zurück vom VCFe.CH</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Das VCFe.CH war ein großer Spaß und wieder haben wir uns über das Interesse an unserem Projekt gefreut. Bei der Gelegenheit haben wir in einem kleinen Vortrag die letzten Fortschritte und aktuellen Stand des Steckschweins, wie es jetzt offiziell heißt, gehalten. Hier sind die Folien
Außerdem gehört uns jetzt die Domain steckschwein.de, wo in Zukunft unsere Projektwebsite entstehen soll.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 15, 2014</div><h1 class="f3 near-black"><a href=/post/steckschwein-auf-dem-vcfe-ch/ class="link black dim">Steckschwein auf dem VCFe.CH</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir sind wieder unterwegs und zeigen unsere Steckschweine herum. Am Samstag, dem 18.10. werden wir auf dem VCFe.CH in Winterthur zugegen sein, und den aktuellen Stand unseres Projekts vorstellen. Auch ein kleiner Vortrag ist geplant.
Wir freuen uns!</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>June 2, 2014</div><h1 class="f3 near-black"><a href=/post/von-hummeln-und-puffern/ class="link black dim">Von Hummeln und Puffern</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nach dem VCFe ist erstmal nicht viel aktive Entwicklung passiert. Vielmehr haben wir die Erkenntnis, dass wir ein grundsätzliches Timing-Problem haben (danke nochmal an Udo Möller) ein klein wenig sacken lassen. Im Grunde genommen ist es so, wie es sich aus dem vorletzten Post schon herauslesen läßt. Der WDC 65c02 hat eine Data Hold Time von 10ns, während der TMS9929 30ns braucht, sein Zeug vom Bus zu holen. Die verwendeten 16550er UARTs auch.</div></div><h2 class=f1><a href=/categories/vdp class="link blue hover-black">Category: vdp</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 15, 2018</div><h1 class="f3 near-black"><a href=/post/v9958opl2-boards-are-there/ class="link black dim">V9958+OPL2-Boards are there</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">The newly made boards made their way from China to Munich. Starting now, the multi board version of the Steckschwein is made up of 3 Boards: CPU/Memory, IO/UART and V9958-OPL2.
[gallery ids=&ldquo;1166,1167,1168&rdquo; type=&ldquo;rectangular&rdquo;]</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-the-wait-investigation-of-the-cpu-vdp-wait-interface/ class="link black dim">V9958 - "The WAIT" - investigation of the CPU/VDP /WAIT interface</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; on the way back to munich, we had some time to do a little code review of our gfx library. thinking about the cpu to video chip timings and again read the well known datasheets of the V9938/V9958. suddenly i got an enlightenment and we came to the following conclusion.
as described in the datasheet (V9958-Technical-manual_v1.0.pdf) of the V9958 there are different timings given for different kind of writes. so as far as we understand there are the following timings</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 17, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-es-ist-vollbracht/ class="link black dim">V9958 - Es ist vollbracht</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Da ist sie nun, die neuen Videoplatine. Nach einigen Umwegen hat der Packen Boards uns erreicht (die erste Lieferung ist versehentlich in Spanien gelandet, während wir die Platinen des spanischen Bastlers erhalten haben. Inzwischen hat jeder Ersatz erhalten).
Wir haben ja bekanntlich unsere Vorgehensweise geändert, indem wir schneller Platinen anfertigen lassen. Aber zu unserer großen Freude funktionierte die erste Platine nach Bestückung auf Anhieb. Selbstverständlich haben sich aber auch ein paar Patzer eingeschlichen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 9, 2017</div><h1 class="f3 near-black"><a href=/post/es-wird-wieder-gesteckt/ class="link black dim">Es wird wieder gesteckt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir haben uns schon länger ein Upgrade des Videochips des Steckschweins vorgenommen. Der TMS9929 ist ein netter Chip, aber an einem 8MHz-65c02, der dazu noch so coole Hardware-Features hat, fühlt er sich ein bisschen wie die Achillesferse an.
Zum Glück war beim TMS9929 nicht Schluss, denn dieser hat im Laufe der Zeit diverse Nachfolger bekommen, welche von Yamaha hergestellt wurden und in diversen Weiterentwicklungen des MSX-Standards Verwendung fanden.
Der direkte Nachfolger der TMS99xx-Reihe ist der V9938.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 20, 2015</div><h1 class="f3 near-black"><a href=/post/filesystem-und-shell/ class="link black dim">Filesystem und Shell</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Vor kurzem haben wir ja schon von ersten Gehversuchen einer FAT32-Implementation berichtet, mit der wir in der Lage waren, beim Systemstart eine Datei von SD-Karte zu laden.
Was fehlt, ist eine Möglichkeit, innerhalb eines Filesystems einer SD-Karte zu navigieren, Programme zu laden oder Dateien anzuzeigen. Um diese Lücke zu füllen, ist die SteckShell entstanden. In der aktuellen Version 0.6 unterstützt die Shell folgende Funktionen:
Directory auflisten Directory wechseln Programm laden und starten Datei anzeigen Grafik (TMS9929-Rohdaten) anzeigen Wer auf dem VCFe 16.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 2, 2014</div><h1 class="f3 near-black"><a href=/post/tms9929-wir-wollen-was-sehen/ class="link black dim">TMS9929 - Wir wollen was sehen...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; und zwar auf einem Bildschirm! Aber wie stellt man sowas an?! Nun, wir schauen uns um, was Ende der 70-er bzw. Anfang der 80-er Jahre Stand der Technik war und was sich mit überschaubarem Aufwand an eine 6502 CPU &ldquo;anschließen&rdquo; lässt. Die Auswahl ist leider überschaubar, denn es sollte irgendwas in DIP maximal noch SDIP sein und dazu noch irgendwie lieferbar - &ldquo;new old stock&rdquo;.
Wir fanden die TMS9918/28/29-Serie und einige Nachfolger wie den TMS9938/58.</div></div><h2 class=f1><a href=/categories/vhdl class="link blue hover-black">Category: vhdl</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 16, 2014</div><h1 class="f3 near-black"><a href=/post/das-design-wird-erweitert/ class="link black dim">Das Design wird erweitert</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Sinn der Sache ist ja nicht, etwas 1:1 nachzubauen, sondern ein möglichst eigenes Design. Nachdem wir mit Chris&rsquo; Design - bzw. dessen, was wir davon übernommen haben (Adressdekodierung, ACIA, VIA) - genug herumgespielt hatten, galt es, &ldquo;unser&rdquo; Ding draus zu machen. Der erste Schritt war ein Sprung ins kalte Wasser in die uns bislang noch unbekannte Welt der Programmierbaren Logik. Dazu haben wir zunächst die Adressdekodierung bestehend aus 74ls138/74ls154 sowie etwas glue Logic in VHDL implementiert und auf ein GAL22V10D gebrannt.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>February 22, 2014</div><h1 class="f3 near-black"><a href=/post/doppelt-haelt-besser/ class="link black dim">Doppelt hält besser</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit sich ein &ldquo;Steckschwein&rdquo; nicht so einsam fühlt, haben wir das ganze nochmal geklont. Jetzt hat jeder sein eigenes Steckschwein und kann daran rumschrauben oder besser gesagt rumstecken.
Da wir das Tooling &ldquo;leichtgewichtig&rdquo; halten wollen, gabs auch gleich ein kleines Problem zu lösen. Die Dekoder-Logik für den GAL wurde bisher in VHDL definiert und mit dem Hersteller-Produkt http://www.latticesemi.com/ispleverclassic ein entsprechendes JEDEC-File erzeugt. Das war uns dann doch viel zu unhandlich und wir haben uns nach Alternativen umgetan.</div></div><h2 class=f1><a href=/categories/via class="link blue hover-black">Category: via</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>November 28, 2017</div><h1 class="f3 near-black"><a href=/post/neue-hardware-die-platinen-sind-da/ class="link black dim">Neue Hardware - die Platinen sind da</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die neuen IO-Platinen mit integriertem UART sind fertig und haben ihren Weg von China nach München gefunden.
Mit dem neuen Layout hat es nicht nur der UART mit aufs IO-Board geschafft, es sind auch etliche kleinere und größere Verbesserungen eingeflossen:
Die Joystickports wurden komplett neu designed. Die Optokoppler sparen wir uns, stattdessen wählen wir über einen VIA Pin verschiedene Treiber an, die den gewünschten Joystickport mit VIA Port A verbindet. Die Ports lassen sich auch per Software komplett abschalten, damit der User-Port frei verfügbar ist.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>November 22, 2017</div><h1 class="f3 near-black"><a href=/post/mal-wieder-neue-hardware/ class="link black dim">Mal wieder neue Hardware</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Die Zeit ist reif für ein Hardware-Update, und zwar für die IO-Platine 2.0. Vorgesehen war ja schon länger, den UART dort zu integrieren. Ausserdem war das Joystick&ndash;Interface noch unausgegoren, sodass auch hier etwas Neues entwickelt wurde.
Zum Schutz der VIA-Pins dienen nun keine Optokoppler, sondern simple Serienwiderstände sollen die Ports zumindest vor dem Fall schützen, dass man doch mal die Datenrichtung der Joystick-Pins auf Ausgang schaltet und dann die VIA grillt indem man den Joystick betätigt.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 13, 2014</div><h1 class="f3 near-black"><a href=/post/spi-mit-65c22-via/ class="link black dim">SPI mit 65c22 VIA</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Es gibt verschiedene Ansätze, einem 6502-basierten System SPI beizubiegen. Daryl Rictor hat z.B. einen CPLD-basierten SPI-Controller mit passendem Businterface entwickelt. Meist jedoch wird eine 6522 VIA hergenommen und SPI per Bit Banging implementiert. Auch hier gibt es verschiedenen Ansätze, Andre Fachat hat es mit ein wenig externer Logik sogar geschafft, das Schieberegister der VIA im für SD-Karten nötigen SPI Mode 0 zu betreiben. Normalerweise geht das ja nicht, das das Schieberegister der VIA die Daten nicht vor dem ersten Taktimpuls anlegen kann.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 11, 2014</div><h1 class="f3 near-black"><a href=/post/tore-zur-welt/ class="link black dim">Tore zur Welt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Um dem Ziel eines &ldquo;richtigen&rdquo; Computers näher zu kommen, brauchen wir nicht nur einen Videochip, wir brauchen auch Eingabegeräte und Massenspeicher.
Zwar soll unser Rechner so retro sein, dass es ihn damals, zur Hochzeit der 8bit-Heimcomputer, durchaus hätte geben können, realistischerweise wollen wir ihn jedoch mit durchaus modernen Schnittstellen ausstatten. Die 8bit-Rechner aus &ldquo;unserer Zeit&rdquo; haben IO-Chips wie den 6526 oder 6522 benutzt, um Tastatur (Matrix), Joysticks und Massenspeicher anzusteuern. Das haben wir auch vor.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 15, 2014</div><h1 class="f3 near-black"><a href=/post/ein-richtiger-computer-soll-es-sein/ class="link black dim">Ein richtiger Computer soll es sein</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nachdem die vorangegangenen Spielereien sehr ermutigend verliefen, war der nächste Schritt klar. Wenn wir so weit kommen, kommen wir auch noch weiter. Das Ziel ist jetzt definitiv ein funktionierender 8bit-Rechner mit 64k RAM.
Da der 6502 keinen DRAM-Refresh liefert und wir uns den Aufwand eines diskreten Refresh-Generators ersparen wollen, soll es ein SRAM-basiertes Design werden. Bei ein wenig Recherche beim Elektronik-Versenders unseres Vertrauens stellen wir fest, dass 2x32k*8 in Form von zwei 2 62256 eine komfortable Lösung sein würden.</div></div><h2 class=f1><a href=/categories/video class="link blue hover-black">Category: video</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 15, 2018</div><h1 class="f3 near-black"><a href=/post/v9958opl2-boards-are-there/ class="link black dim">V9958+OPL2-Boards are there</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">The newly made boards made their way from China to Munich. Starting now, the multi board version of the Steckschwein is made up of 3 Boards: CPU/Memory, IO/UART and V9958-OPL2.
[gallery ids=&ldquo;1166,1167,1168&rdquo; type=&ldquo;rectangular&rdquo;]</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 7, 2018</div><h1 class="f3 near-black"><a href=/post/new-v9958-board-with-integrated-opl2/ class="link black dim">New V9958-Board with integrated OPL2</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">It&rsquo;s time for another hardware upgrade. Since we really want to get our single board Steckschwein done, we are going for higher integration of our multiboard prototype. After integrating the UART to the IO-Board, we integrate the OPL2 sound part onto the V9958 video board, so the current Steckschwein multi board incarnations are reduced to three boards. We did postpone our plan to upgrade sound to OPL3 because Daniel Illgen, which we met at VCFb, convinced us with some awesome OPL2 tunes that OPL2 is still cool.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-the-wait-investigation-of-the-cpu-vdp-wait-interface/ class="link black dim">V9958 - "The WAIT" - investigation of the CPU/VDP /WAIT interface</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; on the way back to munich, we had some time to do a little code review of our gfx library. thinking about the cpu to video chip timings and again read the well known datasheets of the V9938/V9958. suddenly i got an enlightenment and we came to the following conclusion.
as described in the datasheet (V9958-Technical-manual_v1.0.pdf) of the V9958 there are different timings given for different kind of writes. so as far as we understand there are the following timings</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 17, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-es-ist-vollbracht/ class="link black dim">V9958 - Es ist vollbracht</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Da ist sie nun, die neuen Videoplatine. Nach einigen Umwegen hat der Packen Boards uns erreicht (die erste Lieferung ist versehentlich in Spanien gelandet, während wir die Platinen des spanischen Bastlers erhalten haben. Inzwischen hat jeder Ersatz erhalten).
Wir haben ja bekanntlich unsere Vorgehensweise geändert, indem wir schneller Platinen anfertigen lassen. Aber zu unserer großen Freude funktionierte die erste Platine nach Bestückung auf Anhieb. Selbstverständlich haben sich aber auch ein paar Patzer eingeschlichen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 1, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-vom-steckbrett-zum-prototypen/ class="link black dim">V9958 - Vom Steckbrett zum Prototypen</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Es ist soweit, der erste Prototyp auf Platine von unserem neuen V9958-Videoboard ist fertig layoutet, und die Platinen warten beim Fertiger auf ihren Versand.
Der Steckbrettaufbau vom letzten Post wurde auf 128k erweitert. Dazu ist einfach eine 2. Bank von 2 Stück 64k x 4 DRAMS dazugebaut worden. Damit entspricht der Aufbau unserem Schaltplan, und dieser ist damit getestet.
Unsere Timing-Probleme führen wir auf zu kurze Delays bei Registerzugriffen, ein Softwareproblem also, zurück.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 9, 2017</div><h1 class="f3 near-black"><a href=/post/es-wird-wieder-gesteckt/ class="link black dim">Es wird wieder gesteckt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir haben uns schon länger ein Upgrade des Videochips des Steckschweins vorgenommen. Der TMS9929 ist ein netter Chip, aber an einem 8MHz-65c02, der dazu noch so coole Hardware-Features hat, fühlt er sich ein bisschen wie die Achillesferse an.
Zum Glück war beim TMS9929 nicht Schluss, denn dieser hat im Laufe der Zeit diverse Nachfolger bekommen, welche von Yamaha hergestellt wurden und in diversen Weiterentwicklungen des MSX-Standards Verwendung fanden.
Der direkte Nachfolger der TMS99xx-Reihe ist der V9938.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 11, 2016</div><h1 class="f3 near-black"><a href=/post/die-spannung-sinkt-alles-auf-5-volt/ class="link black dim">Die Spannung sinkt... alles auf 5 Volt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Endlich, wir haben uns mal bemüht und pünktlich zum 17. VCF das Steckschwein auf 5V umgerüstet. Genauer gesagt war ja nur noch das Video-Board und der YPbPr auf RGB-Encoder das Problem. Der kam zwar mit 5V auch klar, jedoch war dann der Kontrast und die Farbsättigung &ldquo;unterirdisch&rdquo;.
Was haben wir geändert? Vorab muss man sagen, dass uns in den - mittlerweile - letzten Jahren zahlreiche Emails von Interessenten, Retro-Freaks und Bastlern ereilten.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 2, 2014</div><h1 class="f3 near-black"><a href=/post/tms9929-wir-wollen-was-sehen/ class="link black dim">TMS9929 - Wir wollen was sehen...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; und zwar auf einem Bildschirm! Aber wie stellt man sowas an?! Nun, wir schauen uns um, was Ende der 70-er bzw. Anfang der 80-er Jahre Stand der Technik war und was sich mit überschaubarem Aufwand an eine 6502 CPU &ldquo;anschließen&rdquo; lässt. Die Auswahl ist leider überschaubar, denn es sollte irgendwas in DIP maximal noch SDIP sein und dazu noch irgendwie lieferbar - &ldquo;new old stock&rdquo;.
Wir fanden die TMS9918/28/29-Serie und einige Nachfolger wie den TMS9938/58.</div></div><h2 class=f1><a href=/categories/video-chip class="link blue hover-black">Category: video-chip</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 15, 2018</div><h1 class="f3 near-black"><a href=/post/v9958opl2-boards-are-there/ class="link black dim">V9958+OPL2-Boards are there</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">The newly made boards made their way from China to Munich. Starting now, the multi board version of the Steckschwein is made up of 3 Boards: CPU/Memory, IO/UART and V9958-OPL2.
[gallery ids=&ldquo;1166,1167,1168&rdquo; type=&ldquo;rectangular&rdquo;]</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 7, 2018</div><h1 class="f3 near-black"><a href=/post/new-v9958-board-with-integrated-opl2/ class="link black dim">New V9958-Board with integrated OPL2</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">It&rsquo;s time for another hardware upgrade. Since we really want to get our single board Steckschwein done, we are going for higher integration of our multiboard prototype. After integrating the UART to the IO-Board, we integrate the OPL2 sound part onto the V9958 video board, so the current Steckschwein multi board incarnations are reduced to three boards. We did postpone our plan to upgrade sound to OPL3 because Daniel Illgen, which we met at VCFb, convinced us with some awesome OPL2 tunes that OPL2 is still cool.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-the-wait-investigation-of-the-cpu-vdp-wait-interface/ class="link black dim">V9958 - "The WAIT" - investigation of the CPU/VDP /WAIT interface</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; on the way back to munich, we had some time to do a little code review of our gfx library. thinking about the cpu to video chip timings and again read the well known datasheets of the V9938/V9958. suddenly i got an enlightenment and we came to the following conclusion.
as described in the datasheet (V9958-Technical-manual_v1.0.pdf) of the V9958 there are different timings given for different kind of writes. so as far as we understand there are the following timings</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 17, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-es-ist-vollbracht/ class="link black dim">V9958 - Es ist vollbracht</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Da ist sie nun, die neuen Videoplatine. Nach einigen Umwegen hat der Packen Boards uns erreicht (die erste Lieferung ist versehentlich in Spanien gelandet, während wir die Platinen des spanischen Bastlers erhalten haben. Inzwischen hat jeder Ersatz erhalten).
Wir haben ja bekanntlich unsere Vorgehensweise geändert, indem wir schneller Platinen anfertigen lassen. Aber zu unserer großen Freude funktionierte die erste Platine nach Bestückung auf Anhieb. Selbstverständlich haben sich aber auch ein paar Patzer eingeschlichen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 1, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-vom-steckbrett-zum-prototypen/ class="link black dim">V9958 - Vom Steckbrett zum Prototypen</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Es ist soweit, der erste Prototyp auf Platine von unserem neuen V9958-Videoboard ist fertig layoutet, und die Platinen warten beim Fertiger auf ihren Versand.
Der Steckbrettaufbau vom letzten Post wurde auf 128k erweitert. Dazu ist einfach eine 2. Bank von 2 Stück 64k x 4 DRAMS dazugebaut worden. Damit entspricht der Aufbau unserem Schaltplan, und dieser ist damit getestet.
Unsere Timing-Probleme führen wir auf zu kurze Delays bei Registerzugriffen, ein Softwareproblem also, zurück.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 9, 2017</div><h1 class="f3 near-black"><a href=/post/es-wird-wieder-gesteckt/ class="link black dim">Es wird wieder gesteckt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir haben uns schon länger ein Upgrade des Videochips des Steckschweins vorgenommen. Der TMS9929 ist ein netter Chip, aber an einem 8MHz-65c02, der dazu noch so coole Hardware-Features hat, fühlt er sich ein bisschen wie die Achillesferse an.
Zum Glück war beim TMS9929 nicht Schluss, denn dieser hat im Laufe der Zeit diverse Nachfolger bekommen, welche von Yamaha hergestellt wurden und in diversen Weiterentwicklungen des MSX-Standards Verwendung fanden.
Der direkte Nachfolger der TMS99xx-Reihe ist der V9938.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 11, 2016</div><h1 class="f3 near-black"><a href=/post/die-spannung-sinkt-alles-auf-5-volt/ class="link black dim">Die Spannung sinkt... alles auf 5 Volt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Endlich, wir haben uns mal bemüht und pünktlich zum 17. VCF das Steckschwein auf 5V umgerüstet. Genauer gesagt war ja nur noch das Video-Board und der YPbPr auf RGB-Encoder das Problem. Der kam zwar mit 5V auch klar, jedoch war dann der Kontrast und die Farbsättigung &ldquo;unterirdisch&rdquo;.
Was haben wir geändert? Vorab muss man sagen, dass uns in den - mittlerweile - letzten Jahren zahlreiche Emails von Interessenten, Retro-Freaks und Bastlern ereilten.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 20, 2015</div><h1 class="f3 near-black"><a href=/post/das-steckschwein-auf-dem-vcfe-16-0/ class="link black dim">Das Steckschwein auf dem VCFe 16.0</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Vom 1. bis 3. Mai findet das Vintage Computer Festival Europe zum 16. Mal in München statt. Genau wie letztes Jahr ist auch das Steckschwein-Projekt wieder mit von der Partie.
Wir werden die Platinenversionen sowie den Steckbrett-Urschleim präsentieren. Darüberhinaus wird es unsere aktuellen Fortschritte im Bereich &ldquo;Betriebsystem&rdquo;, Filesystem (SteckShell) sowie Videochip zu sehen geben. Zum den Themen &ldquo;Steckschwein auf Platine&rdquo; und &ldquo;Video-Board&rdquo; sind außerdem Vorträge vorgesehen</div></div><h2 class=f1><a href=/categories/video-signal class="link blue hover-black">Category: video-signal</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 7, 2018</div><h1 class="f3 near-black"><a href=/post/new-v9958-board-with-integrated-opl2/ class="link black dim">New V9958-Board with integrated OPL2</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">It&rsquo;s time for another hardware upgrade. Since we really want to get our single board Steckschwein done, we are going for higher integration of our multiboard prototype. After integrating the UART to the IO-Board, we integrate the OPL2 sound part onto the V9958 video board, so the current Steckschwein multi board incarnations are reduced to three boards. We did postpone our plan to upgrade sound to OPL3 because Daniel Illgen, which we met at VCFb, convinced us with some awesome OPL2 tunes that OPL2 is still cool.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 17, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-es-ist-vollbracht/ class="link black dim">V9958 - Es ist vollbracht</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Da ist sie nun, die neuen Videoplatine. Nach einigen Umwegen hat der Packen Boards uns erreicht (die erste Lieferung ist versehentlich in Spanien gelandet, während wir die Platinen des spanischen Bastlers erhalten haben. Inzwischen hat jeder Ersatz erhalten).
Wir haben ja bekanntlich unsere Vorgehensweise geändert, indem wir schneller Platinen anfertigen lassen. Aber zu unserer großen Freude funktionierte die erste Platine nach Bestückung auf Anhieb. Selbstverständlich haben sich aber auch ein paar Patzer eingeschlichen.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 1, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-vom-steckbrett-zum-prototypen/ class="link black dim">V9958 - Vom Steckbrett zum Prototypen</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Es ist soweit, der erste Prototyp auf Platine von unserem neuen V9958-Videoboard ist fertig layoutet, und die Platinen warten beim Fertiger auf ihren Versand.
Der Steckbrettaufbau vom letzten Post wurde auf 128k erweitert. Dazu ist einfach eine 2. Bank von 2 Stück 64k x 4 DRAMS dazugebaut worden. Damit entspricht der Aufbau unserem Schaltplan, und dieser ist damit getestet.
Unsere Timing-Probleme führen wir auf zu kurze Delays bei Registerzugriffen, ein Softwareproblem also, zurück.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 9, 2017</div><h1 class="f3 near-black"><a href=/post/es-wird-wieder-gesteckt/ class="link black dim">Es wird wieder gesteckt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir haben uns schon länger ein Upgrade des Videochips des Steckschweins vorgenommen. Der TMS9929 ist ein netter Chip, aber an einem 8MHz-65c02, der dazu noch so coole Hardware-Features hat, fühlt er sich ein bisschen wie die Achillesferse an.
Zum Glück war beim TMS9929 nicht Schluss, denn dieser hat im Laufe der Zeit diverse Nachfolger bekommen, welche von Yamaha hergestellt wurden und in diversen Weiterentwicklungen des MSX-Standards Verwendung fanden.
Der direkte Nachfolger der TMS99xx-Reihe ist der V9938.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>May 11, 2016</div><h1 class="f3 near-black"><a href=/post/die-spannung-sinkt-alles-auf-5-volt/ class="link black dim">Die Spannung sinkt... alles auf 5 Volt</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Endlich, wir haben uns mal bemüht und pünktlich zum 17. VCF das Steckschwein auf 5V umgerüstet. Genauer gesagt war ja nur noch das Video-Board und der YPbPr auf RGB-Encoder das Problem. Der kam zwar mit 5V auch klar, jedoch war dann der Kontrast und die Farbsättigung &ldquo;unterirdisch&rdquo;.
Was haben wir geändert? Vorab muss man sagen, dass uns in den - mittlerweile - letzten Jahren zahlreiche Emails von Interessenten, Retro-Freaks und Bastlern ereilten.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 28, 2014</div><h1 class="f3 near-black"><a href=/post/tms9929-composite-video-und-rgbhy/ class="link black dim">TMS9929 Composite Video und RGB+H/Y</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Damit Dommas nicht langweilig wird und auch in den Gfx-Genuss kommt muss natürlich eine Lösung her. Er hat momentan keine Möglichkeit das Steckschwein mit Grafik an seinem geliebten Commodore 1084-S Monitor zu betreiben. Was ist also zu tun?
Wir haben ja im Post &mldr; beschrieben wie wir aus dem YRyBy des TMS9929 ein brauchbares RGB+Sync (BAS) Signal erzeugen können. Das funktioniert auch wunderbar an allen derzeit gängigen CRT-Fernsehern und auch an allen neuzeitlichen Flat-Screens wenn diese noch einen SCART-Anschluss oder ebend RGB+Sync (PAL-RGB) Eingänge besitzen.</div></div><h2 class=f1><a href=/categories/waitstate class="link blue hover-black">Category: waitstate</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>October 22, 2018</div><h1 class="f3 near-black"><a href=/post/v9958-the-wait-investigation-of-the-cpu-vdp-wait-interface/ class="link black dim">V9958 - "The WAIT" - investigation of the CPU/VDP /WAIT interface</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">&mldr; on the way back to munich, we had some time to do a little code review of our gfx library. thinking about the cpu to video chip timings and again read the well known datasheets of the V9938/V9958. suddenly i got an enlightenment and we came to the following conclusion.
as described in the datasheet (V9958-Technical-manual_v1.0.pdf) of the V9958 there are different timings given for different kind of writes. so as far as we understand there are the following timings</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>April 22, 2016</div><h1 class="f3 near-black"><a href=/post/das-steckschwein-auf-dem-vcfe-17/ class="link black dim">Das Steckschwein auf dem VCFe 17</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Am Wochenende vom 30. April und 1. Mai 2016 findet zum 17. Mal das Vintage Computer Festival Europe (VCFe) in München statt.
Das Steckschwein ist natürlich wieder dabei. Unter anderem wird es unsere neue CPU-Platine mit integriertem Waitstate-Generator und dadurch möglichen 8MHz Takt gezeigt.
Ausserdem wird es getreu des diesjährigen VCFe-Mottos &ldquo;Irgendwas mit Medien&rdquo; einen Vortrag zum Speichermedium des Steckschweins geben, speziell über dessen FAT32-Unterstützung.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>March 8, 2016</div><h1 class="f3 near-black"><a href=/post/neue-cpu-boards/ class="link black dim">Neue CPU-Boards</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Wir haben vor, eine neue Revision der Steckschwein-Prototyp-Platinen herzustellen. Den Anfang macht ein neues CPU-Board mit einigen Bugfixes und den in Chiptuning beschriebenen zusätzlichen GAL als Waitstate-Generator, sowie einem geändertem Stromanschluss: In Zukunft wird es möglich sein, das Steckschwein mit nur 5V per USB, über einen Rundstecker oder wie gehabt über einen Pin-Header zu versorgen. Die Layouts sind schon fertig:
[caption id=&ldquo;attachment_398&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1015&rdquo;] Bestückungsseite[/caption]
[caption id=&ldquo;attachment_582&rdquo; align=&ldquo;alignnone&rdquo; width=&ldquo;1010&rdquo;] Lötseite[/caption]</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 30, 2016</div><h1 class="f3 near-black"><a href=/post/chiptuning/ class="link black dim">Chiptuning</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">An den Heimcomputern von &ldquo;damals&rdquo; gemessen ist das Steckschwein mit 4 MHz durchaus einer der schnelleren 6502-Rechner. Damals waren zumeist Taktraten von 1 MHz üblich. Einige wenige hatten deutlich mehr, wie z.B. der Apple IIgs (65816) mit 2.8 MHz. Einen 4 MHz-65(C)02-Heimcomputer hat es damals nach unserem Informationsstand nicht gegeben.
Nun ist es aber so, dass aktuell erhältliche 65c02-CPUs von WDC offiziell mit bis zu 14MHz getaktet werden können, inoffiziell wurden schon problemlos Taktraten von 20 MHz erreicht.</div></div><h2 class=f1><a href=/categories/wdc class="link blue hover-black">Category: wdc</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 21, 2019</div><h1 class="f3 near-black"><a href=/post/chuck-peddle-1937-2019/ class="link black dim">Chuck Peddle, 1937 - 2019</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Chuck Peddle, the main designer of the 6502, has passed away on Dec. 15th, 2019.
Peddle was one of the engineers that developed the 6800 at Motorola. He later went to MOS in order to implement his vision of an 8bit CPU for way less than $300, which was Motorola&rsquo;s price for the 6800.
This idea of a cheap but powerful CPU materialized as the 6501, and finally the 6502. That very chip, which started the microcomputer revolution, and on which both Marko and myself began to write our first code ever at an early age.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>June 26, 2015</div><h1 class="f3 near-black"><a href=/post/wdc-und-kein-ende/ class="link black dim">WDC und kein Ende</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">In der letzten Zeit war es hier etwas still ums Steckschwein, was aber nicht als Indiz für Untätigkeit gelten soll. Hauptsächlich haben wir uns auf das Schreiben von Code konzentriert, die Shell wurde weiterentwickelt, etc. Darüberhinaus gab es erste Experimente mit CPLDs. Auf dieser Basis sollen ja zukünftige Verbesserungen der Hardware entstehen, begonnen bei einem eigenständigen SPI-Controller bis hin zur Zusammenfassung der bestehenden Glue-Logik rund um die Adressdekodierung. Da ich mir zu diesem Zweck testhalber solche CPLD-Entwicklungsplatinchen auf Basis des XilinX XC9572XL habe kommen lassen, stellte sich also als erstes die Frage, wie sich dessen 3.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>June 2, 2014</div><h1 class="f3 near-black"><a href=/post/von-hummeln-und-puffern/ class="link black dim">Von Hummeln und Puffern</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Nach dem VCFe ist erstmal nicht viel aktive Entwicklung passiert. Vielmehr haben wir die Erkenntnis, dass wir ein grundsätzliches Timing-Problem haben (danke nochmal an Udo Möller) ein klein wenig sacken lassen. Im Grunde genommen ist es so, wie es sich aus dem vorletzten Post schon herauslesen läßt. Der WDC 65c02 hat eine Data Hold Time von 10ns, während der TMS9929 30ns braucht, sein Zeug vom Bus zu holen. Die verwendeten 16550er UARTs auch.</div></div><h2 class=f1><a href=/categories/ym3812 class="link blue hover-black">Category: ym3812</a></h2><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 15, 2018</div><h1 class="f3 near-black"><a href=/post/v9958opl2-boards-are-there/ class="link black dim">V9958+OPL2-Boards are there</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">The newly made boards made their way from China to Munich. Starting now, the multi board version of the Steckschwein is made up of 3 Boards: CPU/Memory, IO/UART and V9958-OPL2.
[gallery ids=&ldquo;1166,1167,1168&rdquo; type=&ldquo;rectangular&rdquo;]</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>December 7, 2018</div><h1 class="f3 near-black"><a href=/post/new-v9958-board-with-integrated-opl2/ class="link black dim">New V9958-Board with integrated OPL2</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">It&rsquo;s time for another hardware upgrade. Since we really want to get our single board Steckschwein done, we are going for higher integration of our multiboard prototype. After integrating the UART to the IO-Board, we integrate the OPL2 sound part onto the V9958 video board, so the current Steckschwein multi board incarnations are reduced to three boards. We did postpone our plan to upgrade sound to OPL3 because Daniel Illgen, which we met at VCFb, convinced us with some awesome OPL2 tunes that OPL2 is still cool.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>July 13, 2017</div><h1 class="f3 near-black"><a href=/post/musik/ class="link black dim">Musik</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Das Programmieren von Soundchips ist nicht trivial. Das habe ich damals auf dem C64 schon nicht kapiert. Mit dem Yamaha YM3812 oder auch OPL2 hat das Steckschwein einen weit komplexeren Chip als den SID, denn OPL2 kennt gleich ganze 9 Stimmen statt drei, und jede ist über eine Unzahl Parameter konfigurierbar.
Wie funktioniert der YM3812? Wie kriegt man also einen Ton aus diesem Monstrum? Die beste Quelle zum Thema OPL2 ist wohl &ldquo;Programming the AdLib/Sound Blaster FM Music Chips&rdquo; von Jeffrey S.</div></div><div class="mb3 pa4 mid-gray overflow-hidden"><div class=f6>January 4, 2015</div><h1 class="f3 near-black"><a href=/post/das-schwein-kann-singen/ class="link black dim">Das Schwein kann singen...</a></h1><div class="nested-links f5 lh-copy nested-copy-line-height">Das Steckschwein hat nun fast alle notwendigen Komponenten, um mit der Außenwelt zu kommunizieren, aber auch nur fast. Bisher ist es noch stumm, aber das sollte sich heute ändern. Wir haben hier noch ein paar YM3812 Schippse nebst benötigter DAC (YM3014B) rumliegen, also haben wir überlegt dem Schwein einfach das singen beizubringen. Wir wollen Musik und Sounds haben.
Der YM3812 ist ein sehr verbreiteter Chip, der sich auf OPL2 beschränkt, für unsere Zwecke aber völlig ausreichend ist.</div></div></section></div></main><footer class="bg-black bottom-0 w-100 pa3" role=contentinfo><div class="flex justify-between"><a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href=https://steckschwein.github.io>&copy; Steckschwein 2022</a><div><div class=ananke-socials><a href=https://twitter.com/steckschwein target=_blank class="twitter ananke-social-link link-transition stackoverflow link dib z-999 pt3 pt0-l mr1" title="Twitter link" rel=noopener aria-label="follow on Twitter——Opens in a new window"><span class=icon><svg style="enable-background:new 0 0 67 67" viewBox="0 0 67 67" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M37.167 22.283c-2.619.953-4.274 3.411-4.086 6.101l.063 1.038-1.048-.127c-3.813-.487-7.145-2.139-9.974-4.915l-1.383-1.377-.356 1.017c-.754 2.267-.272 4.661 1.299 6.271.838.89.649 1.017-.796.487-.503-.169-.943-.296-.985-.233-.146.149.356 2.076.754 2.839.545 1.06 1.655 2.097 2.871 2.712l1.027.487-1.215.021c-1.173.0-1.215.021-1.089.467.419 1.377 2.074 2.839 3.918 3.475l1.299.444-1.131.678c-1.676.976-3.646 1.526-5.616 1.568C19.775 43.256 19 43.341 19 43.405c0 .211 2.557 1.397 4.044 1.864 4.463 1.377 9.765.783 13.746-1.568 2.829-1.673 5.657-5 6.978-8.221.713-1.716 1.425-4.851 1.425-6.354.0-.975.063-1.102 1.236-2.267.692-.678 1.341-1.419 1.467-1.631.21-.403.188-.403-.88-.043-1.781.636-2.033.551-1.152-.402.649-.678 1.425-1.907 1.425-2.267.0-.063-.314.042-.671.233-.377.212-1.215.53-1.844.72l-1.131.361-1.027-.7c-.566-.381-1.361-.805-1.781-.932C39.766 21.902 38.131 21.944 37.167 22.283zM33 64C16.432 64 3 50.569 3 34S16.432 4 33 4s30 13.431 30 30S49.568 64 33 64z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span><span class=new-window><svg height="8" style="enable-background:new 0 0 1000 1000" viewBox="0 0 1e3 1e3" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M598 128h298v298h-86V274L392 692l-60-60 418-418H598v-86zM810 810V512h86v298c0 46-40 86-86 86H214c-48 0-86-40-86-86V214c0-46 38-86 86-86h298v86H214v596h596z" style="fill-rule:evenodd;clip-rule:evenodd"/></svg></span></a></div></div></div></footer></body></html>