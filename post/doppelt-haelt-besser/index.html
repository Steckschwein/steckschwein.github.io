<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Doppelt hält besser - Steckschwein</title>
<script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title=Steckschwein rel=home><div class="logo__item logo__text"><div class=logo__title>Steckschwein</div><div class=logo__tagline>An 8bit computer for the 21st century</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/about/><span class=menu__text>About</span></a></li><li class=menu__item><a class=menu__link href=/><span class=menu__text>Blog</span></a></li><li class=menu__item><a class=menu__link href=/hardware/><span class=menu__text>Hardware</span></a></li><li class=menu__item><a class=menu__link href=/software/><span class=menu__text>Software</span></a></li><li class=menu__item><a class=menu__link href=/resources/><span class=menu__text>Resources</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Doppelt hält besser</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 110 28 1 1 0 010-28m0 3a3 3 0 100 22 3 3 0 000-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class=meta__text datetime=2014-02-22T00:00:00Z>February 22, 2014</time></div></div></header><div class="content post__content clearfix"><p>Damit sich ein &ldquo;Steckschwein&rdquo; nicht so einsam fühlt, haben wir das ganze nochmal geklont. Jetzt hat jeder sein eigenes Steckschwein und kann daran rumschrauben oder besser gesagt rumstecken.</p><p>Da wir das Tooling &ldquo;leichtgewichtig&rdquo; halten wollen, gabs auch gleich ein kleines Problem zu lösen. Die Dekoder-Logik für den GAL wurde bisher in VHDL definiert und mit dem Hersteller-Produkt <a href=http://www.latticesemi.com/ispleverclassic>http://www.latticesemi.com/ispleverclassic</a> ein entsprechendes JEDEC-File erzeugt. Das war uns dann doch viel zu unhandlich und wir haben uns nach Alternativen umgetan. Die Wahl fiel auf <a href=https://github.com/daveho/GALasm>https://github.com/daveho/GALasm</a>, ein kleines aber feines Tool mit dem aus einigen booleschen Ausdrücken für die Dekoder-Logik genauso gut ein JEDEC-File erzeugt werden kann.</p><pre tabindex=0><code>GAL22V10    ; first line : used GAL 8Bit Dekoder    
            ; second line: any text (max. 8 char.)

; PIN assignment 
; G1       ; A15 of 6502 (Pin 25) 
A2       ; A14 of 6502 (Pin 24) 
A1       ; A13 of 6502 (Pin 23) 
A0       ; A12 of 6502 (Pin 22) 
B0       ; A08 of 6502 (Pin 20) 
B1       ; A09 of 6502 (Pin 19) 
B2       ; A10 of 6502 (Pin 18) 
B3       ; A11 of 6502 (Pin 17) 
RW       ; RW of 6502 (Pin 34) 
PHI2     ; PHI2 of 6502 (Pin 39) 
NC 
GND 
NC 
CSROM    ;CS signal for ROM at $e000-$ffff 
OE 
WE       ;with PHI2 synchronized WE 
CSHIRAM  ;CS for ram between  $8000-$cfff 
CSACIA   ;6551 ACIA   at $d000 
CSVIA    ;6522 VIA    at $d100 
ELCD     ;LCD-Display at $d200 
VDPCSR   ;Read VDP at $d400 
VDPCSW   ;Write VDP at $d400 
CSUART   ;CS for UART at $d300 
VCC 
; 
;  boolean expressions 
; 
OE       = /RW  ; - output enable (active low, read from adress) 
/WE      = /RW * PHI2     ; - write enable, combined with PHI2 (Pin 39) for synchronisation 
/CSHIRAM = G1*/A2         ; $8000-$cfff + G1\*/A1\*/A0 
/CSROM   = G1*A2*A1*A0    ; $e000-$ffff + G1\*A2\*A1\*/A0 
/CSACIA  = G1 * A2*/A1*A0 * /B3*/B2*/B1*/B0  ; $d000 
/CSVIA   = G1 * A2*/A1*A0 * /B3*/B2*/B1*B0   ; $d100 
ELCD     = PHI2 * G1 * A2*/A1*A0 * /B3*/B2*B1*/B0  ; $d200 - LCD-Display at $d200 
/CSUART  = G1 * A2*/A1*A0* /B3*/B2*B1*B0           ; $d300 - UART
</code></pre><p>Mehr ist&rsquo;s dann auch nicht, ganz oben der Typ des GAL&rsquo;s in dem Fall ein 10-er, d.h. 10-Input, 10-Output-Pins. Darunter das PIN-Assignment, einfach in aufsteigender Reihenfolge deklarieren, also Pin1 - G1, Pin2 A2 usw.. bis VCC Pin 24. Dann noch die Boolschen-Ausdrücke, wobei * ein AND darstellt und + ein logisches OR. Negation mit /. Compiler anwerfen mittels.</p><p>Jetzt noch das ganze auf den GAL brutzeln, am besten mit dem Universal programmer TL866C und schon läuft&rsquo;s.</p></div></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__links><a class=footer__link href=/impressum/>Impressum</a></div><div class=footer__copyright>&copy; 2025 Steckschwein.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>