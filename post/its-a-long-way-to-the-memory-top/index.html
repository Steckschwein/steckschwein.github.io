<!doctype html><html class=no-js lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>It's a Long Way to the Memory Top - </title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content><meta property="og:url" content="https://www.steckschwein.de/post/its-a-long-way-to-the-memory-top/"><meta property="og:title" content="It's a Long Way to the Memory Top"><meta property="og:description" content="In preparation for the build of our new CPU-Board, we purchased two WDC 65c02 in PLCC44 package from some eBay vendor. On arrival, the first interesting thing is the way they were packaged. No anti esd packaging, only a plastic bag, which we found sketchy enough to post on Twitter.
Next, WDC reacted to that tweet, stating that these might be not genuine or be at least very old.
{{/< tweet user=“steckschwein” id=“1532446031127904256” >/}}"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-06-28T00:00:00+00:00"><meta property="article:modified_time" content="2022-06-28T00:00:00+00:00"><meta property="article:tag" content="Mmu"><meta property="article:tag" content="Ram"><meta property="article:tag" content="Cpld"><meta property="article:tag" content="Plcc"><meta itemprop=name content="It's a Long Way to the Memory Top"><meta itemprop=description content="In preparation for the build of our new CPU-Board, we purchased two WDC 65c02 in PLCC44 package from some eBay vendor. On arrival, the first interesting thing is the way they were packaged. No anti esd packaging, only a plastic bag, which we found sketchy enough to post on Twitter.
Next, WDC reacted to that tweet, stating that these might be not genuine or be at least very old.
{{/< tweet user=&ldquo;steckschwein&rdquo; id=&ldquo;1532446031127904256&rdquo; >/}}"><meta itemprop=datePublished content="2022-06-28T00:00:00+00:00"><meta itemprop=dateModified content="2022-06-28T00:00:00+00:00"><meta itemprop=wordCount content="505"><meta itemprop=keywords content="Mmu,Ram,Cpld,Plcc"><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=/css/style.css><link rel="shortcut icon" href=/favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=/ title=Steckschwein rel=home><div class="logo__item logo__text"><div class=logo__title>Steckschwein</div><div class=logo__tagline>An 8bit computer for the 21st century</div></div></a></div><nav class=menu><button class=menu__btn aria-haspopup=true aria-expanded=false tabindex=0>
<span class=menu__btn-title tabindex=-1>Menu</span></button><ul class=menu__list><li class=menu__item><a class=menu__link href=/about/><span class=menu__text>About</span></a></li><li class=menu__item><a class=menu__link href=/><span class=menu__text>Blog</span></a></li><li class=menu__item><a class=menu__link href=/hardware/><span class=menu__text>Hardware</span></a></li><li class=menu__item><a class=menu__link href=/software/><span class=menu__text>Software</span></a></li><li class=menu__item><a class=menu__link href=/resources/><span class=menu__text>Resources</span></a></li><li class=menu__item><a class=menu__link href=/impressum/><span class=menu__text>Impressum</span></a></li></ul></nav></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>It's a Long Way to the Memory Top</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0a14 14 0 110 28 1 1 0 010-28m0 3a3 3 0 100 22 3 3 0 000-22m1 4h-2v8.4l6.8 4.4L22 18l-6-3.8z"/></svg><time class=meta__text datetime=2022-06-28T00:00:00Z>June 28, 2022</time></div></div></header><div class="content post__content clearfix"><p>In preparation for the build of our new CPU-Board, we purchased two WDC 65c02 in PLCC44 package from some eBay vendor.
On arrival, the first interesting thing is the way they were packaged. No anti esd packaging, only a plastic bag, which we found sketchy enough to post on Twitter.</p><p>Next, WDC reacted to that tweet, stating that these might be not genuine or be at least very old.</p><p>{{/<em>&lt; tweet user=&ldquo;steckschwein&rdquo; id=&ldquo;1532446031127904256&rdquo; ></em>/}}</p><p>At least they did arrive in time so we finally could assemble the first new CPU board. This board marks a lot of firsts for us:</p><ol><li>our first 4 layer board</li><li>first time using PLCC chips</li><li>first autorouted board</li><li>first time using a CPLD (Xilinx XC9572 (PLCC84))</li><li>first time making a board without having breadboarded everything first</li><li>first time following a lot of people’s advice to put bus transceivers between the CPU board and the rest of the system</li></ol><p><img alt="New CPU Board with 512k RAM" src=/post/its-a-long-way-to-the-memory-top/images/512k_cpu_board.jpg title="New CPU Board with 512k RAM"></p><p>With so many degrees of freedom, we could not be sure what to expect at first power up. We modified the BIOS to only inititalize the on board UART (another first, CPU board with UART..) and output some characters on the serial interface.
Ideally, the BIOS would start up and send something.</p><p>But living in a non ideal world, nothing visible happened.
To detect any signs of life, we had to proceed using oscilloscope and logic analyzer only to find the bus was completely dead. We spent quite a while troubleshooting, and identified the RDY generator inside the CPLD as the first culprit. After disabling the latter, and continuing with a slower clock speed, we at least had activity on the bus, but still nothing on the serial interface.</p><p>Scope and logic analyzer readings still were inconclusive at best. When trying to observe the VPB pin with the scope, we noticed that this pin seemed to be dead. Which is odd, because it shoud have shown some activity at least after the RESET-pulse. Also, when observing the address bus, A0 did seem to be always high.. highly unlikely for an address line, especially for such a low one.</p><p>Back to the sketchy CPUs. Are they 65C02s at all?
Measuring Pin 43(PHI2 OUT) and Pin 4 (PHI1 out) showed us a clock signal there. Also, the SYNC Signal (Pin 8) showed some activity. So the chip did seem to be something 6502ish..
We then compared the PLCC44 pinouts from the WDC datasheet to one from Rockwell.</p><p><img src=/post/its-a-long-way-to-the-memory-top/images/plcc44_rockwell.png title="PLCC44 Rockwell">
<img src=/post/its-a-long-way-to-the-memory-top/images/plcc44_wdc.png title="PLCC44 WDC"></p><p>Pin 2 (VPB on WDC) on the Rockwell chip is NC.. which explains why we did not measure anything there. Also, on the Rockwell chip, Pin 10 is Vcc, while the same pin on WDC is A0..
So, our WDC is indeed not genuine, and appears to be a relabeled Rockwell 65C02 (or another non-WDC manufacturer, we only had the Rockwell datasheet to compare with). The CPU itself seems to be ok, but the (subtle) pinout differences make it impossible to use it on our board. Time to order some fresh ones from mouser.com</p><p>To be continued…</p></div><footer class=post__footer><div class="post__tags tags clearfix"><svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M4 0h8s2 0 4 2l15 15s2 2 0 4L21 31s-2 2-4 0L2 16s-2-2-2-4V3s0-3 4-3m3 10a3 3 0 000-6 3 3 0 000 6"/></svg><ul class=tags__list><li class=tags__item><a class="tags__link btn" href=/tags/mmu/ rel=tag>mmu</a></li><li class=tags__item><a class="tags__link btn" href=/tags/ram/ rel=tag>ram</a></li><li class=tags__item><a class="tags__link btn" href=/tags/cpld/ rel=tag>cpld</a></li><li class=tags__item><a class="tags__link btn" href=/tags/plcc/ rel=tag>plcc</a></li></ul></div></footer></article></main></div></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2024 .
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=/js/menu.js></script></body></html>