<!doctype html><html lang=en><head><title>Das Schwein kann singen... :: Steckschwein</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Das Steckschwein hat nun fast alle notwendigen Komponenten, um mit der Außenwelt zu kommunizieren, aber auch nur fast. Bisher ist es noch stumm, aber das sollte sich heute ändern. Wir haben hier noch ein paar YM3812 Schippse nebst benötigter DAC (YM3014B) rumliegen, also haben wir überlegt dem Schwein einfach das singen beizubringen. Wir wollen Musik und Sounds haben.
Der YM3812 ist ein sehr verbreiteter Chip, der sich auf OPL2 beschränkt, für unsere Zwecke aber völlig ausreichend ist."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://beta.steckschwein.de/post/das-schwein-kann-singen/><link rel=stylesheet href=https://beta.steckschwein.de/assets/style.css><link rel=stylesheet href=https://beta.steckschwein.de/assets/green.css><link rel=apple-touch-icon href=https://beta.steckschwein.de/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=https://beta.steckschwein.de/img/favicon/green.png><meta name=twitter:card content="summary"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="Das Schwein kann singen..."><meta property="og:description" content="Das Steckschwein hat nun fast alle notwendigen Komponenten, um mit der Außenwelt zu kommunizieren, aber auch nur fast. Bisher ist es noch stumm, aber das sollte sich heute ändern. Wir haben hier noch ein paar YM3812 Schippse nebst benötigter DAC (YM3014B) rumliegen, also haben wir überlegt dem Schwein einfach das singen beizubringen. Wir wollen Musik und Sounds haben.
Der YM3812 ist ein sehr verbreiteter Chip, der sich auf OPL2 beschränkt, für unsere Zwecke aber völlig ausreichend ist."><meta property="og:url" content="https://beta.steckschwein.de/post/das-schwein-kann-singen/"><meta property="og:site_name" content="Steckschwein"><meta property="og:image" content="https://beta.steckschwein.de/img/favicon/green.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:section" content="opl2"><meta property="article:section" content="sound"><meta property="article:section" content="ym3812"><meta property="article:published_time" content="2015-01-04 00:00:00 +0000 UTC"></head><body class=green><div class="container full headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>Steckschwein</div></a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/about/>About</a></li><li><a href=/hardware/>Hardware</a></li><li><a href=/software/>Software</a></li><li><a href=/impressum/>Impressum</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/about/>About</a></li><li><a href=/hardware/>Hardware</a></li><li><a href=/software/>Software</a></li><li><a href=/impressum/>Impressum</a></li></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href=https://beta.steckschwein.de/post/das-schwein-kann-singen/>Das Schwein kann singen&mldr;</a></h1><div class=post-meta><span class=post-date>2015-01-04</span></div><div class=post-content><div><p>Das Steckschwein hat nun fast alle notwendigen Komponenten, um mit der Außenwelt zu kommunizieren, aber auch nur fast. Bisher ist es noch stumm, aber das sollte sich heute ändern. Wir haben hier noch ein paar YM3812 Schippse nebst benötigter DAC (YM3014B) rumliegen, also haben wir überlegt dem Schwein einfach das singen beizubringen. Wir wollen Musik und Sounds haben.</p><p>Der <a href=http://de.wikipedia.org/wiki/Yamaha_YM3812>YM3812</a> ist ein sehr verbreiteter Chip, der sich auf OPL2 beschränkt, für unsere Zwecke aber völlig ausreichend ist. Nur wie stellt man das wieder an? Das <a href=http://www.vgmpf.com/Docs/YM3812%20-%20Manual.pdf>Datenblatt</a> ist ziemlich dünn, reicht aber aus um klar zu machen was wir alles brauchen.</p><ul><li>Decoder</li><li>dedizierter Takt, optimalerweise 3,58 Mhz (beknackt)</li><li>DAC (YM3014) der die 16Bit Floating Point des YM3812 in eine Spannung wandelt</li><li>Opamps</li></ul><h4 id=decoder>Decoder<a href=#decoder class=hanchor arialabel=Anchor>&#8983;</a></h4><p>Das Design des Steckschwein ist ja mittlerweile sehr vereinfacht, und wir können den YM3812 ziemlich einfach mit einem entsprechenden 7400 an den Bus hängen. Wie beim VDP ist auch beim YM3812 ein dedizierter Read- und Write-Pin vorgesehen und zusätzlich - warum auch immer - noch ein dediziertes CS (chip select). Das CS wird über den GAL erzeugt und wird direkt an Pin 7 des YM3812 geführt. Für unseren ersten Test nehmen wir den Adressbereich $0230-$023f. Wir brauchen laut Datenblatt 2 Adressen, einmal Register-Select und einmal Register-Write. Wir wählen $0230 für den Register-Select und $0231 für den Register-Write, A0 (Adressleitung) wird direkt an Pin 4 des YM3812 gegeben. /WR, /RD erzeugen wir über einen 7400 ohne PHI2.</p><h4 id=dedizierter-takt>Dedizierter Takt<a href=#dedizierter-takt class=hanchor arialabel=Anchor>&#8983;</a></h4><p>Das ist schon ehern spannend, zumal ich hier gerade keinen 3.58Mhz Quartz rumliegen habe. Naja, ich hab noch die 10,738Mhz Quartze für den VDP, aber ne Teilerschaltung - Div by 3 - basteln möchte ich jetzt auch nicht. Man könnte für nen Test noch den GAL dafür verwenden. Ich beschließe aber, dass auch dass noch zu aufwändig ist für nen ersten Test und nehme einfach einen 12Mhz Oszillator und den bewährten LS393. Ich teile die 12Mhz durch 4 und führe die gewonnenen 3Mhz an den YM3812. Muss dem reichen&mldr;.</p><h4 id=dac-und-opamp>DAC und Opamp<a href=#dac-und-opamp class=hanchor arialabel=Anchor>&#8983;</a></h4><p>Der DAC und der Opamp wird wie im Datenblatt erst einmal mit dem ganz minimalistischem Aufbau ohne RC-Filter usw. an den YM3812 angeschlossen. Noch nen Kabel dran und in den Audio-Eingang des 1084S Monitor gesteckt. Fertig, fehlt nur noch die Software.</p><div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/cA7oGLFuxXQ style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div><p>to be continued&mldr;</p></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://beta.steckschwein.de/post/bootschwein/><span class=button__icon>←</span>
<span class=button__text>Bootschwein</span></a></span>
<span class="button next"><a href=https://beta.steckschwein.de/post/echte-zeit/><span class=button__text>Echte Zeit</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2022 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script src=https://beta.steckschwein.de/assets/main.js></script>
<script src=https://beta.steckschwein.de/assets/prism.js></script></div></body></html>