<!doctype html><html lang=en><head><title>It's a Long Way to the Memory Top :: Steckschwein</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="In preparation for the build of our new CPU-Board, we purchased two WDC 65c02 in PLCC44 package from some eBay vendor. On arrival, the first interesting thing is the way they were packaged. No anti esd packaging, only a plastic bag, which we found sketchy enough to post on Twitter.
Next, WDC reacted to that tweet, stating that these might be not genuine or be at least very old.
So much for ESD safe packaging pic."><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://www.steckschwein.de/post/its-a-long-way-to-the-memory-top/><link rel=stylesheet href=https://www.steckschwein.de/assets/style.css><link rel=stylesheet href=https://www.steckschwein.de/assets/green.css><link rel=stylesheet href=https://www.steckschwein.de/style.css><link rel=apple-touch-icon href=https://www.steckschwein.de/img/apple-touch-icon-192x192.png><link rel="shortcut icon" href=https://www.steckschwein.de/img/favicon/green.png><meta name=twitter:card content="summary"><meta name=twitter:site content="@steckschwein"><meta name=twitter:creator content><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="It's a Long Way to the Memory Top"><meta property="og:description" content="In preparation for the build of our new CPU-Board, we purchased two WDC 65c02 in PLCC44 package from some eBay vendor. On arrival, the first interesting thing is the way they were packaged. No anti esd packaging, only a plastic bag, which we found sketchy enough to post on Twitter.
Next, WDC reacted to that tweet, stating that these might be not genuine or be at least very old.
So much for ESD safe packaging pic."><meta property="og:url" content="https://www.steckschwein.de/post/its-a-long-way-to-the-memory-top/"><meta property="og:site_name" content="Steckschwein"><meta property="og:image" content="https://www.steckschwein.de/img/favicon/green.png"><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><meta property="article:published_time" content="2022-06-28 00:00:00 +0000 UTC"><meta name=google-site-verification content="h4ZvO_kCiqz0Kjn0VkOKXvui3t2_-dYAoAzrCy6mQNM"></head><body class=green><div class="container center headings--one-size"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>Steckschwein</div></a></div><div class=menu-trigger>menu</div></div><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=/>Blog</a></li><li><a href=/about/>About</a></li><li><a href=/hardware/>Hardware</a></li><li><a href=/software/>Software</a></li><li><a href=/impressum/>Impressum</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=/>Blog</a></li><li><a href=/about/>About</a></li><li><a href=/hardware/>Hardware</a></li><li><a href=/software/>Software</a></li><li><a href=/impressum/>Impressum</a></li></ul></nav></header><div class=content><div class=post><h1 class=post-title><a href=https://www.steckschwein.de/post/its-a-long-way-to-the-memory-top/>It&rsquo;s a Long Way to the Memory Top</a></h1><div class=post-meta><span class=post-date>2022-06-28
[Updated: 2022-06-28]</span></div><div class=post-content><div><p>In preparation for the build of our new CPU-Board, we purchased two WDC 65c02 in PLCC44 package from some eBay vendor.
On arrival, the first interesting thing is the way they were packaged. No anti esd packaging, only a plastic bag, which we found sketchy enough to post on Twitter.</p><p>Next, WDC reacted to that tweet, stating that these might be not genuine or be at least very old.</p><blockquote class=twitter-tweet><p lang=en dir=ltr>So much for ESD safe packaging <a href=https://t.co/0bxPEAJ7eo>pic.twitter.com/0bxPEAJ7eo</a></p>&mdash; Steckschwein (@steckschwein) <a href="https://twitter.com/steckschwein/status/1532446031127904256?ref_src=twsrc%5Etfw">June 2, 2022</a></blockquote><script async src=https://platform.twitter.com/widgets.js></script><p>At least they did arrive in time so we finally could assemble the first new CPU board. This board marks a lot of firsts for us:</p><ol><li>our first 4 layer board</li><li>first time using PLCC chips</li><li>first autorouted board</li><li>first time using a CPLD (Xilinx XC9572 (PLCC84))</li><li>first time making a board without having breadboarded everything first</li><li>first time following a lot of people’s advice to put bus transceivers between the CPU board and the rest of the system</li></ol><p><img src=images/512k_cpu_board.jpg alt="New CPU Board with 512k RAM" title="New CPU Board with 512k RAM"></p><p>With so many degrees of freedom, we could not be sure what to expect at first power up. We modified the BIOS to only inititalize the on board UART (another first, CPU board with UART..) and output some characters on the serial interface.
Ideally, the BIOS would start up and send something.</p><p>But living in a non ideal world, nothing visible happened.
To detect any signs of life, we had to proceed using oscilloscope and logic analyzer only to find the bus was completely dead. We spent quite a while troubleshooting, and identified the RDY generator inside the CPLD as the first culprit. After disabling the latter, and continuing with a slower clock speed, we at least had activity on the bus, but still nothing on the serial interface.</p><p>Scope and logic analyzer readings still were inconclusive at best. When trying to observe the VPB pin with the scope, we noticed that this pin seemed to be dead. Which is odd, because it shoud have shown some activity at least after the RESET-pulse. Also, when observing the address bus, A0 did seem to be always high.. highly unlikely for an address line, especially for such a low one.</p><p>Back to the sketchy CPUs. Are they 65C02s at all?
Measuring Pin 43(PHI2 OUT) and Pin 4 (PHI1 out) showed us a clock signal there. Also, the SYNC Signal (Pin 8) showed some activity. So the chip did seem to be something 6502ish..
We then compared the PLCC44 pinouts from the WDC datasheet to one from Rockwell.</p><p><img src=images/plcc44_rockwell.png alt title="PLCC44 Rockwell">
<img src=images/plcc44_wdc.png alt title="PLCC44 WDC"></p><p>Pin 2 (VPB on WDC) on the Rockwell chip is NC.. which explains why we did not measure anything there. Also, on the Rockwell chip, Pin 10 is Vcc, while the same pin on WDC is A0..
So, our WDC is indeed not genuine, and appears to be a relabeled Rockwell 65C02 (or another non-WDC manufacturer, we only had the Rockwell datasheet to compare with). The CPU itself seems to be ok, but the (subtle) pinout differences make it impossible to use it on our board. Time to order some fresh ones from mouser.com</p><p>To be continued…</p></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button next"><a href=https://www.steckschwein.de/post/512k-ought-to-be-enough-for-anybody/><span class=button__text>512k Ought to Be Enough for Anybody</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2022 Powered by <a href=http://gohugo.io>Hugo</a></span>
<span>:: Theme made by <a href=https://twitter.com/panr>panr</a></span></div></div></footer><script src=https://www.steckschwein.de/assets/main.js></script>
<script src=https://www.steckschwein.de/assets/prism.js></script></div></body></html>